{"version":3,"file":"Spinner.stories-8lGMk_5P.js","sources":["../../packages/platform-ui/src/stories/Components/Spinner.stories.tsx"],"sourcesContent":["import type { Meta, StoryObj } from '@storybook/react';\nimport React, { useState } from 'react';\nimport { Button, Spinner } from '../../index';\n\n/**\n * Spinner component from Digdir Designsystemet.\n *\n * Spinner for indicating loading states and async operations.\n *\n * @see https://designsystemet.no/en/components/docs/spinner/overview\n */\nconst meta: Meta<typeof Spinner> = {\n  title: 'Components/Spinner',\n  component: Spinner,\n  parameters: {\n    docs: {\n      description: {\n        component: `\nSpinner is a loading indicator that shows users that content is being loaded or processed. It provides visual feedback during asynchronous operations.\n\n## Variants\n\n- **Default** - Standard spinner\n- **With label** - Spinner with descriptive text\n- **Inline** - Small spinner for inline loading states\n- **Full page** - Centered spinner for page-level loading\n\n## Sizes\n\nAvailable in three sizes: **sm**, **md** (default), **lg**.\n\n## Colors\n\nAvailable colors: **neutral**, **accent**.\n\n## When to Use\n\n- Loading data from API or server\n- Processing user actions or form submissions\n- Waiting for async operations to complete\n- Initial page or component load\n- Refreshing or updating content\n- File uploads or downloads\n\n## Best Practices\n\n### Do\n- Always include descriptive aria-label\n- Pair with loading text when space allows\n- Use appropriate size for context\n- Show spinner only when necessary\n- Remove spinner when content loads\n- Use consistent spinner placement\n- Provide estimated time for long operations\n\n### Don't\n- Don't use spinner without aria-label\n- Don't show spinner for very fast operations (< 300ms)\n- Don't use multiple spinners in same view\n- Don't block entire interface unnecessarily\n- Don't use spinner as decoration\n- Don't forget to remove spinner on error\n\n## Usage Patterns\n\n### Basic Spinner\n\\`\\`\\`tsx\n<Spinner aria-label=\"Loading content\" />\n\\`\\`\\`\n\n### Spinner with Text\n\\`\\`\\`tsx\n<div style={{ display: 'flex', alignItems: 'center', gap: 'var(--ds-spacing-2)' }}>\n  <Spinner data-size=\"sm\" aria-label=\"Loading\" />\n  <span>Loading content...</span>\n</div>\n\\`\\`\\`\n\n### Inline Spinner (in button)\n\\`\\`\\`tsx\n<Button disabled>\n  <Spinner data-size=\"sm\" aria-label=\"Saving\" />\n  Saving...\n</Button>\n\\`\\`\\`\n\n### Full Page Loading\n\\`\\`\\`tsx\n<div style={{ \n  display: 'flex', \n  justifyContent: 'center', \n  alignItems: 'center',\n  minHeight: '400px'\n}}>\n  <Spinner data-size=\"lg\" aria-label=\"Loading page\" />\n</div>\n\\`\\`\\`\n\n### Size Variants\n\\`\\`\\`tsx\n<Spinner data-size=\"sm\" aria-label=\"Loading\" />\n<Spinner data-size=\"md\" aria-label=\"Loading\" />\n<Spinner data-size=\"lg\" aria-label=\"Loading\" />\n\\`\\`\\`\n\n## Anti-Patterns\n\n### Anti-pattern: No Accessible Label\nSpinners without aria-label leave screen reader users without feedback.\n\n### Anti-pattern: Spinner for Fast Operations\nShowing spinner for operations under 300ms creates unnecessary visual noise.\n\n### Anti-pattern: Multiple Spinners\nMultiple spinners in one view confuses users about what's loading.\n\n### Anti-pattern: Permanent Spinners\nForgetting to remove spinner on completion or error frustrates users.\n\n## Accessibility\n\n### Screen Readers\n- Spinner role is announced as \"loading\" or \"busy\"\n- aria-label provides context about what's loading\n- Loading state is announced to screen readers\n- Completion should be announced via aria-live region\n\n### WCAG 2.1 AA Compliance\n- **Text alternative**: aria-label required for all spinners\n- **Status messages**: Loading state communicated to assistive technology\n- **Focus management**: Focus should not be trapped during loading\n- **Timeout**: Provide way to cancel long operations\n- **Color not sole indicator**: Animation provides loading indication\n\n### Spinner with Context\nProvide specific loading context:\n\\`\\`\\`tsx\n<Spinner aria-label=\"Loading user profile data\" />\n\\`\\`\\`\n\n### Announcing Completion\nAnnounce when loading completes:\n\\`\\`\\`tsx\n{isLoading ? (\n  <Spinner aria-label=\"Loading content\" />\n) : (\n  <div role=\"status\" aria-live=\"polite\">\n    Content loaded successfully\n  </div>\n)}\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    'data-size': {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n      description: 'Size variant',\n      table: {\n        defaultValue: { summary: 'md' },\n      },\n    },\n    'data-color': {\n      control: 'select',\n      options: ['neutral', 'accent'],\n      description: 'Color variant',\n      table: {\n        defaultValue: { summary: 'neutral' },\n      },\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj;\n\nexport const Default: Story = {\n  render: () => <Spinner aria-label=\"Loading\" />,\n};\n\nexport const WithLabel: Story = {\n  render: () => <Spinner aria-label=\"Loading content...\" />,\n};\n\nexport const Sizes: Story = {\n  render: () => (\n    <div style={{ display: 'flex', gap: 'var(--ds-spacing-4)', alignItems: 'center' }}>\n      <Spinner data-size=\"sm\" aria-label=\"Loading\" />\n      <Spinner data-size=\"md\" aria-label=\"Loading\" />\n      <Spinner data-size=\"lg\" aria-label=\"Loading\" />\n    </div>\n  ),\n};\n\nexport const Colors: Story = {\n  render: () => (\n    <div style={{ display: 'flex', gap: 'var(--ds-spacing-4)', alignItems: 'center' }}>\n      <Spinner data-color=\"neutral\" aria-label=\"Loading\" />\n      <Spinner data-color=\"accent\" aria-label=\"Loading\" />\n    </div>\n  ),\n};\n\nexport const InButton: Story = {\n  render: () => (\n    <Button loading disabled type=\"button\">\n      Loading...\n    </Button>\n  ),\n};\n\nexport const LoadingState: Story = {\n  render: () => (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: 'var(--ds-spacing-4)',\n        padding: 'var(--ds-spacing-10)',\n        border: '1px dashed var(--ds-color-neutral-border-default)',\n        borderRadius: 'var(--ds-border-radius-lg)',\n      }}\n    >\n      <Spinner data-size=\"lg\" aria-label=\"Loading data\" />\n      <span style={{ color: 'var(--ds-color-neutral-text-subtle)' }}>Loading data...</span>\n    </div>\n  ),\n};\n\n/**\n * All variants overview\n */\nexport const AllVariants: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-6)' }}>\n      <div>\n        <h3 style={{ marginBottom: 'var(--ds-spacing-3)', fontSize: 'var(--ds-font-size-4)' }}>\n          Sizes\n        </h3>\n        <div style={{ display: 'flex', gap: 'var(--ds-spacing-4)', alignItems: 'center' }}>\n          <Spinner data-size=\"sm\" aria-label=\"Small spinner\" />\n          <Spinner data-size=\"md\" aria-label=\"Medium spinner\" />\n          <Spinner data-size=\"lg\" aria-label=\"Large spinner\" />\n        </div>\n      </div>\n      <div>\n        <h3 style={{ marginBottom: 'var(--ds-spacing-3)', fontSize: 'var(--ds-font-size-4)' }}>\n          Colors\n        </h3>\n        <div style={{ display: 'flex', gap: 'var(--ds-spacing-4)', alignItems: 'center' }}>\n          <Spinner data-color=\"neutral\" aria-label=\"Neutral spinner\" />\n          <Spinner data-color=\"accent\" aria-label=\"Accent spinner\" />\n        </div>\n      </div>\n      <div>\n        <h3 style={{ marginBottom: 'var(--ds-spacing-3)', fontSize: 'var(--ds-font-size-4)' }}>\n          In Button\n        </h3>\n        <Button loading disabled type=\"button\">\n          Loading...\n        </Button>\n      </div>\n    </div>\n  ),\n};\n"],"names":["meta","title","component","Spinner","parameters","docs","description","tags","argTypes","control","options","table","defaultValue","summary","Default","render","jsx","WithLabel","Sizes","jsxs","display","gap","alignItems","Colors","InButton","Button","LoadingState","flexDirection","justifyContent","padding","border","borderRadius","color","AllVariants","marginBottom","fontSize","source","originalSource","story"],"mappings":"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"}