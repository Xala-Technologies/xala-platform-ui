{"version":3,"file":"Modal.stories-B23HXw0n.js","sources":["../../packages/platform-ui/src/composed/Modal.tsx","../../packages/platform-ui/src/stories/Composed/Modal.stories.tsx"],"sourcesContent":["/**\n * Modal Component\n *\n * A generic, reusable modal component with customizable sizes,\n * header, footer, and content areas.\n *\n * @module @xala-technologies/platform/ui/composed/Modal\n */\n\nimport React, { useEffect, useRef, useCallback, type ReactNode } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Heading, Button } from '@digdir/designsystemet-react';\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport type ModalSize = 'sm' | 'md' | 'lg' | 'xl' | 'full';\n\nexport interface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: ReactNode;\n  children: ReactNode;\n  footer?: ReactNode;\n  size?: ModalSize;\n  closeOnOverlayClick?: boolean;\n  closeOnEscape?: boolean;\n  showCloseButton?: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n  'aria-label'?: string;\n  'aria-describedby'?: string;\n}\n\n// =============================================================================\n// Constants\n// =============================================================================\n\nconst sizeMap: Record<ModalSize, string> = {\n  sm: '400px',\n  md: '560px',\n  lg: '720px',\n  xl: '920px',\n  full: '95vw',\n};\n\n// =============================================================================\n// Icons\n// =============================================================================\n\nfunction CloseIcon() {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n      <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n    </svg>\n  );\n}\n\n// =============================================================================\n// Modal Component\n// =============================================================================\n\nexport function Modal({\n  isOpen,\n  onClose,\n  title,\n  children,\n  footer,\n  size = 'md',\n  closeOnOverlayClick = true,\n  closeOnEscape = true,\n  showCloseButton = true,\n  className,\n  style,\n  'aria-label': ariaLabel,\n  'aria-describedby': ariaDescribedBy,\n}: ModalProps): React.ReactElement | null {\n  const dialogRef = useRef<HTMLDivElement>(null);\n  const previousFocusRef = useRef<HTMLElement | null>(null);\n\n  const handleEscape = useCallback(\n    (e: KeyboardEvent) => {\n      if (closeOnEscape && e.key === 'Escape') {\n        onClose();\n      }\n    },\n    [closeOnEscape, onClose]\n  );\n\n  const handleOverlayClick = useCallback(\n    (e: React.MouseEvent) => {\n      if (closeOnOverlayClick && e.target === e.currentTarget) {\n        onClose();\n      }\n    },\n    [closeOnOverlayClick, onClose]\n  );\n\n  useEffect(() => {\n    if (isOpen) {\n      previousFocusRef.current = document.activeElement as HTMLElement;\n      document.addEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'hidden';\n      dialogRef.current?.focus();\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = '';\n      previousFocusRef.current?.focus();\n    };\n  }, [isOpen, handleEscape]);\n\n  if (!isOpen) return null;\n\n  const modalContent = (\n    <div\n      style={{\n        position: 'fixed',\n        inset: 0,\n        zIndex: 9998,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: 'var(--ds-spacing-4)',\n        backgroundColor: 'var(--ds-color-neutral-background-backdrop)',\n        backdropFilter: 'blur(2px)',\n      }}\n      onClick={handleOverlayClick}\n    >\n      <div\n        ref={dialogRef}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label={ariaLabel}\n        aria-describedby={ariaDescribedBy}\n        tabIndex={-1}\n        className={className}\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          width: '100%',\n          maxWidth: sizeMap[size],\n          maxHeight: '90vh',\n          backgroundColor: 'var(--ds-color-neutral-background-default)',\n          borderRadius: 'var(--ds-border-radius-lg)',\n          boxShadow: 'var(--ds-shadow-xl)',\n          outline: 'none',\n          overflow: 'hidden',\n          ...style,\n        }}\n      >\n        {(title || showCloseButton) && (\n          <div\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              padding: 'var(--ds-spacing-4) var(--ds-spacing-5)',\n              borderBottom: '1px solid var(--ds-color-neutral-border-subtle)',\n            }}\n          >\n            {title && (\n              <Heading\n                level={2}\n                data-size=\"md\"\n                style={{\n                  margin: 0,\n                  fontSize: 'var(--ds-font-size-lg)',\n                  fontWeight: 'var(--ds-font-weight-semibold)',\n                  color: 'var(--ds-color-neutral-text-default)',\n                }}\n              >\n                {title}\n              </Heading>\n            )}\n            {showCloseButton && (\n              <Button\n                type=\"button\"\n                onClick={onClose}\n                aria-label=\"Close modal\"\n                data-color=\"neutral\"\n                style={{\n                  marginLeft: 'auto',\n                  padding: 'var(--ds-spacing-2)',\n                  background: 'transparent',\n                  border: 'none',\n                  cursor: 'pointer',\n                  color: 'var(--ds-color-neutral-text-subtle)',\n                  borderRadius: 'var(--ds-border-radius-sm)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n              >\n                <CloseIcon />\n              </Button>\n            )}\n          </div>\n        )}\n\n        <div\n          style={{\n            flex: 1,\n            padding: 'var(--ds-spacing-5)',\n            overflowY: 'auto',\n          }}\n        >\n          {children}\n        </div>\n\n        {footer && (\n          <div\n            style={{\n              padding: 'var(--ds-spacing-4) var(--ds-spacing-5)',\n              borderTop: '1px solid var(--ds-color-neutral-border-subtle)',\n              backgroundColor: 'var(--ds-color-neutral-surface-subtle)',\n            }}\n          >\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  if (typeof window === 'undefined') return null;\n  return createPortal(modalContent, document.body);\n}\n\n// =============================================================================\n// Modal Header, Body, Footer (optional sub-components)\n// =============================================================================\n\nexport interface ModalHeaderProps {\n  children: ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport function ModalHeader({ children, className, style }: ModalHeaderProps) {\n  return (\n    <div\n      className={className}\n      style={{\n        marginBottom: 'var(--ds-spacing-4)',\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport interface ModalBodyProps {\n  children: ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport function ModalBody({ children, className, style }: ModalBodyProps) {\n  return (\n    <div className={className} style={style}>\n      {children}\n    </div>\n  );\n}\n\nexport interface ModalFooterProps {\n  children: ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n  align?: 'left' | 'center' | 'right' | 'between';\n}\n\nexport function ModalFooter({ children, className, style, align = 'right' }: ModalFooterProps) {\n  const justifyContent = {\n    left: 'flex-start',\n    center: 'center',\n    right: 'flex-end',\n    between: 'space-between',\n  }[align];\n\n  return (\n    <div\n      className={className}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent,\n        gap: 'var(--ds-spacing-3)',\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Modal;\n","import type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { useT } from '@xala-technologies/i18n';\nimport { useState } from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from '../../composed/Modal';\nimport { Button, Paragraph, Heading } from '@digdir/designsystemet-react';\n\nconst meta: Meta<typeof Modal> = {\n  title: 'Composed/Modal',\n  component: Modal,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n## Modal\n\nA generic, reusable modal component with customizable sizes, header, footer, and content areas.\n\n### Features\n- Multiple size variants (sm, md, lg, xl, full)\n- Header with title and close button\n- Footer with action buttons\n- Overlay click to close\n- Escape key to close\n- Focus management\n- Portal rendering\n\n### Usage\n\\`\\`\\`tsx\n<Modal\n  isOpen={isOpen}\n  onClose={() => setIsOpen(false)}\n  title=\"Modal Title\"\n  size=\"md\"\n>\n  Modal content\n</Modal>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  argTypes: {\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg', 'xl', 'full'],\n      description: 'Modal size',\n    },\n    closeOnOverlayClick: {\n      control: 'boolean',\n      description: 'Close when clicking overlay',\n    },\n    closeOnEscape: {\n      control: 'boolean',\n      description: 'Close on Escape key',\n    },\n    showCloseButton: {\n      control: 'boolean',\n      description: 'Show close button',\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Modal wrapper component for stories\nconst ModalWrapper = (args: any) => {\n  const t = useT();\n  const [isOpen, setIsOpen] = useState(false);\n  return (\n    <>\n      <Button onClick={() => setIsOpen(true)} data-color=\"accent\" data-size=\"medium\">\n        {t('storybook.demo.openModal')}\n      </Button>\n      <Modal {...args} isOpen={isOpen} onClose={() => setIsOpen(false)}>\n        {args.children || <Paragraph data-size=\"sm\">{t('storybook.demo.modalContent')}</Paragraph>}\n      </Modal>\n    </>\n  );\n};\n\n// Basic modal\nexport const Default: Story = {\n  render: (args) => <ModalWrapper {...args} />,\n  args: {\n    title: 'Modal Title',\n    size: 'md',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n\n// Small modal\nexport const Small: Story = {\n  render: (args) => <ModalWrapper {...args} />,\n  args: {\n    title: 'Small Modal',\n    size: 'sm',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n\n// Large modal\nexport const Large: Story = {\n  render: (args) => <ModalWrapper {...args} />,\n  args: {\n    title: 'Large Modal',\n    size: 'lg',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n\n// Extra large modal\nexport const ExtraLarge: Story = {\n  render: (args) => <ModalWrapper {...args} />,\n  args: {\n    title: 'Extra Large Modal',\n    size: 'xl',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n\n// Full width modal\nexport const FullWidth: Story = {\n  render: (args) => <ModalWrapper {...args} />,\n  args: {\n    title: 'Full Width Modal',\n    size: 'full',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n\n// With footer\nconst ModalWithFooter = (args: any) => {\n  const t = useT();\n  const [isOpen, setIsOpen] = useState(false);\n  return (\n    <>\n      <Button onClick={() => setIsOpen(true)} data-color=\"accent\" data-size=\"medium\">\n        {t('storybook.demo.openModalWithFooter')}\n      </Button>\n      <Modal\n        {...args}\n        isOpen={isOpen}\n        onClose={() => setIsOpen(false)}\n        footer={\n          <div style={{ display: 'flex', gap: 'var(--ds-spacing-2)', justifyContent: 'flex-end' }}>\n            <Button onClick={() => setIsOpen(false)} data-color=\"neutral\" data-size=\"medium\">\n              {t('platform.common.cancel')}\n            </Button>\n            <Button onClick={() => setIsOpen(false)} data-color=\"accent\" data-size=\"medium\">\n              {t('platform.common.confirm')}\n            </Button>\n          </div>\n        }\n      >\n        <Paragraph data-size=\"sm\">{t('storybook.demo.modalFooterDescription')}</Paragraph>\n      </Modal>\n    </>\n  );\n};\n\nexport const WithFooter: Story = {\n  render: (args) => <ModalWithFooter {...args} />,\n  args: {\n    title: 'Modal with Footer',\n    size: 'md',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n\n// Without close button\nexport const WithoutCloseButton: Story = {\n  render: (args) => <ModalWrapper {...args} />,\n  args: {\n    title: 'Modal without Close Button',\n    size: 'md',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: false,\n  },\n};\n\n// Without title\nexport const WithoutTitle: Story = {\n  render: (args) => <ModalWrapper {...args} />,\n  args: {\n    size: 'md',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n\n// Long content\nconst ModalWithLongContent = (args: any) => {\n  const t = useT();\n  const [isOpen, setIsOpen] = useState(false);\n  return (\n    <>\n      <Button onClick={() => setIsOpen(true)} data-color=\"accent\" data-size=\"medium\">\n        {t('storybook.demo.openModalWithLongContent')}\n      </Button>\n      <Modal {...args} isOpen={isOpen} onClose={() => setIsOpen(false)}>\n        {Array(20)\n          .fill(0)\n          .map((_, i) => (\n            <Paragraph key={i} data-size=\"sm\" style={{ marginBottom: 'var(--ds-spacing-3)' }}>\n              {t('storybook.demo.paragraphContent', { number: i + 1 })}\n            </Paragraph>\n          ))}\n      </Modal>\n    </>\n  );\n};\n\nexport const LongContent: Story = {\n  render: (args) => <ModalWithLongContent {...args} />,\n  args: {\n    title: 'Modal with Long Content',\n    size: 'md',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n\n// Using sub-components\nconst ModalWithSubComponents = (args: any) => {\n  const t = useT();\n  const [isOpen, setIsOpen] = useState(false);\n  return (\n    <>\n      <Button onClick={() => setIsOpen(true)} data-color=\"accent\" data-size=\"medium\">\n        {t('storybook.demo.openModalWithSubcomponents')}\n      </Button>\n      <Modal {...args} isOpen={isOpen} onClose={() => setIsOpen(false)}>\n        <ModalHeader>\n          <Heading level={3} data-size=\"sm\">\n            {t('storybook.demo.sectionHeader')}\n          </Heading>\n        </ModalHeader>\n        <ModalBody>\n          <Paragraph data-size=\"sm\">{t('storybook.demo.subcomponentsDescription')}</Paragraph>\n        </ModalBody>\n        <ModalFooter align=\"right\">\n          <Button onClick={() => setIsOpen(false)} data-color=\"neutral\" data-size=\"medium\">\n            {t('platform.common.cancel')}\n          </Button>\n          <Button onClick={() => setIsOpen(false)} data-color=\"accent\" data-size=\"medium\">\n            {t('platform.common.save')}\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\nexport const WithSubComponents: Story = {\n  render: (args) => <ModalWithSubComponents {...args} />,\n  args: {\n    title: 'Modal with Sub-components',\n    size: 'md',\n    closeOnOverlayClick: true,\n    closeOnEscape: true,\n    showCloseButton: true,\n  },\n};\n"],"names":["cov_1lrwjf9j80","actualCoverage","jsxs","sm","sizeMap","md","lg","xl","full","s","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","x1","jsx","y1","x2","y2","isOpen","Modal","onClose","title","footer","size","closeOnOverlayClick","closeOnEscape","showCloseButton","b","className","style","ariaLabel","ariaDescribedBy","dialogRef","previousFocusRef","useRef","handleEscape","useCallback","e","handleOverlayClick","useEffect","current","document","addEventListener","overflow","focus","_a","removeEventListener","position","inset","zIndex","display","alignItems","justifyContent","padding","backgroundColor","backdropFilter","onClick","ref","role","tabIndex","flexDirection","width","maxWidth","maxHeight","borderRadius","boxShadow","outline","borderBottom","level","Heading","margin","fontSize","fontWeight","color","type","Button","marginLeft","background","border","cursor","CloseIcon","flex","overflowY","borderTop","window","modalContent","createPortal","ModalHeader","marginBottom","ModalBody","ModalFooter","align","left","center","right","between","gap","meta","component","parameters","layout","docs","description","argTypes","control","options","tags","ModalWrapper","args","t","useT","setIsOpen","useState","Fragment","Paragraph","Default","render","Small","Large","ExtraLarge","FullWidth","ModalWithFooter","WithFooter","WithoutCloseButton","WithoutTitle","ModalWithLongContent","Array","map","_","i","number","LongContent","ModalWithSubComponents","WithSubComponents","source","originalSource"],"mappings":"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"}