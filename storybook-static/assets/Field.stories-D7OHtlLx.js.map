{"version":3,"file":"Field.stories-D7OHtlLx.js","sources":["../../packages/platform-ui/src/stories/Components/Field.stories.tsx"],"sourcesContent":["import type { Meta, StoryObj } from '@storybook/react';\nimport { useT } from '@xala-technologies/i18n';\nimport { Field, Label, Input, Textarea, Select, ValidationMessage } from '../../index';\n\nconst meta: Meta = {\n  title: 'Components/Field',\n  parameters: {\n    docs: {\n      description: {\n        component: `\nField component wraps form inputs with proper labeling, descriptions, and validation messages. It ensures accessibility and consistent form structure.\n\n## Variants\n\n- **Default** - Basic field with label and input\n- **With description** - Includes helpful description text\n- **With validation** - Shows error or success messages\n- **With counter** - Character counter for text inputs\n- **Required** - Indicates required fields\n- **Disabled** - Disabled field state\n\n## When to Use\n\n- Form inputs requiring labels\n- Inputs with descriptions or help text\n- Inputs with validation messages\n- Text inputs with character limits\n- Required form fields\n- Complex form layouts\n\n## Best Practices\n\n### Do\n- Always provide labels for inputs\n- Use descriptions for additional context\n- Show validation messages clearly\n- Connect error messages to inputs\n- Use character counters when appropriate\n- Mark required fields clearly\n\n### Don't\n- Don't use placeholder text as labels\n- Don't hide validation messages\n- Don't use fields without proper labeling\n- Don't forget error state indicators\n- Don't make descriptions too long\n- Don't use multiple labels per input\n\n## Usage Patterns\n\n### Basic Field\n\\`\\`\\`tsx\n<Field>\n  <Label>Full name</Label>\n  <Input aria-label=\"Full name\" />\n</Field>\n\\`\\`\\`\n\n### With Description\n\\`\\`\\`tsx\n<Field>\n  <Label>Email address</Label>\n  <Field.Description>We will never share your email with anyone.</Field.Description>\n  <Input type=\"email\" aria-label=\"Email address\" />\n</Field>\n\\`\\`\\`\n\n### With Validation\n\\`\\`\\`tsx\n<Field>\n  <Label>Phone number</Label>\n  <Input aria-invalid=\"true\" />\n  <ValidationMessage>Phone number must be 8 digits</ValidationMessage>\n</Field>\n\\`\\`\\`\n\n### With Textarea and Counter\n\\`\\`\\`tsx\n<Field>\n  <Label>Description</Label>\n  <Field.Description>Max 500 characters</Field.Description>\n  <Textarea rows={4} />\n  <Field.Counter limit={500} />\n</Field>\n\\`\\`\\`\n\n### With Select\n\\`\\`\\`tsx\n<Field>\n  <Label>Country</Label>\n  <Select>\n    <Select.Option value=\"\">Choose a country...</Select.Option>\n    <Select.Option value=\"no\">Norway</Select.Option>\n    <Select.Option value=\"se\">Sweden</Select.Option>\n    <Select.Option value=\"dk\">Denmark</Select.Option>\n  </Select>\n</Field>\n\\`\\`\\`\n\n### Required Field\n\\`\\`\\`tsx\n<Field>\n  <Label required>Email address</Label>\n  <Input type=\"email\" required aria-required=\"true\" aria-label=\"Email address\" />\n</Field>\n\\`\\`\\`\n\n## Anti-Patterns\n\n### Anti-pattern: Placeholder as Label\nUsing placeholder text instead of proper labels harms accessibility.\n\n### Anti-pattern: Missing Error Association\nNot connecting error messages to their inputs confuses users.\n\n### Anti-pattern: Vague Descriptions\nUsing generic text that doesn't help users understand the field.\n\n### Anti-pattern: Hidden Validation\nMaking validation messages hard to find or understand.\n\n## Accessibility\n\n### Screen Readers\n- Label properly associated with input\n- Description text announced\n- Error messages connected to inputs\n- Required state clearly indicated\n- Character counts announced\n\n### Keyboard Navigation\n- Tab navigates to input field\n- Focus moves to label first\n- Error messages reachable via keyboard\n- All interactive elements accessible\n\n### WCAG 2.1 AA Compliance\n- **Label association**: Labels properly connected to inputs\n- **Error identification**: Errors clearly identified and described\n- **Instructions**: Additional instructions provided when needed\n- **Error prevention**: Validation helps prevent errors\n- **Keyboard accessible**: All elements reachable via keyboard\n\n### ARIA Implementation\n\\`\\`\\`tsx\n<Field>\n  <Label htmlFor=\"email\">Email address</Label>\n  <Field.Description id=\"email-desc\">We'll never share your email.</Field.Description>\n  <Input\n    id=\"email\"\n    aria-describedby=\"email-desc email-error\"\n    aria-invalid=\"true\"\n    aria-required=\"true\"\n  />\n  <ValidationMessage id=\"email-error\" role=\"alert\">\n    Please enter a valid email\n  </ValidationMessage>\n</Field>\n\\`\\`\\`\n\n### Best Practice for Labels\nUse clear, descriptive labels:\n\\`\\`\\`tsx\n// Good\n<Label>First name</Label>\n<Label>Email address</Label>\n<Label>Phone number (optional)</Label>\n\n// Bad\n<Label>Name</Label>\n<Label>Info</Label>\n<Label>Enter text</Label>\n\\`\\`\\`\n\n### Validation States\n\\`\\`\\`tsx\n// Error state\n<Field>\n  <Label>Email</Label>\n  <Input aria-invalid=\"true\" />\n  <ValidationMessage>Invalid email format</ValidationMessage>\n</Field>\n\n// Success state\n<Field>\n  <Label>Password</Label>\n  <Input aria-invalid=\"false\" />\n  <ValidationMessage variant=\"success\">Password strength: Strong</ValidationMessage>\n</Field>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj;\n\nexport const Default: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Field>\n        <Label>{t('storybook.demo.fullName')}</Label>\n        <Input aria-label={t('storybook.demo.fullName')} />\n      </Field>\n    );\n  },\n};\n\nexport const WithDescription: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Field>\n        <Label>{t('storybook.demo.emailAddress')}</Label>\n        <Field.Description>{t('storybook.demo.neverShareEmail')}</Field.Description>\n        <Input type=\"email\" aria-label={t('storybook.demo.emailAddress')} />\n      </Field>\n    );\n  },\n};\n\nexport const WithError: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Field>\n        <Label>{t('storybook.demo.phoneNumber')}</Label>\n        <Input aria-invalid=\"true\" aria-label={t('storybook.demo.phoneNumber')} />\n        <ValidationMessage>{t('storybook.demo.phoneMustBe8Digits')}</ValidationMessage>\n      </Field>\n    );\n  },\n};\n\nexport const WithTextarea: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Field>\n        <Label>{t('storybook.demo.description')}</Label>\n        <Field.Description>{t('storybook.demo.maxNCharacters', { count: 500 })}</Field.Description>\n        <Textarea rows={4} />\n        <Field.Counter limit={500} />\n      </Field>\n    );\n  },\n};\n\nexport const WithSelect: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Field>\n        <Label>{t('storybook.demo.country')}</Label>\n        <Select>\n          <Select.Option value=\"\">{t('storybook.demo.chooseCountry')}</Select.Option>\n          <Select.Option value=\"no\">{t('storybook.demo.norway')}</Select.Option>\n          <Select.Option value=\"se\">{t('storybook.demo.sweden')}</Select.Option>\n          <Select.Option value=\"dk\">{t('storybook.demo.denmark')}</Select.Option>\n        </Select>\n      </Field>\n    );\n  },\n};\n\nexport const Required: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Field>\n        <Label>\n          {t('storybook.demo.name')} <span aria-hidden=\"true\">*</span>\n        </Label>\n        <Input required aria-label={t('storybook.demo.name')} />\n      </Field>\n    );\n  },\n};\n\nexport const Sizes: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-6)' }}>\n        <Field data-size=\"sm\">\n          <Label>{t('storybook.demo.smallField')}</Label>\n          <Input aria-label={t('storybook.demo.smallFieldInput')} />\n        </Field>\n        <Field data-size=\"md\">\n          <Label>{t('storybook.demo.mediumField')}</Label>\n          <Input aria-label={t('storybook.demo.mediumFieldInput')} />\n        </Field>\n        <Field data-size=\"lg\">\n          <Label>{t('storybook.demo.largeField')}</Label>\n          <Input aria-label={t('storybook.demo.largeFieldInput')} />\n        </Field>\n      </div>\n    );\n  },\n};\n"],"names":["meta","title","parameters","docs","description","component","tags","Default","render","t","useT","Field","jsx","Label","Input","WithDescription","WithError","ValidationMessage","WithTextarea","count","Textarea","WithSelect","Select","Required","jsxs","Sizes","display","flexDirection","gap","source","originalSource"],"mappings":"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"}