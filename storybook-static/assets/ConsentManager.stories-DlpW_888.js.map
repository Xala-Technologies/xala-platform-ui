{"version":3,"file":"ConsentManager.stories-DlpW_888.js","sources":["../../packages/platform-ui/src/blocks/gdpr/ConsentManager.tsx","../../packages/platform-ui/src/stories/Blocks/ConsentManager.stories.tsx"],"sourcesContent":["/**\n * ConsentManager\n *\n * Component for managing GDPR consent preferences.\n * Domain-agnostic - receives all data and callbacks via props.\n *\n * @example\n * ```tsx\n * // In app with SDK hooks\n * function ConsentPage() {\n *   const { data: consentsData, isLoading } = useConsents();\n *   const updateConsents = useUpdateConsents();\n *\n *   const [consents, setConsents] = useState({\n *     marketing: false,\n *     analytics: false,\n *     thirdPartySharing: false,\n *   });\n *\n *   return (\n *     <ConsentManager\n *       consents={consents}\n *       onConsentChange={(key, value) => setConsents({ ...consents, [key]: value })}\n *       isLoading={isLoading}\n *       isSaving={updateConsents.isPending}\n *       isError={updateConsents.isError}\n *       isSuccess={updateConsents.isSuccess}\n *       hasChanges={hasChanges}\n *       onSave={handleSave}\n *       lastUpdated={consentsData?.data?.[0]?.updatedAt}\n *       consentSettings={consentSettings}\n *       labels={labels}\n *     />\n *   );\n * }\n * ```\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, Heading, Paragraph, Button, Switch } from '@digdir/designsystemet-react';\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport interface ConsentSetting {\n  key: string;\n  label: string;\n  description: string;\n}\n\nexport interface ConsentManagerLabels {\n  title: string;\n  description: string;\n  loading: string;\n  saveButton: string;\n  savingButton: string;\n  successMessage: string;\n  errorMessage: string;\n  infoTitle: string;\n  infoDescription: string;\n  requiredConsentLabel: string;\n  requiredConsentDescription: string;\n}\n\nexport interface ConsentManagerProps {\n  /** Current consent values */\n  consents: Record<string, boolean>;\n  /** Callback when a consent value changes */\n  onConsentChange: (key: string, value: boolean) => void;\n  /** Whether data is loading */\n  isLoading: boolean;\n  /** Whether consents are being saved */\n  isSaving: boolean;\n  /** Whether there was an error saving */\n  isError: boolean;\n  /** Whether save was successful */\n  isSuccess: boolean;\n  /** Whether there are unsaved changes */\n  hasChanges: boolean;\n  /** Callback to save consents */\n  onSave: () => void | Promise<void>;\n  /** Last updated timestamp (ISO string) */\n  lastUpdated?: string | null;\n  /** Consent settings to display */\n  consentSettings: ConsentSetting[];\n  /** Labels for i18n */\n  labels: ConsentManagerLabels;\n}\n\n// =============================================================================\n// Default Labels\n// =============================================================================\n\nexport const DEFAULT_CONSENT_MANAGER_LABELS: ConsentManagerLabels = {\n  title: 'Samtykker',\n  description:\n    'Administrer dine personvernpreferanser. Du kan nar som helst endre eller trekke tilbake dine samtykker.',\n  loading: 'Laster samtykker...',\n  saveButton: 'Lagre endringer',\n  savingButton: 'Lagrer...',\n  successMessage: 'Samtykker oppdatert',\n  errorMessage: 'Det oppstod en feil ved lagring av samtykker. Vennligst prov igjen senere.',\n  infoTitle: 'Om samtykker',\n  infoDescription:\n    'Du kan nar som helst endre eller trekke tilbake dine samtykker. Nodvendige samtykker kreves for at tjenesten skal fungere og kan ikke deaktiveres. Alle endringer i samtykker logges i henhold til GDPR-krav.',\n  requiredConsentLabel: 'Nodvendige samtykker',\n  requiredConsentDescription: 'Nodvendig for at tjenesten skal fungere. Kan ikke deaktiveres.',\n};\n\n// =============================================================================\n// Default Consent Settings\n// =============================================================================\n\nexport const DEFAULT_CONSENT_SETTINGS: ConsentSetting[] = [\n  {\n    key: 'marketing',\n    label: 'Markedsforing',\n    description: 'Motta nyheter, tilbud og oppdateringer fra oss.',\n  },\n  {\n    key: 'analytics',\n    label: 'Analyse og statistikk',\n    description: 'Tillat anonymisert analyse av bruksmonstre for a forbedre tjenesten.',\n  },\n  {\n    key: 'thirdPartySharing',\n    label: 'Deling med tredjeparter',\n    description: 'Tillat at dine data deles med partnere for utvidet funksjonalitet.',\n  },\n];\n\n// =============================================================================\n// Component\n// =============================================================================\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function ConsentManager({\n  consents,\n  onConsentChange,\n  isLoading,\n  isSaving,\n  isError,\n  isSuccess,\n  hasChanges,\n  onSave,\n  lastUpdated,\n  consentSettings = DEFAULT_CONSENT_SETTINGS,\n  labels = DEFAULT_CONSENT_MANAGER_LABELS,\n}: ConsentManagerProps): React.ReactElement {\n  const [isMobile, setIsMobile] = useState(\n    typeof window !== 'undefined' ? window.innerWidth < MOBILE_BREAKPOINT : false\n  );\n\n  useEffect(() => {\n    const handleResize = () => setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const getLastUpdatedText = () => {\n    if (!lastUpdated) return null;\n\n    const date = new Date(lastUpdated);\n    return date.toLocaleDateString('nb-NO', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  return (\n    <Card style={{ padding: 'var(--ds-spacing-5)' }}>\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-4)' }}>\n        {/* Header */}\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: isMobile ? 'column' : 'row',\n            justifyContent: 'space-between',\n            alignItems: isMobile ? 'flex-start' : 'center',\n            gap: 'var(--ds-spacing-3)',\n          }}\n        >\n          <div>\n            <Heading\n              level={2}\n              data-size=\"sm\"\n              style={{ margin: 0, marginBottom: 'var(--ds-spacing-2)' }}\n            >\n              {labels.title}\n            </Heading>\n            <Paragraph\n              data-size=\"sm\"\n              style={{ margin: 0, color: 'var(--ds-color-neutral-text-subtle)' }}\n            >\n              {labels.description}\n            </Paragraph>\n          </div>\n          {hasChanges && (\n            <Button\n              type=\"button\"\n              variant=\"primary\"\n              data-size=\"md\"\n              onClick={onSave}\n              disabled={isSaving}\n              style={{\n                minHeight: 'var(--ds-spacing-11)',\n                alignSelf: isMobile ? 'stretch' : 'flex-start',\n              }}\n            >\n              {isSaving ? labels.savingButton : labels.saveButton}\n            </Button>\n          )}\n        </div>\n\n        {/* Loading state */}\n        {isLoading && (\n          <Paragraph data-size=\"sm\" style={{ margin: 0 }}>\n            {labels.loading}\n          </Paragraph>\n        )}\n\n        {/* Consent toggles */}\n        {!isLoading && (\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-3)' }}>\n            {/* Necessary consent - always enabled */}\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                padding: 'var(--ds-spacing-3)',\n                borderRadius: 'var(--ds-border-radius-md)',\n                backgroundColor: 'var(--ds-color-neutral-surface-hover)',\n              }}\n            >\n              <div style={{ flex: 1 }}>\n                <Paragraph data-size=\"sm\" style={{ margin: 0, fontWeight: 500 }}>\n                  {labels.requiredConsentLabel}\n                </Paragraph>\n                <Paragraph\n                  data-size=\"xs\"\n                  style={{\n                    margin: 0,\n                    marginTop: 'var(--ds-spacing-1)',\n                    color: 'var(--ds-color-neutral-text-subtle)',\n                  }}\n                >\n                  {labels.requiredConsentDescription}\n                </Paragraph>\n              </div>\n              <Switch\n                aria-label={labels.requiredConsentLabel}\n                checked={true}\n                disabled={true}\n                style={{ pointerEvents: 'none' }}\n              />\n            </div>\n\n            {/* Optional consents */}\n            {consentSettings.map((item) => (\n              <div\n                key={item.key}\n                style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  padding: 'var(--ds-spacing-3)',\n                  borderRadius: 'var(--ds-border-radius-md)',\n                  backgroundColor: 'var(--ds-color-neutral-surface-hover)',\n                }}\n              >\n                <div style={{ flex: 1, paddingRight: 'var(--ds-spacing-3)' }}>\n                  <Paragraph data-size=\"sm\" style={{ margin: 0, fontWeight: 500 }}>\n                    {item.label}\n                  </Paragraph>\n                  <Paragraph\n                    data-size=\"xs\"\n                    style={{\n                      margin: 0,\n                      marginTop: 'var(--ds-spacing-1)',\n                      color: 'var(--ds-color-neutral-text-subtle)',\n                    }}\n                  >\n                    {item.description}\n                  </Paragraph>\n                </div>\n                <Switch\n                  aria-label={item.label}\n                  checked={consents[item.key] ?? false}\n                  onChange={(e) => onConsentChange(item.key, e.target.checked)}\n                />\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Last updated timestamp */}\n        {!isLoading && getLastUpdatedText() && (\n          <Paragraph\n            data-size=\"xs\"\n            style={{ margin: 0, color: 'var(--ds-color-neutral-text-subtle)' }}\n          >\n            Sist oppdatert: {getLastUpdatedText()}\n          </Paragraph>\n        )}\n\n        {/* Success message */}\n        {isSuccess && !hasChanges && (\n          <div\n            style={{\n              padding: 'var(--ds-spacing-3)',\n              borderRadius: 'var(--ds-border-radius-md)',\n              backgroundColor: 'var(--ds-color-success-surface)',\n              border: '1px solid var(--ds-color-success-border)',\n            }}\n          >\n            <Paragraph data-size=\"sm\" style={{ margin: 0, color: 'var(--ds-color-success-text)' }}>\n              {labels.successMessage}\n            </Paragraph>\n          </div>\n        )}\n\n        {/* Error message */}\n        {isError && (\n          <div\n            style={{\n              padding: 'var(--ds-spacing-3)',\n              borderRadius: 'var(--ds-border-radius-md)',\n              backgroundColor: 'var(--ds-color-danger-surface)',\n              border: '1px solid var(--ds-color-danger-border)',\n            }}\n          >\n            <Paragraph data-size=\"sm\" style={{ margin: 0, color: 'var(--ds-color-danger-text)' }}>\n              {labels.errorMessage}\n            </Paragraph>\n          </div>\n        )}\n\n        {/* Information */}\n        <div\n          style={{\n            padding: 'var(--ds-spacing-3)',\n            borderRadius: 'var(--ds-border-radius-md)',\n            backgroundColor: 'var(--ds-color-neutral-surface-hover)',\n          }}\n        >\n          <Paragraph\n            data-size=\"xs\"\n            style={{ margin: 0, color: 'var(--ds-color-neutral-text-subtle)' }}\n          >\n            <strong>{labels.infoTitle}</strong> {labels.infoDescription}\n          </Paragraph>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","import type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport React, { useState } from 'react';\nimport { useT } from '@xala-technologies/i18n';\nimport {\n  ConsentManager,\n  DEFAULT_CONSENT_MANAGER_LABELS,\n  DEFAULT_CONSENT_SETTINGS,\n} from '../../blocks/gdpr/ConsentManager';\nimport type { ConsentSetting } from '../../blocks/gdpr/ConsentManager';\n\nconst meta: Meta<typeof ConsentManager> = {\n  title: 'Blocks/ConsentManager',\n  component: ConsentManager,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n## ConsentManager\n\nComponent for managing GDPR consent preferences. Domain-agnostic - receives all data and callbacks via props.\n\n### Features\n- Toggle consent preferences\n- Save changes\n- Loading and error states\n- Success feedback\n- Required consents (cannot be disabled)\n\n### Usage\n\\`\\`\\`tsx\n<ConsentManager\n  consents={consents}\n  onConsentChange={handleChange}\n  isLoading={false}\n  isSaving={false}\n  onSave={handleSave}\n  consentSettings={settings}\n  labels={labels}\n/>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Basic consent manager\nexport const Default: Story = {\n  render: function Render() {\n    const t = useT();\n    const [consents, setConsents] = useState({\n      marketing: false,\n      analytics: true,\n      thirdPartySharing: false,\n    });\n    const [isSaving, setIsSaving] = useState(false);\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [isError, setIsError] = useState(false);\n\n    return (\n      <div style={{ width: '600px' }}>\n        <ConsentManager\n          consents={consents}\n          onConsentChange={(key, value) => setConsents({ ...consents, [key]: value })}\n          isLoading={false}\n          isSaving={isSaving}\n          isError={isError}\n          isSuccess={isSuccess}\n          hasChanges={true}\n          onSave={async () => {\n            setIsSaving(true);\n            await new Promise((resolve) => setTimeout(resolve, 1000));\n            setIsSaving(false);\n            setIsSuccess(true);\n            setTimeout(() => setIsSuccess(false), 3000);\n          }}\n          consentSettings={DEFAULT_CONSENT_SETTINGS}\n          labels={DEFAULT_CONSENT_MANAGER_LABELS}\n        />\n      </div>\n    );\n  },\n};\n\n// Loading state\nexport const Loading: Story = {\n  render: function Render() {\n    const t = useT();\n    const [consents] = useState({\n      marketing: false,\n      analytics: true,\n      thirdPartySharing: false,\n    });\n\n    return (\n      <div style={{ width: '600px' }}>\n        <ConsentManager\n          consents={consents}\n          onConsentChange={fn()}\n          isLoading={true}\n          isSaving={false}\n          isError={false}\n          isSuccess={false}\n          hasChanges={false}\n          onSave={fn()}\n          consentSettings={DEFAULT_CONSENT_SETTINGS}\n          labels={DEFAULT_CONSENT_MANAGER_LABELS}\n        />\n      </div>\n    );\n  },\n};\n\n// Saving state\nexport const Saving: Story = {\n  render: function Render() {\n    const t = useT();\n    const [consents] = useState({\n      marketing: true,\n      analytics: true,\n      thirdPartySharing: false,\n    });\n\n    return (\n      <div style={{ width: '600px' }}>\n        <ConsentManager\n          consents={consents}\n          onConsentChange={fn()}\n          isLoading={false}\n          isSaving={true}\n          isError={false}\n          isSuccess={false}\n          hasChanges={true}\n          onSave={fn()}\n          consentSettings={DEFAULT_CONSENT_SETTINGS}\n          labels={DEFAULT_CONSENT_MANAGER_LABELS}\n        />\n      </div>\n    );\n  },\n};\n\n// Success state\nexport const Success: Story = {\n  render: function Render() {\n    const t = useT();\n    const [consents] = useState({\n      marketing: true,\n      analytics: true,\n      thirdPartySharing: false,\n    });\n\n    return (\n      <div style={{ width: '600px' }}>\n        <ConsentManager\n          consents={consents}\n          onConsentChange={fn()}\n          isLoading={false}\n          isSaving={false}\n          isError={false}\n          isSuccess={true}\n          hasChanges={false}\n          onSave={fn()}\n          consentSettings={DEFAULT_CONSENT_SETTINGS}\n          labels={DEFAULT_CONSENT_MANAGER_LABELS}\n        />\n      </div>\n    );\n  },\n};\n\n// Error state\nexport const Error: Story = {\n  render: function Render() {\n    const t = useT();\n    const [consents] = useState({\n      marketing: true,\n      analytics: true,\n      thirdPartySharing: false,\n    });\n\n    return (\n      <div style={{ width: '600px' }}>\n        <ConsentManager\n          consents={consents}\n          onConsentChange={fn()}\n          isLoading={false}\n          isSaving={false}\n          isError={true}\n          isSuccess={false}\n          hasChanges={true}\n          onSave={fn()}\n          consentSettings={DEFAULT_CONSENT_SETTINGS}\n          labels={DEFAULT_CONSENT_MANAGER_LABELS}\n        />\n      </div>\n    );\n  },\n};\n\n// Custom consent settings\nexport const CustomSettings: Story = {\n  render: function Render() {\n    const t = useT();\n    const [consents, setConsents] = useState({\n      newsletter: false,\n      sms: false,\n      push: true,\n    });\n    const customSettings: ConsentSetting[] = [\n      {\n        key: 'newsletter',\n        label: 'Email Newsletter',\n        description: 'Receive weekly newsletters with updates and tips.',\n      },\n      {\n        key: 'sms',\n        label: 'SMS Notifications',\n        description: 'Get important updates via SMS.',\n      },\n      {\n        key: 'push',\n        label: 'Push Notifications',\n        description: 'Receive browser push notifications.',\n      },\n    ];\n\n    return (\n      <div style={{ width: '600px' }}>\n        <ConsentManager\n          consents={consents}\n          onConsentChange={(key, value) => setConsents({ ...consents, [key]: value })}\n          isLoading={false}\n          isSaving={false}\n          isError={false}\n          isSuccess={false}\n          hasChanges={true}\n          onSave={fn()}\n          consentSettings={customSettings}\n          labels={DEFAULT_CONSENT_MANAGER_LABELS}\n        />\n      </div>\n    );\n  },\n};\n\n// With last updated\nexport const WithLastUpdated: Story = {\n  render: function Render() {\n    const t = useT();\n    const [consents] = useState({\n      marketing: true,\n      analytics: true,\n      thirdPartySharing: false,\n    });\n\n    return (\n      <div style={{ width: '600px' }}>\n        <ConsentManager\n          consents={consents}\n          onConsentChange={fn()}\n          isLoading={false}\n          isSaving={false}\n          isError={false}\n          isSuccess={false}\n          hasChanges={false}\n          onSave={fn()}\n          lastUpdated={new Date(Date.now() - 1000 * 60 * 60 * 24).toISOString()}\n          consentSettings={DEFAULT_CONSENT_SETTINGS}\n          labels={DEFAULT_CONSENT_MANAGER_LABELS}\n        />\n      </div>\n    );\n  },\n};\n"],"names":["cov_jytheoctc","actualCoverage","DEFAULT_CONSENT_MANAGER_LABELS","description","loading","saveButton","savingButton","successMessage","errorMessage","infoTitle","infoDescription","requiredConsentLabel","requiredConsentDescription","DEFAULT_CONSENT_SETTINGS","label","key","MOBILE_BREAKPOINT","consents","ConsentManager","onConsentChange","isLoading","isSaving","isError","isSuccess","hasChanges","onSave","lastUpdated","consentSettings","labels","isMobile","setIsMobile","useState","useEffect","s","handleResize","window","addEventListener","removeEventListener","getLastUpdatedText","toLocaleDateString","month","day","hour","minute","jsx","Card","padding","children","style","jsxs","display","flexDirection","gap","justifyContent","alignItems","level","Heading","margin","marginBottom","Paragraph","color","type","Button","variant","onClick","disabled","minHeight","alignSelf","borderRadius","backgroundColor","flex","fontWeight","marginTop","checked","pointerEvents","item","paddingRight","onChange","e","border","meta","title","component","parameters","layout","docs","tags","Default","render","useT","setConsents","marketing","analytics","thirdPartySharing","setIsSaving","setIsSuccess","setIsError","width","value","Promise","resolve","setTimeout","Loading","fn","Saving","Success","Error","CustomSettings","newsletter","sms","push","customSettings","WithLastUpdated","Date","now","toISOString","source","originalSource"],"mappings":"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"}