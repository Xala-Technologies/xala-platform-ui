{"version":3,"file":"SortableList.stories-LKAryHRG.js","sources":["../../packages/platform-ui/src/composed/SortableList.tsx","../../packages/platform-ui/src/stories/Composed/SortableList.stories.tsx"],"sourcesContent":["/**\n * SortableList Component\n *\n * Drag-and-drop reorderable list.\n * SSR-safe with 'use client' directive.\n *\n * @module @xala-technologies/platform/ui/composed/SortableList\n */\n\n'use client';\n\nimport React, { useState, useCallback, useRef, type ReactNode } from 'react';\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport interface SortableItem {\n  id: string;\n  content: ReactNode;\n  disabled?: boolean;\n}\n\nexport interface SortableListProps {\n  items: SortableItem[];\n  onReorder: (items: SortableItem[]) => void;\n  renderItem?: (item: SortableItem, index: number, isDragging: boolean) => ReactNode;\n  handle?: boolean;\n  disabled?: boolean;\n  direction?: 'vertical' | 'horizontal';\n  className?: string;\n  style?: React.CSSProperties;\n}\n\n// =============================================================================\n// Icons\n// =============================================================================\n\nfunction GripIcon() {\n  return (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <circle cx=\"9\" cy=\"5\" r=\"1\" fill=\"currentColor\" />\n      <circle cx=\"9\" cy=\"12\" r=\"1\" fill=\"currentColor\" />\n      <circle cx=\"9\" cy=\"19\" r=\"1\" fill=\"currentColor\" />\n      <circle cx=\"15\" cy=\"5\" r=\"1\" fill=\"currentColor\" />\n      <circle cx=\"15\" cy=\"12\" r=\"1\" fill=\"currentColor\" />\n      <circle cx=\"15\" cy=\"19\" r=\"1\" fill=\"currentColor\" />\n    </svg>\n  );\n}\n\n// =============================================================================\n// SortableList Component\n// =============================================================================\n\nexport function SortableList({\n  items,\n  onReorder,\n  renderItem,\n  handle = true,\n  disabled = false,\n  direction = 'vertical',\n  className,\n  style,\n}: SortableListProps): React.ReactElement {\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\n  const [dragOverIndex, setDragOverIndex] = useState<number | null>(null);\n  const draggedItemRef = useRef<SortableItem | null>(null);\n\n  const handleDragStart = useCallback(\n    (e: React.DragEvent, index: number) => {\n      if (disabled || items[index]?.disabled) return;\n      e.dataTransfer.effectAllowed = 'move';\n      e.dataTransfer.setData('text/plain', index.toString());\n      setDraggedIndex(index);\n      draggedItemRef.current = items[index] ?? null;\n    },\n    [disabled, items]\n  );\n\n  const handleDragOver = useCallback(\n    (e: React.DragEvent, index: number) => {\n      e.preventDefault();\n      e.dataTransfer.dropEffect = 'move';\n      if (index !== dragOverIndex) {\n        setDragOverIndex(index);\n      }\n    },\n    [dragOverIndex]\n  );\n\n  const handleDragEnd = useCallback(() => {\n    if (draggedIndex !== null && dragOverIndex !== null && draggedIndex !== dragOverIndex) {\n      const newItems = [...items];\n      const draggedItem = newItems[draggedIndex];\n      if (draggedItem) {\n        newItems.splice(draggedIndex, 1);\n        newItems.splice(dragOverIndex, 0, draggedItem);\n        onReorder(newItems);\n      }\n    }\n    setDraggedIndex(null);\n    setDragOverIndex(null);\n    draggedItemRef.current = null;\n  }, [draggedIndex, dragOverIndex, items, onReorder]);\n\n  const handleDragLeave = useCallback(() => {\n    setDragOverIndex(null);\n  }, []);\n\n  const isHorizontal = direction === 'horizontal';\n\n  const defaultRenderItem = (item: SortableItem, index: number, isDragging: boolean) => (\n    <div\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: 'var(--ds-spacing-3)',\n        padding: 'var(--ds-spacing-3) var(--ds-spacing-4)',\n        backgroundColor: isDragging\n          ? 'var(--ds-color-accent-surface-subtle)'\n          : 'var(--ds-color-neutral-background-default)',\n        borderWidth: 'var(--ds-border-width-default)',\n        borderStyle: 'solid',\n        borderColor: isDragging\n          ? 'var(--ds-color-accent-border-default)'\n          : 'var(--ds-color-neutral-border-subtle)',\n        borderRadius: 'var(--ds-border-radius-md)',\n        opacity: isDragging ? 0.8 : 1,\n        cursor: item.disabled || disabled ? 'not-allowed' : handle ? 'default' : 'grab',\n      }}\n    >\n      {handle && (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            cursor: item.disabled || disabled ? 'not-allowed' : 'grab',\n            color: 'var(--ds-color-neutral-text-subtle)',\n          }}\n        >\n          <GripIcon />\n        </div>\n      )}\n      <div style={{ flex: 1 }}>{item.content}</div>\n    </div>\n  );\n\n  return (\n    <div\n      className={className}\n      style={{\n        display: 'flex',\n        flexDirection: isHorizontal ? 'row' : 'column',\n        gap: 'var(--ds-spacing-2)',\n        ...style,\n      }}\n    >\n      {items.map((item, index) => {\n        const isDragging = draggedIndex === index;\n        const isOver = dragOverIndex === index && draggedIndex !== index;\n\n        return (\n          <div\n            key={item.id}\n            draggable={!disabled && !item.disabled}\n            onDragStart={(e) => handleDragStart(e, index)}\n            onDragOver={(e) => handleDragOver(e, index)}\n            onDragEnd={handleDragEnd}\n            onDragLeave={handleDragLeave}\n            style={{\n              position: 'relative',\n              transition: 'transform 0.15s ease',\n              transform: isOver\n                ? isHorizontal\n                  ? draggedIndex !== null && draggedIndex < index\n                    ? 'translateX(8px)'\n                    : 'translateX(-8px)'\n                  : draggedIndex !== null && draggedIndex < index\n                    ? 'translateY(8px)'\n                    : 'translateY(-8px)'\n                : 'none',\n            }}\n          >\n            {isOver && (\n              <div\n                style={{\n                  position: 'absolute',\n                  ...(isHorizontal\n                    ? {\n                        left: draggedIndex !== null && draggedIndex < index ? 'auto' : '-4px',\n                        right: draggedIndex !== null && draggedIndex < index ? '-4px' : 'auto',\n                        top: 0,\n                        bottom: 0,\n                        width: 'var(--ds-border-width-lg)',\n                      }\n                    : {\n                        top: draggedIndex !== null && draggedIndex < index ? 'auto' : '-4px',\n                        bottom: draggedIndex !== null && draggedIndex < index ? '-4px' : 'auto',\n                        left: 0,\n                        right: 0,\n                        height: 'var(--ds-border-width-lg)',\n                      }),\n                  backgroundColor: 'var(--ds-color-accent-base-default)',\n                  borderRadius: 'var(--ds-border-radius-full)',\n                }}\n              />\n            )}\n            {renderItem\n              ? renderItem(item, index, isDragging)\n              : defaultRenderItem(item, index, isDragging)}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default SortableList;\n","import type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { useState } from 'react';\nimport { useT } from '@xala-technologies/i18n';\nimport { SortableList } from '../../composed/SortableList';\nimport { Card, Paragraph } from '@digdir/designsystemet-react';\n\nconst meta: Meta<typeof SortableList> = {\n  title: 'Composed/SortableList',\n  component: SortableList,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n## SortableList\n\nDrag-and-drop reorderable list. Supports vertical and horizontal directions with custom item rendering.\n\n### Features\n- Drag and drop reordering\n- Handle icon option\n- Vertical and horizontal directions\n- Custom item rendering\n- Disabled items support\n\n### Usage\n\\`\\`\\`tsx\n<SortableList\n  items={items}\n  onReorder={handleReorder}\n  handle={true}\n  direction=\"vertical\"\n/>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  args: {\n    onReorder: fn(),\n  },\n  argTypes: {\n    handle: {\n      control: 'boolean',\n      description: 'Show drag handle',\n    },\n    direction: {\n      control: 'select',\n      options: ['vertical', 'horizontal'],\n      description: 'List direction',\n    },\n    disabled: {\n      control: 'boolean',\n      description: 'Disable sorting',\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Wrapper components for stories that need translations\nconst DefaultDemo = () => {\n  const t = useT();\n  const [items, setItems] = useState([\n    { id: '1', content: `${t('storybook.demo.item')} 1` },\n    { id: '2', content: `${t('storybook.demo.item')} 2` },\n    { id: '3', content: `${t('storybook.demo.item')} 3` },\n    { id: '4', content: `${t('storybook.demo.item')} 4` },\n  ]);\n\n  return (\n    <div style={{ width: '400px' }}>\n      <SortableList items={items} onReorder={setItems} handle={true} direction=\"vertical\" />\n    </div>\n  );\n};\n\nconst WithoutHandleDemo = () => {\n  const t = useT();\n  const [items, setItems] = useState([\n    { id: '1', content: `${t('storybook.demo.item')} 1` },\n    { id: '2', content: `${t('storybook.demo.item')} 2` },\n    { id: '3', content: `${t('storybook.demo.item')} 3` },\n  ]);\n\n  return (\n    <div style={{ width: '400px' }}>\n      <SortableList items={items} onReorder={setItems} handle={false} direction=\"vertical\" />\n    </div>\n  );\n};\n\nconst CustomRenderingDemo = () => {\n  const t = useT();\n  const [items, setItems] = useState([\n    { id: '1', content: t('storybook.demo.firstItem') },\n    { id: '2', content: t('storybook.demo.secondItem') },\n    { id: '3', content: t('storybook.demo.thirdItem') },\n  ]);\n\n  return (\n    <div style={{ width: '400px' }}>\n      <SortableList\n        items={items}\n        onReorder={setItems}\n        handle={true}\n        renderItem={(item, index, isDragging) => (\n          <Card\n            data-color=\"neutral\"\n            data-size=\"medium\"\n            style={{\n              opacity: isDragging ? 0.5 : 1,\n              transform: isDragging ? 'scale(1.02)' : 'scale(1)',\n              transition: 'all 0.2s ease',\n            }}\n          >\n            <Paragraph data-size=\"sm\">\n              {item.content} ({t('storybook.demo.position')}: {index + 1})\n            </Paragraph>\n          </Card>\n        )}\n      />\n    </div>\n  );\n};\n\nconst HorizontalDemo = () => {\n  const [items, setItems] = useState([\n    { id: '1', content: 'A' },\n    { id: '2', content: 'B' },\n    { id: '3', content: 'C' },\n    { id: '4', content: 'D' },\n  ]);\n\n  return (\n    <div style={{ width: '500px' }}>\n      <SortableList items={items} onReorder={setItems} handle={true} direction=\"horizontal\" />\n    </div>\n  );\n};\n\nconst WithDisabledItemsDemo = () => {\n  const t = useT();\n  const [items, setItems] = useState([\n    { id: '1', content: `${t('storybook.demo.item')} 1` },\n    {\n      id: '2',\n      content: `${t('storybook.demo.item')} 2 (${t('storybook.demo.disabled')})`,\n      disabled: true,\n    },\n    { id: '3', content: `${t('storybook.demo.item')} 3` },\n    {\n      id: '4',\n      content: `${t('storybook.demo.item')} 4 (${t('storybook.demo.disabled')})`,\n      disabled: true,\n    },\n  ]);\n\n  return (\n    <div style={{ width: '400px' }}>\n      <SortableList items={items} onReorder={setItems} handle={true} direction=\"vertical\" />\n    </div>\n  );\n};\n\nconst DisabledDemo = () => {\n  const t = useT();\n  const [items] = useState([\n    { id: '1', content: `${t('storybook.demo.item')} 1` },\n    { id: '2', content: `${t('storybook.demo.item')} 2` },\n    { id: '3', content: `${t('storybook.demo.item')} 3` },\n  ]);\n\n  return (\n    <div style={{ width: '400px' }}>\n      <SortableList\n        items={items}\n        onReorder={fn()}\n        handle={true}\n        disabled={true}\n        direction=\"vertical\"\n      />\n    </div>\n  );\n};\n\nconst ManyItemsDemo = () => {\n  const t = useT();\n  const [items, setItems] = useState(\n    Array.from({ length: 10 }, (_, i) => ({\n      id: `${i + 1}`,\n      content: `${t('storybook.demo.item')} ${i + 1}`,\n    }))\n  );\n\n  return (\n    <div style={{ width: '400px', maxHeight: '400px', overflow: 'auto' }}>\n      <SortableList items={items} onReorder={setItems} handle={true} direction=\"vertical\" />\n    </div>\n  );\n};\n\n// Basic sortable list\nexport const Default: Story = {\n  render: function Render() {\n    return <DefaultDemo />;\n  },\n};\n\n// Without handle\nexport const WithoutHandle: Story = {\n  render: function Render() {\n    return <WithoutHandleDemo />;\n  },\n};\n\n// With custom rendering\nexport const CustomRendering: Story = {\n  render: function Render() {\n    return <CustomRenderingDemo />;\n  },\n};\n\n// Horizontal direction\nexport const Horizontal: Story = {\n  render: function Render() {\n    return <HorizontalDemo />;\n  },\n};\n\n// With disabled items\nexport const WithDisabledItems: Story = {\n  render: function Render() {\n    return <WithDisabledItemsDemo />;\n  },\n};\n\n// Disabled list\nexport const Disabled: Story = {\n  render: function Render() {\n    return <DisabledDemo />;\n  },\n};\n\n// Many items\nexport const ManyItems: Story = {\n  render: function Render() {\n    return <ManyItemsDemo />;\n  },\n};\n"],"names":["cov_2lbw8526cl","jsxs","s","height","viewBox","fill","stroke","strokeWidth","children","cx","jsx","cy","r","SortableList","onReorder","renderItem","handle","disabled","b","direction","className","style","draggedIndex","dragOverIndex","setDraggedIndex","setDragOverIndex","useState","draggedItemRef","handleDragStart","useRef","useCallback","e","index","_a","items","effectAllowed","setData","current","handleDragOver","preventDefault","dropEffect","handleDragEnd","draggedItem","newItems","splice","handleDragLeave","defaultRenderItem","item","isDragging","display","alignItems","gap","padding","backgroundColor","borderWidth","borderStyle","borderColor","borderRadius","opacity","cursor","color","GripIcon","flex","flexDirection","isHorizontal","isOver","onDragStart","onDragLeave","position","transition","transform","left","right","top","bottom","width","meta","title","component","parameters","layout","docs","description","args","fn","argTypes","control","options","tags","DefaultDemo","t","useT","setItems","id","content","WithoutHandleDemo","CustomRenderingDemo","Card","Paragraph","HorizontalDemo","WithDisabledItemsDemo","DisabledDemo","ManyItemsDemo","Array","from","length","_","i","maxHeight","overflow","Default","render","WithoutHandle","CustomRendering","Horizontal","WithDisabledItems","Disabled","ManyItems","source","originalSource"],"mappings":"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"}