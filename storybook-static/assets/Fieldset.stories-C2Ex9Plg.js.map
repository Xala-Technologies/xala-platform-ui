{"version":3,"file":"Fieldset.stories-C2Ex9Plg.js","sources":["../../packages/platform-ui/src/stories/Components/Fieldset.stories.tsx"],"sourcesContent":["import type { Meta, StoryObj } from '@storybook/react';\nimport { useT } from '@xala-technologies/i18n';\nimport { Fieldset, Checkbox, Radio, ValidationMessage } from '../../index';\n\nconst meta: Meta = {\n  title: 'Components/Fieldset',\n  parameters: {\n    docs: {\n      description: {\n        component: `\nFieldset groups related form controls under a common legend, providing semantic structure and improved accessibility for complex forms.\n\n## Variants\n\n- **Default** - Standard fieldset with legend\n- **With description** - Includes description text\n- **Checkbox group** - Groups multiple checkboxes\n- **Radio group** - Groups radio buttons\n- **Error state** - Fieldset with validation errors\n- **Size variants** - sm, md (default), lg\n\n## When to Use\n\n- Grouping related form controls\n- Checkbox and radio button groups\n- Form sections with related fields\n- Address or contact information blocks\n- Preference settings\n- Multi-step form sections\n\n## Best Practices\n\n### Do\n- Use descriptive legends for groups\n- Group logically related controls\n- Provide descriptions when needed\n- Use proper radio/checkbox naming\n- Show validation errors clearly\n- Consider size for content density\n\n### Don't\n- Don't nest fieldsets too deeply\n- Don't use fieldsets for single fields\n- Don't make legends too long\n- Don't forget proper field association\n- Don't group unrelated controls\n- Don't use for decorative purposes\n\n## Usage Patterns\n\n### Basic Fieldset\n\\`\\`\\`tsx\n<Fieldset>\n  <Fieldset.Legend>Select your interests</Fieldset.Legend>\n  <Checkbox label=\"Sports\" value=\"sports\" />\n  <Checkbox label=\"Music\" value=\"music\" />\n  <Checkbox label=\"Technology\" value=\"tech\" />\n</Fieldset>\n\\`\\`\\`\n\n### With Description\n\\`\\`\\`tsx\n<Fieldset>\n  <Fieldset.Legend>Contact preferences</Fieldset.Legend>\n  <Fieldset.Description>Choose how you want to be contacted.</Fieldset.Description>\n  <Checkbox label=\"Email\" value=\"email\" />\n  <Checkbox label=\"SMS\" value=\"sms\" />\n  <Checkbox label=\"Phone\" value=\"phone\" />\n</Fieldset>\n\\`\\`\\`\n\n### Radio Group\n\\`\\`\\`tsx\n<Fieldset>\n  <Fieldset.Legend>Select time slot</Fieldset.Legend>\n  <Radio label=\"Morning (08:00 - 12:00)\" name=\"time\" value=\"morning\" />\n  <Radio label=\"Afternoon (12:00 - 16:00)\" name=\"time\" value=\"afternoon\" />\n  <Radio label=\"Evening (16:00 - 20:00)\" name=\"time\" value=\"evening\" />\n</Fieldset>\n\\`\\`\\`\n\n### With Error\n\\`\\`\\`tsx\n<Fieldset>\n  <Fieldset.Legend>Accept terms</Fieldset.Legend>\n  <Checkbox label=\"I accept the terms and conditions\" value=\"terms\" aria-invalid=\"true\" />\n  <ValidationMessage>You must accept the terms to continue</ValidationMessage>\n</Fieldset>\n\\`\\`\\`\n\n### Size Variants\n\\`\\`\\`tsx\n<Fieldset data-size=\"sm\">\n  <Fieldset.Legend>Small fieldset</Fieldset.Legend>\n  <Checkbox label=\"Option 1\" value=\"1\" />\n  <Checkbox label=\"Option 2\" value=\"2\" />\n</Fieldset>\n<Fieldset data-size=\"lg\">\n  <Fieldset.Legend>Large fieldset</Fieldset.Legend>\n  <Checkbox label=\"Option 1\" value=\"1\" />\n  <Checkbox label=\"Option 2\" value=\"2\" />\n</Fieldset>\n\\`\\`\\`\n\n### Address Form\n\\`\\`\\`tsx\n<Fieldset>\n  <Fieldset.Legend>Address Information</Fieldset.Legend>\n  <Field>\n    <Label>Street address</Label>\n    <Input />\n  </Field>\n  <Field>\n    <Label>City</Label>\n    <Input />\n  </Field>\n  <Field>\n    <Label>Postal code</Label>\n    <Input />\n  </Field>\n</Fieldset>\n\\`\\`\\`\n\n## Anti-Patterns\n\n### Anti-pattern: Unrelated Grouping\nGrouping unrelated controls confuses users.\n\n### Anti-pattern: Vague Legends\nUsing generic text like \"Information\" for legends.\n\n### Anti-pattern: Deep Nesting\nNesting fieldsets creates confusing structure.\n\n### Anti-pattern: Missing Legends\nFieldsets without legends provide no context.\n\n## Accessibility\n\n### Screen Readers\n- Fieldset groups related controls\n- Legend provides group context\n- Description text announced\n- Error states clearly communicated\n- Proper form structure maintained\n\n### Keyboard Navigation\n- Tab navigates through grouped controls\n- Logical tab order within groups\n- Error messages accessible\n- All controls reachable via keyboard\n\n### WCAG 2.1 AA Compliance\n- **Grouping**: Related controls properly grouped\n- **Labels**: Descriptive legends provided\n- **Instructions**: Additional instructions available\n- **Error identification**: Group errors identified\n- **Keyboard accessible**: All elements reachable\n\n### ARIA Implementation\n\\`\\`\\`tsx\n<fieldset aria-describedby=\"group-desc\">\n  <legend>Contact preferences</legend>\n  <p id=\"group-desc\">Choose how you want to be contacted.</p>\n  <div role=\"group\" aria-labelledby=\"contact-group\">\n    <input type=\"checkbox\" id=\"email\" name=\"contact\" value=\"email\" />\n    <label for=\"email\">Email</label>\n  </div>\n</fieldset>\n\\`\\`\\`\n\n### Best Practice for Legends\nUse clear, descriptive legends:\n\\`\\`\\`tsx\n// Good\n<Fieldset.Legend>Delivery address</Fieldset.Legend>\n<Fieldset.Legend>Payment method</Fieldset.Legend>\n<Fieldset.Legend>Notification preferences</Fieldset.Legend>\n\n// Bad\n<Fieldset.Legend>Info</Fieldset.Legend>\n<Fieldset.Legend>Options</Fieldset.Legend>\n<Fieldset.Legend>Settings</Fieldset.Legend>\n\\`\\`\\`\n\n### Radio Button Group\n\\`\\`\\`tsx\n<Fieldset>\n  <Fieldset.Legend>Preferred contact method</Fieldset.Legend>\n  <Fieldset.Description>How should we reach you?</Fieldset.Description>\n  <Radio\n    label=\"Email\"\n    name=\"contact\"\n    value=\"email\"\n    aria-describedby=\"contact-desc\"\n  />\n  <Radio\n    label=\"Phone\"\n    name=\"contact\"\n    value=\"phone\"\n    aria-describedby=\"contact-desc\"\n  />\n  <Radio\n    label=\"SMS\"\n    name=\"contact\"\n    value=\"sms\"\n    aria-describedby=\"contact-desc\"\n  />\n</Fieldset>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj;\n\nexport const Default: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Fieldset>\n        <Fieldset.Legend>{t('storybook.demo.selectYourInterests')}</Fieldset.Legend>\n        <Checkbox label={t('storybook.demo.sports')} value=\"sports\" />\n        <Checkbox label={t('storybook.demo.music')} value=\"music\" />\n        <Checkbox label={t('storybook.demo.technology')} value=\"tech\" />\n      </Fieldset>\n    );\n  },\n};\n\nexport const WithDescription: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Fieldset>\n        <Fieldset.Legend>{t('storybook.demo.contactPreferences')}</Fieldset.Legend>\n        <Fieldset.Description>{t('storybook.demo.chooseHowToBeContacted')}</Fieldset.Description>\n        <Checkbox label={t('storybook.demo.email')} value=\"email\" />\n        <Checkbox label={t('storybook.demo.sms')} value=\"sms\" />\n        <Checkbox label={t('storybook.demo.phone')} value=\"phone\" />\n      </Fieldset>\n    );\n  },\n};\n\nexport const RadioGroup: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Fieldset>\n        <Fieldset.Legend>{t('storybook.demo.selectTimeSlot')}</Fieldset.Legend>\n        <Radio label={t('storybook.demo.morning')} name=\"time\" value=\"morning\" />\n        <Radio label={t('storybook.demo.afternoon')} name=\"time\" value=\"afternoon\" />\n        <Radio label={t('storybook.demo.evening')} name=\"time\" value=\"evening\" />\n      </Fieldset>\n    );\n  },\n};\n\nexport const WithError: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Fieldset>\n        <Fieldset.Legend>{t('storybook.demo.acceptTerms')}</Fieldset.Legend>\n        <Checkbox label={t('storybook.demo.iAcceptTheTerms')} value=\"terms\" aria-invalid=\"true\" />\n        <ValidationMessage>{t('storybook.demo.mustAcceptTermsToContinue')}</ValidationMessage>\n      </Fieldset>\n    );\n  },\n};\n\nexport const Sizes: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-6)' }}>\n        <Fieldset data-size=\"sm\">\n          <Fieldset.Legend>{t('storybook.demo.smallFieldset')}</Fieldset.Legend>\n          <Checkbox label={t('storybook.demo.option')} value=\"1\" />\n          <Checkbox label={t('storybook.demo.option')} value=\"2\" />\n        </Fieldset>\n        <Fieldset data-size=\"md\">\n          <Fieldset.Legend>{t('storybook.demo.mediumFieldset')}</Fieldset.Legend>\n          <Checkbox label={t('storybook.demo.option')} value=\"1\" />\n          <Checkbox label={t('storybook.demo.option')} value=\"2\" />\n        </Fieldset>\n        <Fieldset data-size=\"lg\">\n          <Fieldset.Legend>{t('storybook.demo.largeFieldset')}</Fieldset.Legend>\n          <Checkbox label={t('storybook.demo.option')} value=\"1\" />\n          <Checkbox label={t('storybook.demo.option')} value=\"2\" />\n        </Fieldset>\n      </div>\n    );\n  },\n};\n"],"names":["meta","title","parameters","docs","description","component","tags","Default","render","t","useT","Fieldset","jsx","Checkbox","WithDescription","RadioGroup","Radio","WithError","ValidationMessage","Sizes","jsxs","display","flexDirection","gap","source","originalSource"],"mappings":"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"}