{"version":3,"file":"DataExportCard.stories-CF74Ekm1.js","sources":["../../packages/platform-ui/src/blocks/gdpr/DataExportCard.tsx","../../packages/platform-ui/src/stories/Blocks/DataExportCard.stories.tsx"],"sourcesContent":["/**\n * DataExportCard\n *\n * Component for exporting user data in compliance with GDPR.\n * Domain-agnostic - receives all data and callbacks via props.\n *\n * @example\n * ```tsx\n * // In app with SDK hooks\n * function DataExportPage() {\n *   const { data: requestsData, isLoading } = useMyGdprRequests({ requestType: 'export', limit: 1 });\n *   const createRequest = useCreateGdprRequest();\n *\n *   return (\n *     <DataExportCard\n *       exportRequest={requestsData?.data?.[0]}\n *       isLoading={isLoading}\n *       isRequesting={createRequest.isPending}\n *       isError={createRequest.isError}\n *       onRequestExport={() => createRequest.mutateAsync({ requestType: 'export' })}\n *       onDownload={() => window.open(requestsData?.data?.[0]?.metadata?.downloadUrl, '_blank')}\n *       labels={labels}\n *     />\n *   );\n * }\n * ```\n */\n\nimport React from 'react';\nimport { Card, Heading, Paragraph, Button } from '@digdir/designsystemet-react';\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport interface GdprExportRequest {\n  id: string;\n  status: 'pending' | 'processing' | 'completed' | 'rejected';\n  requestedAt: string;\n  expiresAt: string;\n  metadata?: {\n    downloadUrl?: string;\n    rejectionReason?: string;\n    [key: string]: unknown;\n  };\n}\n\nexport interface DataExportCardLabels {\n  title: string;\n  description: string;\n  loading: string;\n  requestButton: string;\n  requestingButton: string;\n  downloadButton: string;\n  errorMessage: string;\n  infoTitle: string;\n  infoDescription: string;\n  statusMessages: {\n    pending: string;\n    processing: string;\n    completed: string;\n    rejected: string;\n  };\n  requestedLabel: string;\n  expiryWarning: (days: number) => string;\n  expiredMessage: string;\n  rejectionLabel: string;\n}\n\nexport interface DataExportCardProps {\n  /** Current export request (if any) */\n  exportRequest?: GdprExportRequest | null;\n  /** Whether data is loading */\n  isLoading: boolean;\n  /** Whether a request is being created */\n  isRequesting: boolean;\n  /** Whether there was an error creating request */\n  isError: boolean;\n  /** Callback to request data export */\n  onRequestExport: () => void | Promise<void>;\n  /** Callback to download exported data */\n  onDownload: () => void;\n  /** Labels for i18n */\n  labels: DataExportCardLabels;\n}\n\n// =============================================================================\n// Default Labels\n// =============================================================================\n\nexport const DEFAULT_DATA_EXPORT_LABELS: DataExportCardLabels = {\n  title: 'Eksporter mine data',\n  description:\n    'Last ned en kopi av alle dataene vi har lagret om deg i JSON-format. Dette inkluderer profil, resourceRequester, meldinger og aktivitet.',\n  loading: 'Laster...',\n  requestButton: 'Eksporter mine data',\n  requestingButton: 'Oppretter foresporsel...',\n  downloadButton: 'Last ned mine data',\n  errorMessage:\n    'Det oppstod en feil ved opprettelse av foresporselen. Vennligst prov igjen senere.',\n  infoTitle: 'Viktig:',\n  infoDescription:\n    'Dataeksporten vil vaere tilgjengelig for nedlasting i 30 dager fra den er klar. Av sikkerhetshensyn ma du vaere innlogget for a laste ned dataene.',\n  statusMessages: {\n    pending: 'Din foresporsel er mottatt og venter pa behandling.',\n    processing: 'Vi forbereder dataene dine. Dette kan ta noen minutter.',\n    completed: 'Dataeksporten er klar for nedlasting.',\n    rejected: 'Foresporselen din ble avvist. Kontakt support for mer informasjon.',\n  },\n  requestedLabel: 'Forespurt:',\n  expiryWarning: (days: number) =>\n    `Denne nedlastingen utloper om ${days} dag${days !== 1 ? 'er' : ''}.`,\n  expiredMessage: 'Denne nedlastingen har utlopt.',\n  rejectionLabel: 'Arsak:',\n};\n\n// =============================================================================\n// Sub-components\n// =============================================================================\n\ninterface ExportRequestStatusProps {\n  exportRequest: GdprExportRequest;\n  labels: DataExportCardLabels;\n  onDownload: () => void;\n}\n\nfunction ExportRequestStatus({\n  exportRequest,\n  labels,\n  onDownload,\n}: ExportRequestStatusProps): React.ReactElement {\n  const status = exportRequest.status;\n  const expiresAt = exportRequest.expiresAt;\n  const rejectionReason = exportRequest.metadata?.rejectionReason\n    ? String(exportRequest.metadata.rejectionReason)\n    : undefined;\n\n  const requestedDate = new Date(exportRequest.requestedAt).toLocaleDateString('nb-NO', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n  const statusText = labels.statusMessages[status] || '';\n\n  const bgColor =\n    status === 'completed'\n      ? 'var(--ds-color-success-surface)'\n      : status === 'rejected'\n        ? 'var(--ds-color-danger-surface)'\n        : 'var(--ds-color-info-surface)';\n\n  const borderColor =\n    status === 'completed'\n      ? 'var(--ds-color-success-border)'\n      : status === 'rejected'\n        ? 'var(--ds-color-danger-border)'\n        : 'var(--ds-color-info-border)';\n\n  const getExpiryMessage = () => {\n    if (!expiresAt) return null;\n    const expiryDate = new Date(expiresAt);\n    const now = new Date();\n    const daysRemaining = Math.ceil((expiryDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n\n    if (daysRemaining < 0) {\n      return labels.expiredMessage;\n    } else if (daysRemaining <= 3) {\n      return labels.expiryWarning(daysRemaining);\n    }\n    return null;\n  };\n\n  return (\n    <div\n      style={{\n        padding: 'var(--ds-spacing-4)',\n        borderRadius: 'var(--ds-border-radius-md)',\n        backgroundColor: bgColor,\n        border: '1px solid',\n        borderColor: borderColor,\n      }}\n    >\n      {/* Status message */}\n      <Paragraph\n        data-size=\"sm\"\n        style={{\n          margin: 0,\n          marginBottom: 'var(--ds-spacing-3)',\n          fontWeight: 500,\n          fontSize: 'var(--ds-font-size-sm)',\n        }}\n      >\n        {statusText}\n      </Paragraph>\n\n      {/* Request date */}\n      <Paragraph\n        data-size=\"sm\"\n        style={{\n          margin: 0,\n          color: 'var(--ds-color-neutral-text-subtle)',\n          fontSize: 'var(--ds-font-size-xs)',\n        }}\n      >\n        {`${labels.requestedLabel} ${requestedDate}`}\n      </Paragraph>\n\n      {/* Download button for completed requests */}\n      {status === 'completed' && (\n        <div\n          style={{\n            marginTop: 'var(--ds-spacing-3)',\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 'var(--ds-spacing-2)',\n          }}\n        >\n          {getExpiryMessage() && (\n            <Paragraph\n              data-size=\"sm\"\n              style={{\n                margin: 0,\n                color: 'var(--ds-color-warning-text)',\n                fontSize: 'var(--ds-font-size-xs)',\n              }}\n            >\n              {getExpiryMessage()}\n            </Paragraph>\n          )}\n          <Button\n            type=\"button\"\n            variant=\"primary\"\n            data-size=\"sm\"\n            onClick={onDownload}\n            style={{ minHeight: '40px', alignSelf: 'flex-start' }}\n          >\n            {labels.downloadButton}\n          </Button>\n        </div>\n      )}\n\n      {/* Rejection reason */}\n      {status === 'rejected' && rejectionReason && (\n        <Paragraph\n          data-size=\"sm\"\n          style={{\n            margin: 0,\n            marginTop: 'var(--ds-spacing-2)',\n            color: 'var(--ds-color-danger-text)',\n            fontSize: 'var(--ds-font-size-xs)',\n          }}\n        >\n          {`${labels.rejectionLabel} ${rejectionReason}`}\n        </Paragraph>\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// Main Component\n// =============================================================================\n\nexport function DataExportCard({\n  exportRequest,\n  isLoading,\n  isRequesting,\n  isError,\n  onRequestExport,\n  onDownload,\n  labels = DEFAULT_DATA_EXPORT_LABELS,\n}: DataExportCardProps): React.ReactElement {\n  return (\n    <Card style={{ padding: 'var(--ds-spacing-5)' }}>\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-4)' }}>\n        {/* Header */}\n        <div>\n          <Heading\n            level={2}\n            data-size=\"sm\"\n            style={{ margin: 0, marginBottom: 'var(--ds-spacing-2)' }}\n          >\n            {labels.title}\n          </Heading>\n          <Paragraph\n            data-size=\"sm\"\n            style={{ margin: 0, color: 'var(--ds-color-neutral-text-subtle)' }}\n          >\n            {labels.description}\n          </Paragraph>\n        </div>\n\n        {/* Loading state */}\n        {isLoading && (\n          <Paragraph data-size=\"sm\" style={{ margin: 0 }}>\n            {labels.loading}\n          </Paragraph>\n        )}\n\n        {/* No active request */}\n        {!isLoading && !exportRequest && (\n          <Button\n            type=\"button\"\n            variant=\"secondary\"\n            data-size=\"md\"\n            onClick={onRequestExport}\n            disabled={isRequesting}\n            style={{ minHeight: 'var(--ds-spacing-11)', alignSelf: 'flex-start' }}\n          >\n            {isRequesting ? labels.requestingButton : labels.requestButton}\n          </Button>\n        )}\n\n        {/* Active request exists */}\n        {!isLoading && exportRequest && (\n          <ExportRequestStatus\n            exportRequest={exportRequest}\n            labels={labels}\n            onDownload={onDownload}\n          />\n        )}\n\n        {/* Error state */}\n        {isError && (\n          <Paragraph data-size=\"sm\" style={{ margin: 0, color: 'var(--ds-color-danger-text)' }}>\n            {labels.errorMessage}\n          </Paragraph>\n        )}\n\n        {/* Information */}\n        <div\n          style={{\n            padding: 'var(--ds-spacing-3)',\n            borderRadius: 'var(--ds-border-radius-md)',\n            backgroundColor: 'var(--ds-color-neutral-surface-hover)',\n          }}\n        >\n          <Paragraph\n            data-size=\"xs\"\n            style={{ margin: 0, color: 'var(--ds-color-neutral-text-subtle)' }}\n          >\n            <strong>{labels.infoTitle}</strong> {labels.infoDescription}\n          </Paragraph>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","import type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { useT } from '@xala-technologies/i18n';\nimport { DataExportCard, DEFAULT_DATA_EXPORT_LABELS } from '../../blocks/gdpr/DataExportCard';\nimport type { GdprExportRequest } from '../../blocks/gdpr/DataExportCard';\n\nconst meta: Meta<typeof DataExportCard> = {\n  title: 'Blocks/DataExportCard',\n  component: DataExportCard,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n## DataExportCard\n\nComponent for exporting user data in compliance with GDPR. Domain-agnostic - receives all data and callbacks via props.\n\n### Features\n- Request data export\n- Download exported data\n- Status tracking (pending, processing, completed, rejected)\n- Expiry warnings\n- Loading and error states\n\n### Usage\n\\`\\`\\`tsx\n<DataExportCard\n  exportRequest={exportRequest}\n  isLoading={false}\n  isRequesting={false}\n  isError={false}\n  onRequestExport={handleRequest}\n  onDownload={handleDownload}\n  labels={labels}\n/>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// No request yet\nexport const NoRequest: Story = {\n  args: {\n    exportRequest: null,\n    isLoading: false,\n    isRequesting: false,\n    isError: false,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n\n// Pending request\nexport const Pending: Story = {\n  args: {\n    exportRequest: {\n      id: '1',\n      status: 'pending',\n      requestedAt: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\n      expiresAt: new Date(Date.now() + 1000 * 60 * 60 * 24 * 30).toISOString(),\n    } as GdprExportRequest,\n    isLoading: false,\n    isRequesting: false,\n    isError: false,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n\n// Processing request\nexport const Processing: Story = {\n  args: {\n    exportRequest: {\n      id: '1',\n      status: 'processing',\n      requestedAt: new Date(Date.now() - 1000 * 60 * 30).toISOString(),\n      expiresAt: new Date(Date.now() + 1000 * 60 * 60 * 24 * 30).toISOString(),\n    } as GdprExportRequest,\n    isLoading: false,\n    isRequesting: false,\n    isError: false,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n\n// Completed request\nexport const Completed: Story = {\n  args: {\n    exportRequest: {\n      id: '1',\n      status: 'completed',\n      requestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24).toISOString(),\n      expiresAt: new Date(Date.now() + 1000 * 60 * 60 * 24 * 29).toISOString(),\n      metadata: {\n        downloadUrl: 'https://example.com/export.zip',\n      },\n    } as GdprExportRequest,\n    isLoading: false,\n    isRequesting: false,\n    isError: false,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n\n// Rejected request\nexport const Rejected: Story = {\n  args: {\n    exportRequest: {\n      id: '1',\n      status: 'rejected',\n      requestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24).toISOString(),\n      expiresAt: new Date(Date.now() + 1000 * 60 * 60 * 24 * 30).toISOString(),\n      metadata: {\n        rejectionReason: 'Request does not meet requirements.',\n      },\n    } as GdprExportRequest,\n    isLoading: false,\n    isRequesting: false,\n    isError: false,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n\n// Loading state\nexport const Loading: Story = {\n  args: {\n    exportRequest: null,\n    isLoading: true,\n    isRequesting: false,\n    isError: false,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n\n// Requesting state\nexport const Requesting: Story = {\n  args: {\n    exportRequest: null,\n    isLoading: false,\n    isRequesting: true,\n    isError: false,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n\n// Error state\nexport const Error: Story = {\n  args: {\n    exportRequest: null,\n    isLoading: false,\n    isRequesting: false,\n    isError: true,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n\n// Expiring soon\nexport const ExpiringSoon: Story = {\n  args: {\n    exportRequest: {\n      id: '1',\n      status: 'completed',\n      requestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 25).toISOString(),\n      expiresAt: new Date(Date.now() + 1000 * 60 * 60 * 24 * 5).toISOString(),\n      metadata: {\n        downloadUrl: 'https://example.com/export.zip',\n      },\n    } as GdprExportRequest,\n    isLoading: false,\n    isRequesting: false,\n    isError: false,\n    onRequestExport: fn(),\n    onDownload: fn(),\n    labels: DEFAULT_DATA_EXPORT_LABELS,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '600px' }}>\n        <DataExportCard {...args} />\n      </div>\n    );\n  },\n};\n"],"names":["cov_oe76kxvgz","actualCoverage","DEFAULT_DATA_EXPORT_LABELS","description","loading","requestButton","requestingButton","downloadButton","errorMessage","infoTitle","infoDescription","statusMessages","pending","processing","completed","rejected","requestedLabel","expiryWarning","days","s","rejectionLabel","exportRequest","labels","onDownload","expiresAt","rejectionReason","requestedDate","_a","requestedAt","toLocaleDateString","month","day","hour","minute","bgColor","status","borderColor","b","getExpiryMessage","now","daysRemaining","Math","ceil","expiryDate","expiredMessage","jsxs","padding","borderRadius","backgroundColor","border","children","jsx","Paragraph","style","margin","marginBottom","fontWeight","fontSize","color","marginTop","display","flexDirection","gap","type","Button","variant","onClick","minHeight","alignSelf","DataExportCard","isLoading","isRequesting","isError","onRequestExport","Card","level","Heading","disabled","ExportRequestStatus","meta","title","component","parameters","layout","docs","tags","NoRequest","args","fn","render","useT","width","Pending","id","Date","toISOString","Processing","Completed","metadata","downloadUrl","Rejected","Loading","Requesting","Error","ExpiringSoon","source","originalSource"],"mappings":"+wRAyGgB,OAAAA,EAAAC,UAAA,CAAA,OAAAA,CAAA,EAAAA,CAAAD,CAgFVA,EAAA,EA/F0D,MAAAE,GAAAF,EAAA,EAAA,EAAA,CAAA,IAAA,CACvDG,MAAAA,sBAELC,YAAA,2IACOC,QAAAA,YACMC,cAAAA,sBACGC,iBAAA,2BACFC,eAAA,qBAEdC,aAAA,qFACSC,UAAAA,UAETC,gBAAA,qJACcC,eAAA,CACLC,QAAAA,sDACGC,WAAA,0DACDC,UAAA,wCACD,SAAA,oEACZC,EACgBC,4BAAAjB,cAAAkB,IAAAlB,EAAA,EAAAmB,EAAA,CAAA,IAAAnB,EAAA,EAAA,EAAA,CAAA,IAAA,iCAAAkB,CAAA,OAAAA,IAAA,GAAAlB,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,OAAAA,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,GAAA,KAGAoB,eAAA,iCAElB,eAAA,QAYA,YAA6BC,GAAA,CAC3BC,cAAAA,EACAC,OAAAA,EAEF,WAAAA,CAAAvB,EAAAA,OACEA,IAAAA,EAAAA,CAAAA,IACA,MAAAwB,OAAA,EAAA,CAAAL,IAAAE,EAAAA,QACAI,GAAAA,IAAAzB,EAAAA,CAAA,IAAAqB,EAAAA,WAIAK,GAAA1B,EAAA,UAAA2B,EAAAN,EAAAA,WAAA,MAAAM,EAAAC,iBAAAC,MAAA,CAAA,EAAA,CAAA,IAAA,OAAAR,EAAA,SAAA,eAAA,IAAArB,IAAA,EAAA,CAAA,EAAA,CAAA,IAAA,SAAsF0B,GAAA1B,IAAA,EAAA,CAAA,IAAA,IAAA,KAAAqB,EAAA,WAAA,EAAA,mBAAA,QAAA,CAC9ES,eACCC,MAAA,OACFC,cACCC,KAAA,UACE,OAAA,UAEV,GAEAC,IAAAlC,IAAA,EAAA,CAAA,IAAAmC,EAAA,EAAA,EAAA,CAAA,EAAA,CAAAnC,IAAAA,EAAAA,eAAAmC,CAAA,IAAAnC,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAAA,KAOAoC,IAAApC,IAAAA,EAAA,CAAA,IAAAmC,IAAA,aAAAnC,EAAAA,EAAAA,EAAA,CAAA,EAAA,yCAAAA,EAAAA,EAAA,EAAA,CAAAqC,EAAA,CAAA,IAAAF,IAAA,YAAAnC,EAAAA,EAAA,EAAA,CAAAqC,EAAA,CAAA,IAAA,mCAAArC,EAAAA,EAAA,EAAAqC,CAAA,yCAAArC,IAAAA,IAAA,EAAA,CAAA,IAAAmC,IAAA,aAAAnC,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,mCAAAA,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAAmC,IAAA,YAAAnC,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,kCAAAA,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,iCAOAA,EAAAsC,EAAAA,EAAAA,CAAAA,IAAAtC,MAAAA,EAAA,IAAA,CACEA,GADFA,EAAA,EAAAmB,EAAA,CAAA,IACEnB,IAAA,EAAA,EAAA,IAAAA,EAAAA,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,QAAAA,QAAAA,EAAA,EAAAmB,EAAA,CAAA,EAAA,CAAA,IAAAnB,EAAA,EAAA,EAAA,EAAA,IAAA,KAEA,MAAAuC,IAAAvC,EAAAA,EAAAA,EAAAA,EAAAA,IAAA,IAAA,KAAAwB,CAAA,GACAgB,IAAAxC,IAAA,EAAA,EAAAyC,IAAAC,IAAA,MAAA1C,GAAAA,EAAA,EAAA,EAAA,EAAA,IAAA,KAAA,MAAA2C,GAAA,UAAAJ,GAAA,YAAA,IAAA,GAAA,GAAA,GAAA,GAEAvC,OAAAA,EAAAwC,EAAAA,EAAA,EAAA,IAAAxC,EAAA,GAAAA,EAAA,EAAAmB,EAAA,CAAA,EAAA,CAAA,IACEnB,EAAA,EAAA4C,EAAAA,EAAAA,IAActB,EAAA,iBAAAtB,EAAA,EAAAmB,EAAA,CAAA,EAAA,CAAA,IAAAnB,EAAAwC,EAAAA,EAAA,EAAA,IAAAxC,GAAA,GAAAA,EAAA,EAAAmB,EAAA,CAAA,EAAA,CAAA,IAEdnB,EAAA,EAAAiB,EAAAA,EAAAA,IAAyCK,EAAA,cAAAkB,CAAA,IAAAxC,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAE3CA,EAAA,EAAA,EAAA,EAAA,IAAO,MAAAA,EAGT,OAAAA,EAAA,EAAA,EAAA,EAAA,IACG6C,EAAAA,KAAA,MAAA,CACQC,MAAAA,CACIC,QAAAA,sBACKC,aAAAA,6BACGC,gBAAAf,GACTE,OAAAA,YACR,YAAAA,EACFc,EAGC,SAAA,CAAAC,EAAAA,IAAAC,EAAA,CACWC,YAAA,KACHC,MAAAA,CACGC,OAAAA,EACMC,aAAA,sBACFC,WAAA,IACF,SAAA,wBACZP,EAEC,WAIF,CAAA,EAAAC,EAAAA,IAAAC,EAAA,CACWC,YAAA,KACHC,MAAAA,CACGI,OAAA,EACDD,MAAAA,sCACG,SAAA,wBACZP,EAE0C,cAC5C,cAAAf,IAAAT,CAAA,EAIG2B,CAAAA,GAAAA,IAAA,EAAA,EAAA,EAAA,CAAA,IAAAlB,IAAA,cAAAnC,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAA6C,EAAAA,KAAA,MAAA,CACQc,MAAAA,CACMC,UAAA,sBACFC,QAAAA,OACMC,cAAA,SACV,IAAA,qBACPZ,EAGG,SAAA,EAAAlD,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAsC,EAAA,IAAAtC,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAmD,EAAAA,IAAAC,EAAA,CACWC,YAAA,KACHC,MAAAA,CACGI,OAAA,EACDD,MAAAA,+BACG,SAAA,0BAGM,YAGrBM,CAAAA,IAAAZ,EAAAA,IAAAa,EAAA,CACMC,KAAAA,SACG,QAAA,UACEC,YAAA3C,KACD8B,QAAA9B,EAAA4C,MAAAA,CAAAC,UAAA,OAAA,UAAA,cAGD,SAAA9C,EAAA,eACV,CAAA,CAMD,CAAA,KAAAtB,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAmC,IAAA,aAAAnC,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAyB,KAAAzB,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAmD,EAAAA,IAAAC,EAAA,CACWC,YAAA,KACHC,MAAAA,CACGK,OAAAA,EACGD,UAAA,sBACJD,MAAAA,8BACG,SAAA,wBACZP,EAE4C,SAAA,GAAA5B,EAAA,cAAA,IAAAG,CAAA,EAC9C,CAAA,GAAA,CAIR,CAAA,CAMO,CAAwBJ,SAAAgD,EAAA,CAC7BC,cAAAA,EACAC,UAAAA,EACAC,aAAAA,EACAC,QAAAA,EACAlD,gBAAAA,EACAD,WAAAA,EAEF,OAAAA,GAAAtB,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAE,EAAAF,EAAAA,CAAAA,OAAAA,EAAA,EAAAmB,EAAA,CAAA,IACEnB,EAAA,EAAA,EAAA,EAAA,IAAAmD,EAAAA,IAAAuB,GAAA,CAAA5B,MAAAA,CAAA,QAAA,qBAAAI,EAAAG,SAAAR,EAAAA,KAAA,MAAA,CAAAe,MAAAA,CAAAC,QAAAA,OAAAC,cAAA,SAAA,IAAA,qBAAAZ,EAIMA,SAAA,QACE,OAACyB,SAAA,CAAAxB,EAAAA,IAAAyB,GAAA,CACQ,MAAA,EACGvB,YAAA,KAAAC,MAAAA,CAAAC,OAAAA,EAAA,aAAA,uBAGF,WACVJ,KACC,CAAA,EAAAA,EAAAA,IAAAC,EAAA,CACWC,YAAA,KAAAC,MAAAA,CAAAI,OAAA,EAAA,MAAA,uCAGF,SAAApC,EAAA,WACV,CAAA,CACF,CAAA,CAAA,GAAAtB,IAAA,EAAA,EAAA,EAAA,CAAA,IAAAsE,IAAAtE,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAmD,EAAAA,IAAAC,EAAA,CAAAC,YAAA,KAAAC,MAAAA,CAAA,OAAA,GAAA,SAMEtD,EAAA,OAKC+D,CAAAA,KAAA/D,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAAsE,IAAAtE,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAAqB,KAAArB,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAmD,EAAAA,IAAAa,EAAA,CACMC,KAAAA,SACG,QAAA,YACEC,YAAAO,KACDI,UACCxB,SAAAkB,EAAAJ,MAAAA,CAAAC,UAAA,uBAAA,UAAA,YAC0DlB,EAEnB,SACnDlD,GAAAA,EAAAsE,EAAA,EAAA,EAAA,EAAAtE,CAAAA,IAAAA,EAAA,mBAAAqB,EAAArB,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA,IAAAsB,sBAKCD,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAAiD,IAAAtE,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAqB,KAAArB,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAmD,EAAAA,IAAA2B,GAAA,CACCxD,cAAAA,EACAC,OAAAA,EACA,WAAAA,CACF,CAAA,KAAAvB,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAwE,IAAAxE,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA,IAAAmD,EAAAA,IAAAC,EAAA,CAAAC,YAAA,KAAAC,MAAAA,CAAAI,OAAA,EAAA,MAAA,+BAAA,uBAWDL,CAAAA,IAAAF,EAAAA,IAAA,MAAA,CACQL,MAAAA,CACIC,QAAAA,sBACKC,aAAAA,6BACG,gBAAA,uCACnBE,EAEC,SAAAL,EAAAA,KAAAO,EAAA,CACWC,YAAA,KAAAC,MAAAA,CAAAI,OAAA,EAAA,MAAA,qCACuDR,WAEjE,CAAAzC,EAAAA,IAAAA,SAAAA,CAAA,SAAmCa,EAAAZ,UAAS,EAAA,IAAAY,EAAA,eAAA,EAC9C,EACF,CAAA,CAAA,CAAA,CAIR,CAAA,CAAAtB;;;;;;;;;;;;;;;;;;;;;;;;yGCvVA,MAAM+E,GAAoC,CACxCC,MAAO,wBACPC,UAAWZ,EACXa,WAAY,CACVC,OAAQ,WACRC,KAAM,CACJjF,YAAa,CACX8E,UAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA,CAyBb,CACF,EAEFI,KAAM,CAAC,UAAU,CACnB,EAMaC,EAAmB,CAC9BC,KAAM,CACJlE,cAAe,KACfiD,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,EAGaK,EAAiB,CAC5BL,KAAM,CACJlE,cAAe,CACbwE,GAAI,IACJ1D,OAAQ,UACRP,YAAa,IAAIkE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,EAAE,EAAEwD,YAAAA,EACnDvE,UAAW,IAAIsE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,GAAK,GAAK,EAAE,EAAEwD,YAAAA,CAAY,EAEzEzB,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,EAGaS,EAAoB,CAC/BT,KAAM,CACJlE,cAAe,CACbwE,GAAI,IACJ1D,OAAQ,aACRP,YAAa,IAAIkE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,EAAE,EAAEwD,YAAAA,EACnDvE,UAAW,IAAIsE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,GAAK,GAAK,EAAE,EAAEwD,YAAAA,CAAY,EAEzEzB,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,EAGaU,EAAmB,CAC9BV,KAAM,CACJlE,cAAe,CACbwE,GAAI,IACJ1D,OAAQ,YACRP,YAAa,IAAIkE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,GAAK,EAAE,EAAEwD,YAAAA,EACxDvE,UAAW,IAAIsE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,GAAK,GAAK,EAAE,EAAEwD,YAAAA,EAC3DG,SAAU,CACRC,YAAa,gCAAA,CACf,EAEF7B,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,EAGaa,EAAkB,CAC7Bb,KAAM,CACJlE,cAAe,CACbwE,GAAI,IACJ1D,OAAQ,WACRP,YAAa,IAAIkE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,GAAK,EAAE,EAAEwD,YAAAA,EACxDvE,UAAW,IAAIsE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,GAAK,GAAK,EAAE,EAAEwD,YAAAA,EAC3DG,SAAU,CACRzE,gBAAiB,qCAAA,CACnB,EAEF6C,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,EAGac,EAAiB,CAC5Bd,KAAM,CACJlE,cAAe,KACfiD,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,EAGae,EAAoB,CAC/Bf,KAAM,CACJlE,cAAe,KACfiD,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,EAGagB,EAAe,CAC1BhB,KAAM,CACJlE,cAAe,KACfiD,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,EAGaiB,EAAsB,CACjCjB,KAAM,CACJlE,cAAe,CACbwE,GAAI,IACJ1D,OAAQ,YACRP,YAAa,IAAIkE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,GAAK,GAAK,EAAE,EAAEwD,YAAAA,EAC7DvE,UAAW,IAAIsE,KAAKA,KAAKvD,IAAAA,EAAQ,IAAO,GAAK,GAAK,GAAK,CAAC,EAAEwD,YAAAA,EAC1DG,SAAU,CACRC,YAAa,gCAAA,CACf,EAEF7B,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,gBAAiBe,EAAAA,EACjBjE,WAAYiE,EAAAA,EACZlE,OAAQpB,CAAAA,EAEVuF,OAAQ,SAAgBF,EAAM,CAClBG,OAAAA,EAAAA,EAERvC,EAAAA,IAAC,OAAI,MAAO,CAAEwC,MAAO,OAAA,EACnB,SAAAxC,EAAAA,IAACkB,EAAA,CAAe,GAAIkB,EAAK,EAC3B,CAEJ,CACF,YAACD,EAAAJ,WAAA,CAAA,GAAAI,EAAAJ,WAAAE,KAAA,CAAA,IAAAE,EAAAA,EAAAJ,aAAAI,YAAAA,EAAAF,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAApB,GAAAA,EAAAA,EAAAJ,aAAAI,YAAAA,EAAAF,OAAAE,YAAAA,EAAAmB,MAAAA,CAAA,CAAA,YAAAb,EAAAV,WAAA,CAAA,GAAAU,EAAAV,WAAAE,KAAA,CAAA,IAAAQ,EAAAA,EAAAV,aAAAU,YAAAA,EAAAR,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAd,GAAAA,EAAAA,EAAAV,aAAAU,YAAAA,EAAAR,OAAAQ,YAAAA,EAAAa,MAAAA,CAAA,CAAA,YAAAT,EAAAd,WAAA,CAAA,GAAAc,EAAAd,WAAAE,KAAA,CAAA,IAAAY,EAAAA,EAAAd,aAAAc,YAAAA,EAAAZ,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAV,GAAAA,EAAAA,EAAAd,aAAAc,YAAAA,EAAAZ,OAAAY,YAAAA,EAAAS,MAAAA,CAAA,CAAA,YAAAR,EAAAf,WAAA,CAAA,GAAAe,EAAAf,WAAAE,KAAA,CAAA,IAAAa,EAAAA,EAAAf,aAAAe,YAAAA,EAAAb,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAT,GAAAA,EAAAA,EAAAf,aAAAe,YAAAA,EAAAb,OAAAa,YAAAA,EAAAQ,MAAAA,CAAA,CAAA,YAAAL,EAAAlB,WAAA,CAAA,GAAAkB,EAAAlB,WAAAE,KAAA,CAAA,IAAAgB,EAAAA,EAAAlB,aAAAkB,YAAAA,EAAAhB,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAN,GAAAA,EAAAA,EAAAlB,aAAAkB,YAAAA,EAAAhB,OAAAgB,YAAAA,EAAAK,MAAAA,CAAA,CAAA,YAAAJ,EAAAnB,WAAA,CAAA,GAAAmB,EAAAnB,WAAAE,KAAA,CAAA,IAAAiB,EAAAA,EAAAnB,aAAAmB,YAAAA,EAAAjB,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAL,GAAAA,EAAAA,EAAAnB,aAAAmB,YAAAA,EAAAjB,OAAAiB,YAAAA,EAAAI,MAAAA,CAAA,CAAA,YAAAH,EAAApB,WAAA,CAAA,GAAAoB,EAAApB,WAAAE,KAAA,CAAA,IAAAkB,EAAAA,EAAApB,aAAAoB,YAAAA,EAAAlB,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAJ,GAAAA,EAAAA,EAAApB,aAAAoB,YAAAA,EAAAlB,OAAAkB,YAAAA,EAAAG,MAAAA,CAAA,CAAA,YAAAF,EAAArB,WAAA,CAAA,GAAAqB,EAAArB,WAAAE,KAAA,CAAA,IAAAmB,EAAAA,EAAArB,aAAAqB,YAAAA,EAAAnB,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAH,GAAAA,EAAAA,EAAArB,aAAAqB,YAAAA,EAAAnB,OAAAmB,YAAAA,EAAAE,MAAAA,CAAA,CAAA,YAAAD,EAAAtB,WAAA,CAAA,GAAAsB,EAAAtB,WAAAE,KAAA,CAAA,IAAAoB,EAAAA,EAAAtB,aAAAsB,YAAAA,EAAApB,KAAAqB,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAF,GAAAA,EAAAA,EAAAtB,aAAAsB,YAAAA,EAAApB,OAAAoB,YAAAA,EAAAC,MAAAA,CAAA,CAAA"}