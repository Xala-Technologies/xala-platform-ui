import{j as e}from"./jsx-runtime-BYYWji4R.js";import{fn as G}from"./index-CLEdRh-S.js";import{r as m,R as J}from"./index-ClcD9ViR.js";import{u as f}from"./index-bjNF47ar.js";import{E as Z}from"./AuthComponents-BnSn-Cvx.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./chunk-DMXJFGWX-CI_CoAy0.js";import"./alert-BzTWXKSs.js";import"./index-CHmPfjQK.js";import"./tooltip-BO1LcXkK.js";import"./link-DlTbUgI1.js";import"./use-merge-refs-cKtnuP4l.js";import"./index-BUAr5TKG.js";import"./index-Df4a1FH3.js";import"./roving-focus-item-DcdCcS0a.js";import"./paragraph-DDCpJsVw.js";import"./button-B6PgazAq.js";import"./label-9E-twYNb.js";import"./heading-mzc2R_Ff.js";import"./input-CMu9MsIQ.js";import"./index-D1XdeRjR.js";import"./checkbox-CeN5g5X_.js";import"./radio-ER07BMpk.js";import"./index-iTq-tUBJ.js";import"./tag-DS5F5fAT.js";import"./textarea-DMvw4dlU.js";import"./textfield-BCKd4uLT.js";import"./utils-Dlkq94hl.js";function n(){var o="/Volumes/Laravel/Xala-SAAS/tools/xala-platform-ui/packages/platform-ui/src/blocks/GlobalErrorHandler.tsx",r="25624347aaf5892fe7f4c11f475ebdd52e8c195e",l=globalThis,c="__coverage__",A={path:"/Volumes/Laravel/Xala-SAAS/tools/xala-platform-ui/packages/platform-ui/src/blocks/GlobalErrorHandler.tsx",statementMap:{0:{start:{line:5,column:2},end:{line:8,column:3}},1:{start:{line:6,column:20},end:{line:6,column:47}},2:{start:{line:7,column:4},end:{line:7,column:198}},3:{start:{line:9,column:2},end:{line:9,column:15}},4:{start:{line:12,column:2},end:{line:14,column:3}},5:{start:{line:13,column:4},end:{line:13,column:91}},6:{start:{line:15,column:2},end:{line:17,column:3}},7:{start:{line:16,column:4},end:{line:16,column:65}},8:{start:{line:18,column:2},end:{line:18,column:70}},9:{start:{line:30,column:28},end:{line:30,column:42}},10:{start:{line:31,column:28},end:{line:49,column:3}},11:{start:{line:33,column:6},end:{line:33,column:29}},12:{start:{line:34,column:26},end:{line:41,column:7}},13:{start:{line:42,column:6},end:{line:42,column:78}},14:{start:{line:43,column:6},end:{line:43,column:28}},15:{start:{line:44,column:6},end:{line:46,column:7}},16:{start:{line:45,column:8},end:{line:45,column:29}},17:{start:{line:50,column:35},end:{line:67,column:3}},18:{start:{line:52,column:6},end:{line:52,column:29}},19:{start:{line:53,column:21},end:{line:53,column:33}},20:{start:{line:54,column:27},end:{line:54,column:139}},21:{start:{line:55,column:26},end:{line:59,column:7}},22:{start:{line:60,column:6},end:{line:60,column:86}},23:{start:{line:61,column:6},end:{line:61,column:28}},24:{start:{line:62,column:6},end:{line:64,column:7}},25:{start:{line:63,column:8},end:{line:63,column:29}},26:{start:{line:68,column:22},end:{line:75,column:15}},27:{start:{line:69,column:4},end:{line:69,column:19}},28:{start:{line:70,column:4},end:{line:74,column:5}},29:{start:{line:71,column:6},end:{line:71,column:16}},30:{start:{line:73,column:6},end:{line:73,column:31}},31:{start:{line:76,column:2},end:{line:83,column:52}},32:{start:{line:77,column:4},end:{line:77,column:56}},33:{start:{line:78,column:4},end:{line:78,column:76}},34:{start:{line:79,column:4},end:{line:82,column:6}},35:{start:{line:80,column:6},end:{line:80,column:61}},36:{start:{line:81,column:6},end:{line:81,column:81}},37:{start:{line:84,column:2},end:{line:98,column:3}},38:{start:{line:85,column:4},end:{line:87,column:5}},39:{start:{line:86,column:6},end:{line:86,column:67}},40:{start:{line:88,column:4},end:{line:97,column:6}},41:{start:{line:99,column:2},end:{line:99,column:53}},42:{start:{line:102,column:28},end:{line:102,column:42}},43:{start:{line:103,column:22},end:{line:103,column:29}},44:{start:{line:104,column:2},end:{line:138,column:16}},45:{start:{line:105,column:24},end:{line:118,column:5}},46:{start:{line:106,column:26},end:{line:113,column:7}},47:{start:{line:114,column:6},end:{line:114,column:28}},48:{start:{line:115,column:6},end:{line:117,column:7}},49:{start:{line:116,column:8},end:{line:116,column:29}},50:{start:{line:119,column:28},end:{line:131,column:5}},51:{start:{line:120,column:21},end:{line:120,column:33}},52:{start:{line:121,column:27},end:{line:121,column:139}},53:{start:{line:122,column:26},end:{line:126,column:7}},54:{start:{line:127,column:6},end:{line:127,column:28}},55:{start:{line:128,column:6},end:{line:130,column:7}},56:{start:{line:129,column:8},end:{line:129,column:29}},57:{start:{line:132,column:4},end:{line:132,column:50}},58:{start:{line:133,column:4},end:{line:133,column:67}},59:{start:{line:134,column:4},end:{line:137,column:6}},60:{start:{line:135,column:6},end:{line:135,column:55}},61:{start:{line:136,column:6},end:{line:136,column:72}},62:{start:{line:139,column:2},end:{line:139,column:15}},63:{start:{line:141,column:0},end:{line:147,column:50}},64:{start:{line:143,column:4},end:{line:143,column:58}},65:{start:{line:145,column:4},end:{line:145,column:1579}},66:{start:{line:147,column:50},end:{line:153,column:50}},67:{start:{line:149,column:4},end:{line:149,column:50}},68:{start:{line:151,column:4},end:{line:151,column:413}}},fnMap:{0:{name:"isChunkLoadError",decl:{start:{line:4,column:9},end:{line:4,column:25}},loc:{start:{line:4,column:33},end:{line:10,column:1}},line:4},1:{name:"getErrorDescription",decl:{start:{line:11,column:9},end:{line:11,column:28}},loc:{start:{line:11,column:36},end:{line:19,column:1}},line:11},2:{name:"GlobalErrorHandler",decl:{start:{line:20,column:16},end:{line:20,column:34}},loc:{start:{line:29,column:3},end:{line:100,column:1}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:15},end:{line:47,column:5}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:15},end:{line:65,column:5}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:68,column:34},end:{line:68,column:35}},loc:{start:{line:68,column:40},end:{line:75,column:3}},line:68},6:{name:"(anonymous_6)",decl:{start:{line:76,column:12},end:{line:76,column:13}},loc:{start:{line:76,column:18},end:{line:83,column:3}},line:76},7:{name:"(anonymous_7)",decl:{start:{line:79,column:11},end:{line:79,column:12}},loc:{start:{line:79,column:17},end:{line:82,column:5}},line:79},8:{name:"useGlobalError",decl:{start:{line:101,column:16},end:{line:101,column:30}},loc:{start:{line:101,column:45},end:{line:140,column:1}},line:101},9:{name:"(anonymous_9)",decl:{start:{line:104,column:12},end:{line:104,column:13}},loc:{start:{line:104,column:18},end:{line:138,column:3}},line:104},10:{name:"(anonymous_10)",decl:{start:{line:105,column:24},end:{line:105,column:25}},loc:{start:{line:105,column:35},end:{line:118,column:5}},line:105},11:{name:"(anonymous_11)",decl:{start:{line:119,column:28},end:{line:119,column:29}},loc:{start:{line:119,column:39},end:{line:131,column:5}},line:119},12:{name:"(anonymous_12)",decl:{start:{line:134,column:11},end:{line:134,column:12}},loc:{start:{line:134,column:17},end:{line:137,column:5}},line:134}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:7,column:11},end:{line:7,column:197}},type:"binary-expr",locations:[{start:{line:7,column:11},end:{line:7,column:44}},{start:{line:7,column:48},end:{line:7,column:85}},{start:{line:7,column:89},end:{line:7,column:152}},{start:{line:7,column:156},end:{line:7,column:197}}],line:7},2:{loc:{start:{line:12,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},3:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},4:{loc:{start:{line:24,column:2},end:{line:24,column:30}},type:"default-arg",locations:[{start:{line:24,column:15},end:{line:24,column:30}}],line:24},5:{loc:{start:{line:26,column:2},end:{line:26,column:24}},type:"default-arg",locations:[{start:{line:26,column:20},end:{line:26,column:24}}],line:26},6:{loc:{start:{line:27,column:2},end:{line:27,column:40}},type:"default-arg",locations:[{start:{line:27,column:20},end:{line:27,column:40}}],line:27},7:{loc:{start:{line:35,column:17},end:{line:35,column:49}},type:"binary-expr",locations:[{start:{line:35,column:17},end:{line:35,column:30}},{start:{line:35,column:34},end:{line:35,column:49}}],line:35},8:{loc:{start:{line:39,column:15},end:{line:39,column:66}},type:"cond-expr",locations:[{start:{line:39,column:46},end:{line:39,column:57}},{start:{line:39,column:60},end:{line:39,column:66}}],line:39},9:{loc:{start:{line:40,column:14},end:{line:40,column:83}},type:"cond-expr",locations:[{start:{line:40,column:46},end:{line:40,column:66}},{start:{line:40,column:69},end:{line:40,column:83}}],line:40},10:{loc:{start:{line:44,column:6},end:{line:46,column:7}},type:"if",locations:[{start:{line:44,column:6},end:{line:46,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},11:{loc:{start:{line:54,column:27},end:{line:54,column:139}},type:"cond-expr",locations:[{start:{line:54,column:53},end:{line:54,column:67}},{start:{line:54,column:70},end:{line:54,column:139}}],line:54},12:{loc:{start:{line:54,column:70},end:{line:54,column:139}},type:"cond-expr",locations:[{start:{line:54,column:99},end:{line:54,column:105}},{start:{line:54,column:108},end:{line:54,column:139}}],line:54},13:{loc:{start:{line:57,column:15},end:{line:57,column:56}},type:"cond-expr",locations:[{start:{line:57,column:41},end:{line:57,column:47}},{start:{line:57,column:50},end:{line:57,column:56}}],line:57},14:{loc:{start:{line:58,column:14},end:{line:58,column:85}},type:"cond-expr",locations:[{start:{line:58,column:41},end:{line:58,column:61}},{start:{line:58,column:64},end:{line:58,column:85}}],line:58},15:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},16:{loc:{start:{line:70,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:74,column:5}},{start:{line:72,column:11},end:{line:74,column:5}}],line:70},17:{loc:{start:{line:84,column:2},end:{line:98,column:3}},type:"if",locations:[{start:{line:84,column:2},end:{line:98,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},18:{loc:{start:{line:85,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:87,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},19:{loc:{start:{line:92,column:21},end:{line:92,column:67}},type:"binary-expr",locations:[{start:{line:92,column:21},end:{line:92,column:37}},{start:{line:92,column:41},end:{line:92,column:67}}],line:92},20:{loc:{start:{line:101,column:31},end:{line:101,column:43}},type:"default-arg",locations:[{start:{line:101,column:41},end:{line:101,column:43}}],line:101},21:{loc:{start:{line:107,column:17},end:{line:107,column:49}},type:"binary-expr",locations:[{start:{line:107,column:17},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:49}}],line:107},22:{loc:{start:{line:111,column:15},end:{line:111,column:66}},type:"cond-expr",locations:[{start:{line:111,column:46},end:{line:111,column:57}},{start:{line:111,column:60},end:{line:111,column:66}}],line:111},23:{loc:{start:{line:112,column:14},end:{line:112,column:83}},type:"cond-expr",locations:[{start:{line:112,column:46},end:{line:112,column:66}},{start:{line:112,column:69},end:{line:112,column:83}}],line:112},24:{loc:{start:{line:115,column:6},end:{line:117,column:7}},type:"if",locations:[{start:{line:115,column:6},end:{line:117,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:115},25:{loc:{start:{line:121,column:27},end:{line:121,column:139}},type:"cond-expr",locations:[{start:{line:121,column:53},end:{line:121,column:67}},{start:{line:121,column:70},end:{line:121,column:139}}],line:121},26:{loc:{start:{line:121,column:70},end:{line:121,column:139}},type:"cond-expr",locations:[{start:{line:121,column:99},end:{line:121,column:105}},{start:{line:121,column:108},end:{line:121,column:139}}],line:121},27:{loc:{start:{line:124,column:15},end:{line:124,column:56}},type:"cond-expr",locations:[{start:{line:124,column:41},end:{line:124,column:47}},{start:{line:124,column:50},end:{line:124,column:56}}],line:124},28:{loc:{start:{line:125,column:14},end:{line:125,column:85}},type:"cond-expr",locations:[{start:{line:125,column:41},end:{line:125,column:61}},{start:{line:125,column:64},end:{line:125,column:85}}],line:125},29:{loc:{start:{line:128,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:128,column:6},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:128}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0],5:[0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0]},inputSourceMap:{version:3,file:null,sources:["/Volumes/Laravel/Xala-SAAS/tools/xala-platform-ui/packages/platform-ui/src/blocks/GlobalErrorHandler.tsx"],names:[],mappings:"AA8Ma;AAhMb;AACA;AA+CA;AACE;AACE;AACA;AAI0C;AAG5C;AACF;AAKA;AACE;AACE;AAAO;AAGT;AACE;AAAO;AAIT;AACF;AAMO;AAA4B;AACjC;AACA;AACA;AACa;AACb;AACkB;AACA;AAEpB;AACE;AAKA;AAA0B;AAGtB;AAEA;AAAiC;AACL;AACZ;AACA;AACD;AACuC;AACS;AAG/D;AAEA;AAIA;AACE;AAAmB;AACrB;AACF;AACQ;AAMV;AAAiC;AAG7B;AAEA;AACA;AAOA;AAAiC;AACtB;AACiC;AACc;AAG1D;AAEA;AAIA;AACE;AAAmB;AACrB;AACF;AACQ;AAMV;AAEE;AAGA;AACE;AAAQ;AAER;AAAuB;AACzB;AAMF;AAEE;AACA;AAGA;AACE;AACA;AAAyE;AAC3E;AAIF;AAEE;AACE;AAAmB;AAIrB;AACE;AAAC;AAAA;AACQ;AACmD;AAC1D;AACA;AACS;AAAA;AACX;AAKJ;AACF;AAuBO;AACL;AACA;AAEA;AACE;AACE;AAAiC;AACL;AACZ;AACA;AACD;AACuC;AACS;AAG/D;AAEA;AACE;AAAmB;AACrB;AAGF;AACE;AACA;AAOA;AAAiC;AACtB;AACiC;AACc;AAG1D;AAEA;AACE;AAAmB;AACrB;AAGF;AACA;AAEA;AACE;AACA;AAAgE;AAClE;AAGF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"25624347aaf5892fe7f4c11f475ebdd52e8c195e"},d=l[c]||(l[c]={});(!d[o]||d[o].hash!==r)&&(d[o]=A);var t=d[o];return n=function(){return t},t}n();function x(o){if(n().f[0]++,n().s[0]++,o instanceof Error){n().b[0][0]++;const r=(n().s[1]++,o.message.toLowerCase());return n().s[2]++,n().b[1][0]++,r.includes("loading chunk")||(n().b[1][1]++,r.includes("loading css chunk"))||(n().b[1][2]++,r.includes("failed to fetch dynamically imported module"))||(n().b[1][3]++,r.includes("unable to preload css"))}else n().b[0][1]++;return n().s[3]++,!1}function z(o){return n().f[1]++,n().s[4]++,o.type==="chunk-load-failure"?(n().b[2][0]++,n().s[5]++,"En ny versjon av applikasjonen er tilgjengelig. Vennligst last siden på nytt."):(n().b[2][1]++,n().s[6]++,o.type==="unhandled-rejection"?(n().b[3][0]++,n().s[7]++,"En asynkron operasjon feilet. Vennligst prøv igjen."):(n().b[3][1]++,n().s[8]++,"En uventet feil har oppstått. Vennligst prøv igjen senere."))}function u({children:o,fallback:r,onError:l,errorTitle:c=(n().b[4][0]++,"Noe gikk galt"),errorDescription:A,showRetryButton:d=(n().b[5][0]++,!0),retryButtonText:t=(n().b[6][0]++,"Last siden på nytt"),onRetry:i}){n().f[2]++;const[b,p]=(n().s[9]++,m.useState(null)),w=(n().s[10]++,m.useCallback(s=>{n().f[3]++,n().s[11]++,s.preventDefault();const a=(n().s[12]++,{message:(n().b[7][0]++,s.message||(n().b[7][1]++,"Unknown error")),source:s.filename,lineno:s.lineno,colno:s.colno,error:s.error instanceof Error?(n().b[8][0]++,s.error):(n().b[8][1]++,void 0),type:x(s.error)?(n().b[9][0]++,"chunk-load-failure"):(n().b[9][1]++,"window-error")});n().s[13]++,console.error("GlobalErrorHandler caught a window error:",a),n().s[14]++,p(a),n().s[15]++,l?(n().b[10][0]++,n().s[16]++,l(a)):n().b[10][1]++},[l])),k=(n().s[17]++,m.useCallback(s=>{n().f[4]++,n().s[18]++,s.preventDefault();const a=(n().s[19]++,s.reason),W=(n().s[20]++,a instanceof Error?(n().b[11][0]++,a.message):(n().b[11][1]++,typeof a=="string"?(n().b[12][0]++,a):(n().b[12][1]++,"Ubehandlet avvisning av løfte"))),j=(n().s[21]++,{message:W,error:a instanceof Error?(n().b[13][0]++,a):(n().b[13][1]++,void 0),type:x(a)?(n().b[14][0]++,"chunk-load-failure"):(n().b[14][1]++,"unhandled-rejection")});n().s[22]++,console.error("GlobalErrorHandler caught an unhandled rejection:",j),n().s[23]++,p(j),n().s[24]++,l?(n().b[15][0]++,n().s[25]++,l(j)):n().b[15][1]++},[l])),K=(n().s[26]++,m.useCallback(()=>{n().f[5]++,n().s[27]++,p(null),n().s[28]++,i?(n().b[16][0]++,n().s[29]++,i()):(n().b[16][1]++,n().s[30]++,window.location.reload())},[i]));return n().s[31]++,m.useEffect(()=>(n().f[6]++,n().s[32]++,window.addEventListener("error",w),n().s[33]++,window.addEventListener("unhandledrejection",k),n().s[34]++,()=>{n().f[7]++,n().s[35]++,window.removeEventListener("error",w),n().s[36]++,window.removeEventListener("unhandledrejection",k)}),[w,k]),n().s[37]++,b?(n().b[17][0]++,n().s[38]++,r?(n().b[18][0]++,n().s[39]++,e.jsx(e.Fragment,{children:r})):(n().b[18][1]++,n().s[40]++,e.jsx(Z,{title:c,description:(n().b[19][0]++,A||(n().b[19][1]++,z(b))),showRetryButton:d,retryButtonText:t,onRetry:K}))):(n().b[17][1]++,n().s[41]++,e.jsx(e.Fragment,{children:o}))}function R(o=(n().b[20][0]++,{})){n().f[8]++;const[r,l]=(n().s[42]++,m.useState(null)),{onError:c}=(n().s[43]++,o);return n().s[44]++,m.useEffect(()=>{n().f[9]++,n().s[45]++;const A=t=>{n().f[10]++;const i=(n().s[46]++,{message:(n().b[21][0]++,t.message||(n().b[21][1]++,"Unknown error")),source:t.filename,lineno:t.lineno,colno:t.colno,error:t.error instanceof Error?(n().b[22][0]++,t.error):(n().b[22][1]++,void 0),type:x(t.error)?(n().b[23][0]++,"chunk-load-failure"):(n().b[23][1]++,"window-error")});n().s[47]++,l(i),n().s[48]++,c?(n().b[24][0]++,n().s[49]++,c(i)):n().b[24][1]++};n().s[50]++;const d=t=>{n().f[11]++;const i=(n().s[51]++,t.reason),b=(n().s[52]++,i instanceof Error?(n().b[25][0]++,i.message):(n().b[25][1]++,typeof i=="string"?(n().b[26][0]++,i):(n().b[26][1]++,"Ubehandlet avvisning av løfte"))),p=(n().s[53]++,{message:b,error:i instanceof Error?(n().b[27][0]++,i):(n().b[27][1]++,void 0),type:x(i)?(n().b[28][0]++,"chunk-load-failure"):(n().b[28][1]++,"unhandled-rejection")});n().s[54]++,l(p),n().s[55]++,c?(n().b[29][0]++,n().s[56]++,c(p)):n().b[29][1]++};return n().s[57]++,window.addEventListener("error",A),n().s[58]++,window.addEventListener("unhandledrejection",d),n().s[59]++,()=>{n().f[12]++,n().s[60]++,window.removeEventListener("error",A),n().s[61]++,window.removeEventListener("unhandledrejection",d)}},[c]),n().s[62]++,r}n().s[63]++;try{n().s[64]++,u.displayName="GlobalErrorHandler",n().s[65]++,u.__docgenInfo={description:"",displayName:"GlobalErrorHandler",props:{children:{defaultValue:null,description:"Child components to wrap",name:"children",required:!0,type:{name:"ReactNode"}},fallback:{defaultValue:null,description:"Custom fallback UI to render when an error occurs",name:"fallback",required:!1,type:{name:"ReactNode"}},onError:{defaultValue:null,description:"Callback when an error is caught (for error tracking services)",name:"onError",required:!1,type:{name:"((error: GlobalError) => void)"}},errorTitle:{defaultValue:{value:"Noe gikk galt"},description:"Custom title for the error screen",name:"errorTitle",required:!1,type:{name:"string"}},errorDescription:{defaultValue:null,description:"Custom description for the error screen",name:"errorDescription",required:!1,type:{name:"string"}},showRetryButton:{defaultValue:{value:"true"},description:"Show the retry button (default: true)",name:"showRetryButton",required:!1,type:{name:"boolean"}},retryButtonText:{defaultValue:{value:"Last siden på nytt"},description:"Custom retry button text",name:"retryButtonText",required:!1,type:{name:"string"}},onRetry:{defaultValue:null,description:"Custom retry handler (defaults to page reload)",name:"onRetry",required:!1,type:{name:"(() => void)"}}}}}catch{}n().s[66]++;try{n().s[67]++,R.displayName="useGlobalError",n().s[68]++,R.__docgenInfo={description:`Hook to listen for global errors without rendering a fallback UI.
Useful for logging/tracking errors while letting them bubble up.`,displayName:"useGlobalError",props:{onError:{defaultValue:null,description:"Callback when an error is caught",name:"onError",required:!1,type:{name:"((error: GlobalError) => void)"}}}}}catch{}const Gn={title:"Blocks/GlobalErrorHandler",component:u,parameters:{layout:"centered",docs:{description:{component:`
## GlobalErrorHandler

Catches unhandled JavaScript errors and promise rejections at the window level. Provides a user-friendly error screen for global errors that aren't caught by React's ErrorBoundary.

### Features
- Catches window errors
- Handles unhandled promise rejections
- Detects chunk load failures
- Custom error messages
- Retry functionality

### Usage
\`\`\`tsx
<GlobalErrorHandler
  onError={(error) => {
    // Log to error tracking service
  }}
  errorTitle="Something went wrong"
>
  <App />
</GlobalErrorHandler>
\`\`\`
        `}}},args:{onError:G(),onRetry:G()},tags:["autodocs"]},g={args:{},render:function(r){const l=f();return e.jsx("div",{style:{width:"500px"},children:e.jsx(u,{...r,children:e.jsxs("div",{style:{padding:"var(--ds-spacing-4)"},children:[e.jsx("h3",{children:l("storybook.demo.cardTitle")}),e.jsx("p",{children:l("storybook.demo.cardDescription")})]})})})}},y={args:{errorTitle:"Application Error",showRetryButton:!0},render:function(r){const l=f();return J.useEffect(()=>{},[]),e.jsx("div",{style:{width:"500px"},children:e.jsx(u,{...r,children:e.jsx("div",{style:{padding:"var(--ds-spacing-4)"},children:e.jsx("p",{children:l("storybook.demo.sampleText")})})})})}},h={args:{errorDescription:"A critical error occurred. Please refresh the page or contact support.",showRetryButton:!0},render:function(r){const l=f();return e.jsx("div",{style:{width:"500px"},children:e.jsx(u,{...r,children:e.jsx("div",{style:{padding:"var(--ds-spacing-4)"},children:e.jsx("p",{children:l("storybook.demo.sampleText")})})})})}},E={args:{showRetryButton:!1},render:function(r){const l=f();return e.jsx("div",{style:{width:"500px"},children:e.jsx(u,{...r,children:e.jsx("div",{style:{padding:"var(--ds-spacing-4)"},children:e.jsx("p",{children:l("storybook.demo.sampleText")})})})})}},C={args:{retryButtonText:"Reload Page",showRetryButton:!0},render:function(r){const l=f();return e.jsx("div",{style:{width:"500px"},children:e.jsx(u,{...r,children:e.jsx("div",{style:{padding:"var(--ds-spacing-4)"},children:e.jsx("p",{children:l("storybook.demo.sampleText")})})})})}},v={args:{fallback:e.jsxs("div",{style:{padding:"var(--ds-spacing-8)",textAlign:"center",border:"2px dashed var(--ds-color-danger-border-default)",borderRadius:"var(--ds-border-radius-md)"},children:[e.jsx("h2",{children:"Custom Error UI"}),e.jsx("p",{children:"This is a custom fallback component for global errors."})]})},render:function(r){const l=f();return e.jsx("div",{style:{width:"500px"},children:e.jsx(u,{...r,children:e.jsx("div",{style:{padding:"var(--ds-spacing-4)"},children:e.jsx("p",{children:l("storybook.demo.sampleText")})})})})}};var B,T,_;g.parameters={...g.parameters,docs:{...(B=g.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {},
  render: function Render(args) {
    const t = useT();
    return <div style={{
      width: '500px'
    }}>
        <GlobalErrorHandler {...args}>
          <div style={{
          padding: 'var(--ds-spacing-4)'
        }}>
            <h3>{t('storybook.demo.cardTitle')}</h3>
            <p>{t('storybook.demo.cardDescription')}</p>
          </div>
        </GlobalErrorHandler>
      </div>;
  }
}`,...(_=(T=g.parameters)==null?void 0:T.docs)==null?void 0:_.source}}};var H,S,D;y.parameters={...y.parameters,docs:{...(H=y.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: {
    errorTitle: 'Application Error',
    showRetryButton: true
  },
  render: function Render(args) {
    const t = useT();
    // Simulate error by throwing
    React.useEffect(() => {
      // This would normally be caught by GlobalErrorHandler
      // For demo purposes, we'll show the error screen directly
    }, []);
    return <div style={{
      width: '500px'
    }}>
        <GlobalErrorHandler {...args}>
          <div style={{
          padding: 'var(--ds-spacing-4)'
        }}>
            <p>{t('storybook.demo.sampleText')}</p>
          </div>
        </GlobalErrorHandler>
      </div>;
  }
}`,...(D=(S=y.parameters)==null?void 0:S.docs)==null?void 0:D.source}}};var L,F,V;h.parameters={...h.parameters,docs:{...(L=h.parameters)==null?void 0:L.docs,source:{originalSource:`{
  args: {
    errorDescription: 'A critical error occurred. Please refresh the page or contact support.',
    showRetryButton: true
  },
  render: function Render(args) {
    const t = useT();
    return <div style={{
      width: '500px'
    }}>
        <GlobalErrorHandler {...args}>
          <div style={{
          padding: 'var(--ds-spacing-4)'
        }}>
            <p>{t('storybook.demo.sampleText')}</p>
          </div>
        </GlobalErrorHandler>
      </div>;
  }
}`,...(V=(F=h.parameters)==null?void 0:F.docs)==null?void 0:V.source}}};var I,M,U;E.parameters={...E.parameters,docs:{...(I=E.parameters)==null?void 0:I.docs,source:{originalSource:`{
  args: {
    showRetryButton: false
  },
  render: function Render(args) {
    const t = useT();
    return <div style={{
      width: '500px'
    }}>
        <GlobalErrorHandler {...args}>
          <div style={{
          padding: 'var(--ds-spacing-4)'
        }}>
            <p>{t('storybook.demo.sampleText')}</p>
          </div>
        </GlobalErrorHandler>
      </div>;
  }
}`,...(U=(M=E.parameters)==null?void 0:M.docs)==null?void 0:U.source}}};var N,q,O;C.parameters={...C.parameters,docs:{...(N=C.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    retryButtonText: 'Reload Page',
    showRetryButton: true
  },
  render: function Render(args) {
    const t = useT();
    return <div style={{
      width: '500px'
    }}>
        <GlobalErrorHandler {...args}>
          <div style={{
          padding: 'var(--ds-spacing-4)'
        }}>
            <p>{t('storybook.demo.sampleText')}</p>
          </div>
        </GlobalErrorHandler>
      </div>;
  }
}`,...(O=(q=C.parameters)==null?void 0:q.docs)==null?void 0:O.source}}};var P,Q,X;v.parameters={...v.parameters,docs:{...(P=v.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    fallback: <div style={{
      padding: 'var(--ds-spacing-8)',
      textAlign: 'center',
      border: '2px dashed var(--ds-color-danger-border-default)',
      borderRadius: 'var(--ds-border-radius-md)'
    }}>
        <h2>Custom Error UI</h2>
        <p>This is a custom fallback component for global errors.</p>
      </div>
  },
  render: function Render(args) {
    const t = useT();
    return <div style={{
      width: '500px'
    }}>
        <GlobalErrorHandler {...args}>
          <div style={{
          padding: 'var(--ds-spacing-4)'
        }}>
            <p>{t('storybook.demo.sampleText')}</p>
          </div>
        </GlobalErrorHandler>
      </div>;
  }
}`,...(X=(Q=v.parameters)==null?void 0:Q.docs)==null?void 0:X.source}}};const Rn=["NoError","CustomTitle","CustomDescription","WithoutRetryButton","CustomRetryText","CustomFallback"];export{h as CustomDescription,v as CustomFallback,C as CustomRetryText,y as CustomTitle,g as NoError,E as WithoutRetryButton,Rn as __namedExportsOrder,Gn as default};
//# sourceMappingURL=GlobalErrorHandler.stories--MpKgaqc.js.map
