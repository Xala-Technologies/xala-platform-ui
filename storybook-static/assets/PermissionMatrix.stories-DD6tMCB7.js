import{j as n}from"./jsx-runtime-BYYWji4R.js";import{fn as g}from"./index-CLEdRh-S.js";import{u as te}from"./index-bjNF47ar.js";import{r as C,R as ae}from"./index-ClcD9ViR.js";import"./alert-BzTWXKSs.js";import{T as a}from"./tooltip-BO1LcXkK.js";import"./button-B6PgazAq.js";import{C as D}from"./index-D1XdeRjR.js";import{C as ce}from"./checkbox-CeN5g5X_.js";import"./index-Df4a1FH3.js";import"./radio-ER07BMpk.js";import{H as _}from"./heading-mzc2R_Ff.js";import"./input-CMu9MsIQ.js";import"./label-9E-twYNb.js";import"./link-DlTbUgI1.js";import{P as p}from"./paragraph-DDCpJsVw.js";import"./index-iTq-tUBJ.js";import"./tag-DS5F5fAT.js";import"./textarea-DMvw4dlU.js";import{T as Ae}from"./textfield-BCKd4uLT.js";import"./roving-focus-item-DcdCcS0a.js";import{B as de}from"./Badge-BL5YKrbx.js";import"./chunk-DMXJFGWX-CI_CoAy0.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-CHmPfjQK.js";import"./use-merge-refs-cKtnuP4l.js";import"./index-BUAr5TKG.js";function e(){var l="/Volumes/Laravel/Xala-SAAS/tools/xala-platform-ui/packages/platform-ui/src/blocks/admin/PermissionMatrix.tsx",o="60aac9dc7f2e157c19a8c9925f0d7d5d36349a3a",A=globalThis,d="__coverage__",h={path:"/Volumes/Laravel/Xala-SAAS/tools/xala-platform-ui/packages/platform-ui/src/blocks/admin/PermissionMatrix.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:9,column:1}},1:{start:{line:18,column:40},end:{line:18,column:52}},2:{start:{line:19,column:54},end:{line:21,column:3}},3:{start:{line:20,column:10},end:{line:20,column:53}},4:{start:{line:20,column:41},end:{line:20,column:51}},5:{start:{line:22,column:30},end:{line:28,column:32}},6:{start:{line:23,column:4},end:{line:23,column:41}},7:{start:{line:23,column:22},end:{line:23,column:41}},8:{start:{line:24,column:18},end:{line:24,column:43}},9:{start:{line:25,column:4},end:{line:27,column:6}},10:{start:{line:26,column:13},end:{line:26,column:140}},11:{start:{line:29,column:29},end:{line:44,column:44}},12:{start:{line:30,column:4},end:{line:32,column:5}},13:{start:{line:31,column:6},end:{line:31,column:56}},14:{start:{line:33,column:4},end:{line:43,column:6}},15:{start:{line:35,column:25},end:{line:35,column:57}},16:{start:{line:36,column:8},end:{line:38,column:9}},17:{start:{line:37,column:10},end:{line:37,column:29}},18:{start:{line:39,column:8},end:{line:39,column:33}},19:{start:{line:40,column:8},end:{line:40,column:19}},20:{start:{line:45,column:25},end:{line:55,column:8}},21:{start:{line:46,column:4},end:{line:54,column:7}},22:{start:{line:47,column:19},end:{line:47,column:32}},23:{start:{line:48,column:6},end:{line:52,column:7}},24:{start:{line:49,column:8},end:{line:49,column:30}},25:{start:{line:51,column:8},end:{line:51,column:27}},26:{start:{line:53,column:6},end:{line:53,column:18}},27:{start:{line:56,column:23},end:{line:63,column:3}},28:{start:{line:58,column:6},end:{line:60,column:7}},29:{start:{line:59,column:8},end:{line:59,column:64}},30:{start:{line:64,column:2},end:{line:69,column:3}},31:{start:{line:65,column:4},end:{line:68,column:9}},32:{start:{line:70,column:21},end:{line:70,column:59}},33:{start:{line:71,column:2},end:{line:297,column:7}},34:{start:{line:95,column:27},end:{line:95,column:57}},35:{start:{line:132,column:44},end:{line:164,column:9}},36:{start:{line:167,column:36},end:{line:167,column:70}},37:{start:{line:168,column:27},end:{line:168,column:59}},38:{start:{line:169,column:8},end:{line:254,column:23}},39:{start:{line:179,column:29},end:{line:179,column:53}},40:{start:{line:197,column:80},end:{line:253,column:29}},41:{start:{line:234,column:36},end:{line:234,column:76}},42:{start:{line:235,column:14},end:{line:251,column:16}},43:{start:{line:244,column:38},end:{line:244,column:89}},44:{start:{line:266,column:167},end:{line:294,column:9}},45:{start:{line:299,column:0},end:{line:305,column:50}},46:{start:{line:301,column:4},end:{line:301,column:54}},47:{start:{line:303,column:4},end:{line:303,column:1247}}},fnMap:{0:{name:"PermissionMatrix",decl:{start:{line:10,column:16},end:{line:10,column:32}},loc:{start:{line:17,column:3},end:{line:298,column:1}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:10},end:{line:20,column:53}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:20,column:34},end:{line:20,column:35}},loc:{start:{line:20,column:41},end:{line:20,column:51}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:22,column:38},end:{line:22,column:39}},loc:{start:{line:22,column:44},end:{line:28,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:26,column:6},end:{line:26,column:7}},loc:{start:{line:26,column:13},end:{line:26,column:140}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:29,column:37},end:{line:29,column:38}},loc:{start:{line:29,column:43},end:{line:44,column:3}},line:29},6:{name:"(anonymous_6)",decl:{start:{line:34,column:6},end:{line:34,column:7}},loc:{start:{line:34,column:21},end:{line:41,column:7}},line:34},7:{name:"(anonymous_7)",decl:{start:{line:45,column:37},end:{line:45,column:38}},loc:{start:{line:45,column:51},end:{line:55,column:3}},line:45},8:{name:"(anonymous_8)",decl:{start:{line:46,column:26},end:{line:46,column:27}},loc:{start:{line:46,column:36},end:{line:54,column:5}},line:46},9:{name:"(anonymous_9)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:44},end:{line:61,column:5}},line:57},10:{name:"(anonymous_10)",decl:{start:{line:95,column:20},end:{line:95,column:21}},loc:{start:{line:95,column:27},end:{line:95,column:57}},line:95},11:{name:"(anonymous_11)",decl:{start:{line:132,column:18},end:{line:132,column:19}},loc:{start:{line:132,column:44},end:{line:164,column:9}},line:132},12:{name:"(anonymous_12)",decl:{start:{line:166,column:65},end:{line:166,column:66}},loc:{start:{line:166,column:79},end:{line:255,column:7}},line:166},13:{name:"(anonymous_13)",decl:{start:{line:179,column:23},end:{line:179,column:24}},loc:{start:{line:179,column:29},end:{line:179,column:53}},line:179},14:{name:"(anonymous_14)",decl:{start:{line:197,column:48},end:{line:197,column:49}},loc:{start:{line:197,column:80},end:{line:253,column:29}},line:197},15:{name:"(anonymous_15)",decl:{start:{line:233,column:22},end:{line:233,column:23}},loc:{start:{line:233,column:32},end:{line:252,column:13}},line:233},16:{name:"(anonymous_16)",decl:{start:{line:244,column:32},end:{line:244,column:33}},loc:{start:{line:244,column:38},end:{line:244,column:89}},line:244},17:{name:"(anonymous_17)",decl:{start:{line:266,column:141},end:{line:266,column:142}},loc:{start:{line:266,column:167},end:{line:294,column:9}},line:266}},branchMap:{0:{loc:{start:{line:14,column:2},end:{line:14,column:18}},type:"default-arg",locations:[{start:{line:14,column:13},end:{line:14,column:18}}],line:14},1:{loc:{start:{line:15,column:2},end:{line:15,column:27}},type:"default-arg",locations:[{start:{line:15,column:23},end:{line:15,column:27}}],line:15},2:{loc:{start:{line:16,column:2},end:{line:16,column:24}},type:"default-arg",locations:[{start:{line:16,column:20},end:{line:16,column:24}}],line:16},3:{loc:{start:{line:23,column:4},end:{line:23,column:41}},type:"if",locations:[{start:{line:23,column:4},end:{line:23,column:41}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:26,column:13},end:{line:26,column:140}},type:"binary-expr",locations:[{start:{line:26,column:13},end:{line:26,column:49}},{start:{line:26,column:53},end:{line:26,column:96}},{start:{line:26,column:100},end:{line:26,column:140}}],line:26},5:{loc:{start:{line:30,column:4},end:{line:32,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:32,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30},6:{loc:{start:{line:35,column:25},end:{line:35,column:57}},type:"binary-expr",locations:[{start:{line:35,column:25},end:{line:35,column:38}},{start:{line:35,column:42},end:{line:35,column:57}}],line:35},7:{loc:{start:{line:36,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:36,column:8},end:{line:38,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},8:{loc:{start:{line:48,column:6},end:{line:52,column:7}},type:"if",locations:[{start:{line:48,column:6},end:{line:52,column:7}},{start:{line:50,column:13},end:{line:52,column:7}}],line:48},9:{loc:{start:{line:58,column:6},end:{line:60,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:60,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},10:{loc:{start:{line:58,column:10},end:{line:58,column:41}},type:"binary-expr",locations:[{start:{line:58,column:10},end:{line:58,column:19}},{start:{line:58,column:23},end:{line:58,column:41}}],line:58},11:{loc:{start:{line:64,column:2},end:{line:69,column:3}},type:"if",locations:[{start:{line:64,column:2},end:{line:69,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},12:{loc:{start:{line:64,column:6},end:{line:64,column:52}},type:"binary-expr",locations:[{start:{line:64,column:6},end:{line:64,column:24}},{start:{line:64,column:28},end:{line:64,column:52}}],line:64},13:{loc:{start:{line:67,column:125},end:{line:67,column:193}},type:"cond-expr",locations:[{start:{line:67,column:146},end:{line:67,column:165}},{start:{line:67,column:168},end:{line:67,column:193}}],line:67},14:{loc:{start:{line:101,column:4},end:{line:128,column:5}},type:"binary-expr",locations:[{start:{line:101,column:4},end:{line:101,column:22}},{start:{line:101,column:42},end:{line:128,column:5}}],line:101},15:{loc:{start:{line:148,column:18},end:{line:158,column:19}},type:"binary-expr",locations:[{start:{line:148,column:18},end:{line:148,column:28}},{start:{line:148,column:48},end:{line:158,column:19}}],line:148},16:{loc:{start:{line:167,column:36},end:{line:167,column:70}},type:"binary-expr",locations:[{start:{line:167,column:36},end:{line:167,column:64}},{start:{line:167,column:68},end:{line:167,column:70}}],line:167},17:{loc:{start:{line:170,column:10},end:{line:196,column:14}},type:"binary-expr",locations:[{start:{line:170,column:10},end:{line:170,column:25}},{start:{line:170,column:45},end:{line:196,column:14}}],line:170},18:{loc:{start:{line:189,column:60},end:{line:189,column:82}},type:"cond-expr",locations:[{start:{line:189,column:73},end:{line:189,column:76}},{start:{line:189,column:79},end:{line:189,column:82}}],line:189},19:{loc:{start:{line:197,column:10},end:{line:253,column:30}},type:"binary-expr",locations:[{start:{line:197,column:10},end:{line:197,column:20}},{start:{line:197,column:24},end:{line:253,column:30}}],line:197},20:{loc:{start:{line:207,column:18},end:{line:216,column:19}},type:"binary-expr",locations:[{start:{line:207,column:18},end:{line:207,column:36}},{start:{line:207,column:40},end:{line:207,column:55}},{start:{line:207,column:75},end:{line:216,column:19}}],line:207},21:{loc:{start:{line:211,column:31},end:{line:211,column:210}},type:"cond-expr",locations:[{start:{line:211,column:60},end:{line:211,column:97}},{start:{line:211,column:100},end:{line:211,column:210}}],line:211},22:{loc:{start:{line:211,column:100},end:{line:211,column:210}},type:"cond-expr",locations:[{start:{line:211,column:131},end:{line:211,column:169}},{start:{line:211,column:172},end:{line:211,column:210}}],line:211},23:{loc:{start:{line:271,column:14},end:{line:281,column:15}},type:"binary-expr",locations:[{start:{line:271,column:14},end:{line:271,column:24}},{start:{line:271,column:44},end:{line:281,column:15}}],line:271}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0],1:[0],2:[0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0],21:[0,0],22:[0,0],23:[0,0]},inputSourceMap:{version:3,file:null,sources:["/Volumes/Laravel/Xala-SAAS/tools/xala-platform-ui/packages/platform-ui/src/blocks/admin/PermissionMatrix.tsx"],names:[],mappings:"AAsIM;AAhIN;AACA;AACA;AAiCA;AAA0C;AACnC;AACG;AAEV;AAsBO;AAA0B;AAC/B;AACA;AACA;AACW;AACU;AAEvB;AACE;AACA;AAAoD;AACF;AAIlD;AACE;AACA;AACA;AAAmB;AAIwB;AAC3C;AAIF;AACE;AACE;AAAgD;AAGlD;AAA2B;AAEvB;AACA;AACE;AAAiB;AAEnB;AACA;AAAO;AACT;AACC;AACH;AAGF;AACE;AACE;AACA;AACE;AAAoB;AAEpB;AAAiB;AAEnB;AAAO;AACR;AAGH;AAAqB;AAEjB;AACE;AAAsD;AACxD;AACF;AAC6B;AAG/B;AACE;AAEI;AAAyC;AAGzC;AACF;AAIJ;AAEA;AAEI;AACE;AAAyC;AACzC;AAAC;AAAA;AACW;AACH;AACE;AACO;AAChB;AAEC;AAAM;AAAO;AAAsB;AAAO;AAAA;AAAA;AAC7C;AACA;AAAC;AAAA;AACY;AACJ;AACuC;AAClC;AACe;AAAA;AAC7B;AACF;AAIE;AAAC;AAAA;AACQ;AACI;AACJ;AACS;AACL;AACQ;AACH;AAChB;AAEA;AAEA;AAEE;AAA+E;AAClD;AAC/B;AAEE;AAEA;AACgC;AAClC;AAEE;AAA+E;AACjD;AAChC;AAAA;AAAA;AACF;AAME;AAEI;AAA0D;AAExD;AAAO;AAAN;AAE+D;AAClD;AAEZ;AAAC;AAAA;AACQ;AACI;AACM;AACH;AACP;AACP;AAEA;AAAiB;AAEf;AAAC;AAAA;AACQ;AACE;AACC;AACM;AACQ;AACxB;AAAA;AACF;AAAA;AAAA;AAEJ;AAAA;AAvBU;AAyBb;AAEL;AAGI;AACA;AAEA;AAGK;AAEG;AAAO;AAAN;AACyB;AACjB;AACY;AACL;AACJ;AACV;AACsC;AAEtC;AAAC;AAAA;AACQ;AACI;AACG;AACP;AACP;AAEA;AAA8B;AAC7B;AAGD;AAAA;AAAA;AACF;AAAA;AAEJ;AAOI;AACE;AAAC;AAAA;AACQ;AACI;AACG;AACP;AACP;AAEC;AACC;AAAC;AAAA;AACQ;AAMG;AACV;AACyB;AAEC;AAAA;AAC5B;AAGA;AAEA;AACA;AAAC;AAAA;AACQ;AACK;AACH;AACT;AAEY;AAAA;AACd;AACF;AAAA;AAAA;AAEJ;AAEE;AACA;AACE;AAAO;AAAN;AAE8B;AAE7B;AAAC;AAAA;AACmB;AACT;AACyD;AACxD;AACqC;AAAA;AACjD;AAAA;AATgC;AAUlC;AAEH;AAEJ;AACL;AAGN;AAEJ;AAGA;AAAC;AAAA;AACQ;AACM;AACF;AACQ;AACH;AAChB;AAII;AAAC;AAAA;AAE4E;AAE1E;AACC;AAAC;AAAA;AACQ;AACE;AACC;AACM;AACQ;AACxB;AAAA;AACF;AAGA;AAAS;AAAK;AAAK;AAAC;AAAS;AAAmB;AAAO;AACzD;AAAA;AAAA;AAfU;AAkBhB;AAAA;AACF;AAGN;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60aac9dc7f2e157c19a8c9925f0d7d5d36349a3a"},m=A[d]||(A[d]={});(!m[l]||m[l].hash!==o)&&(m[l]=h);var u=m[l];return e=function(){return u},u}e();const v=(e().s[0]++,{low:"●",medium:"◐",high:"◉"});function c({roles:l,permissions:o,onPermissionToggle:A,readOnly:d=(e().b[0][0]++,!1),showRiskIndicators:h=(e().b[1][0]++,!0),groupByCategory:m=(e().b[2][0]++,!0)}){e().f[0]++;const[u,ne]=(e().s[1]++,C.useState("")),[se,le]=(e().s[2]++,C.useState(()=>(e().f[1]++,e().s[3]++,new Set(o.map(s=>(e().f[2]++,e().s[4]++,s.category)))))),R=(e().s[5]++,C.useMemo(()=>{if(e().f[3]++,e().s[6]++,u)e().b[3][1]++;else return e().b[3][0]++,e().s[7]++,o;const s=(e().s[8]++,u.toLowerCase());return e().s[9]++,o.filter(i=>(e().f[4]++,e().s[10]++,e().b[4][0]++,i.name.toLowerCase().includes(s)||(e().b[4][1]++,i.description.toLowerCase().includes(s))||(e().b[4][2]++,i.category.toLowerCase().includes(s))))},[o,u])),I=(e().s[11]++,C.useMemo(()=>{if(e().f[5]++,e().s[12]++,m)e().b[5][1]++;else return e().b[5][0]++,e().s[13]++,{"All Permissions":R};return e().s[14]++,R.reduce((s,i)=>{e().f[6]++;const r=(e().s[15]++,e().b[6][0]++,i.category||(e().b[6][1]++,"Uncategorized"));return e().s[16]++,s[r]?e().b[7][1]++:(e().b[7][0]++,e().s[17]++,s[r]=[]),e().s[18]++,s[r].push(i),e().s[19]++,s},{})},[R,m])),oe=(e().s[20]++,C.useCallback(s=>{e().f[7]++,e().s[21]++,le(i=>{e().f[8]++;const r=(e().s[22]++,new Set(i));return e().s[23]++,r.has(s)?(e().b[8][0]++,e().s[24]++,r.delete(s)):(e().b[8][1]++,e().s[25]++,r.add(s)),e().s[26]++,r})},[])),ie=(e().s[27]++,C.useCallback((s,i,r)=>{e().f[9]++,e().s[28]++,e().b[10][0]++,!d&&(e().b[10][1]++,A)?(e().b[9][0]++,e().s[29]++,A(s,i,!r)):e().b[9][1]++},[d,A]));if(e().s[30]++,e().b[12][0]++,l.length===0||(e().b[12][1]++,o.length===0))return e().b[11][0]++,e().s[31]++,n.jsxs(D,{style:{padding:"var(--ds-spacing-4)"},children:[n.jsx(_,{"data-size":"sm",children:"Permission Matrix"}),n.jsx(p,{"data-size":"sm",style:{color:"var(--ds-color-neutral-text-subtle)"},children:l.length===0?(e().b[13][0]++,"No roles defined."):(e().b[13][1]++,"No permissions defined.")})]});e().b[11][1]++;const re=(e().s[32]++,Object.keys(I).sort());return e().s[33]++,n.jsxs(D,{style:{padding:"var(--ds-spacing-4)"},children:[n.jsxs("div",{style:{marginBottom:"var(--ds-spacing-4)"},children:[n.jsx(_,{"data-size":"sm",children:"Permission Matrix"}),n.jsxs(p,{"data-size":"sm",style:{color:"var(--ds-color-neutral-text-subtle)",marginBottom:"var(--ds-spacing-2)"},children:[l.length," roles × ",o.length," permissions"]}),n.jsx(Ae,{"aria-label":"Search permissions",value:u,onChange:s=>(e().f[10]++,e().s[34]++,ne(s.target.value)),placeholder:"Search permissions...",style:{maxWidth:"300px"}})]}),(e().b[14][0]++,h&&(e().b[14][1]++,n.jsxs("div",{style:{display:"flex",gap:"var(--ds-spacing-3)",marginBottom:"var(--ds-spacing-3)",padding:"var(--ds-spacing-2)",backgroundColor:"var(--ds-color-neutral-surface-default)",borderRadius:"var(--ds-border-radius-md)"},children:[n.jsx(p,{"data-size":"sm",style:{fontWeight:"var(--ds-font-weight-medium)"},children:"Risk Level:"}),n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--ds-spacing-1)"},children:[n.jsx("span",{style:{color:"var(--ds-color-neutral-text-default)"},children:v.low}),n.jsx(p,{"data-size":"sm",children:"Low"})]}),n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--ds-spacing-1)"},children:[n.jsx("span",{style:{color:"var(--ds-color-warning-text-default)"},children:v.medium}),n.jsx(p,{"data-size":"sm",children:"Medium"})]}),n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--ds-spacing-1)"},children:[n.jsx("span",{style:{color:"var(--ds-color-danger-text-default)"},children:v.high}),n.jsx(p,{"data-size":"sm",children:"High"})]})]}))),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs(a,{children:[n.jsx(a.Head,{children:n.jsxs(a.Row,{children:[n.jsx(a.HeaderCell,{style:{minWidth:"200px"},children:"Permission"}),l.map(s=>(e().f[11]++,e().s[35]++,n.jsx(a.HeaderCell,{style:{textAlign:"center",minWidth:"var(--ds-sizing-25)"},title:s.description,children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--ds-spacing-1)"},children:[n.jsx("span",{children:s.name}),(e().b[15][0]++,s.color&&(e().b[15][1]++,n.jsx("span",{style:{width:"var(--ds-spacing-2)",height:"var(--ds-spacing-2)",borderRadius:"50%",backgroundColor:s.color}})))]})},s.id)))]})}),n.jsx(a.Body,{children:re.map(s=>{e().f[12]++;const i=(e().s[36]++,e().b[16][0]++,I[s]||(e().b[16][1]++,[])),r=(e().s[37]++,se.has(s));return e().s[38]++,n.jsxs(ae.Fragment,{children:[(e().b[17][0]++,m&&(e().b[17][1]++,n.jsx(a.Row,{children:n.jsx(a.Cell,{colSpan:l.length+1,style:{backgroundColor:"var(--ds-color-neutral-surface-default)",fontWeight:"var(--ds-font-weight-medium)",cursor:"pointer"},onClick:()=>(e().f[13]++,e().s[39]++,oe(s)),children:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--ds-spacing-2)"},children:[n.jsx("span",{children:r?(e().b[18][0]++,"▼"):(e().b[18][1]++,"▶")}),s,n.jsx(de,{variant:"default",size:"sm",children:i.length})]})})}))),(e().b[19][0]++,r&&(e().b[19][1]++,i.map(t=>(e().f[14]++,e().s[40]++,n.jsxs(a.Row,{children:[n.jsx(a.Cell,{children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--ds-spacing-2)"},children:[(e().b[20][0]++,h&&(e().b[20][1]++,t.risk)&&(e().b[20][2]++,n.jsx("span",{style:{color:t.risk==="high"?(e().b[21][0]++,"var(--ds-color-danger-text-default)"):(e().b[21][1]++,t.risk==="medium"?(e().b[22][0]++,"var(--ds-color-warning-text-default)"):(e().b[22][1]++,"var(--ds-color-neutral-text-default)"))},title:`${t.risk} risk`,children:v[t.risk]}))),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"var(--ds-font-weight-medium)"},children:t.name}),n.jsx("div",{style:{fontSize:"var(--ds-font-size-sm)",color:"var(--ds-color-neutral-text-subtle)"},children:t.description})]})]})}),l.map(x=>{e().f[15]++;const M=(e().s[41]++,x.permissions.includes(t.id));return e().s[42]++,n.jsx(a.Cell,{style:{textAlign:"center"},children:n.jsx(ce,{value:t.id,checked:M,onChange:()=>(e().f[16]++,e().s[43]++,ie(x.id,t.id,M)),disabled:d,"aria-label":`${t.name} for ${x.name}`})},`${x.id}-${t.id}`)})]},t.id)))))]},s)})})]})}),n.jsx("div",{style:{marginTop:"var(--ds-spacing-3)",padding:"var(--ds-spacing-3)",backgroundColor:"var(--ds-color-neutral-surface-default)",borderRadius:"var(--ds-border-radius-md)"},children:n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--ds-spacing-3)"},children:l.map(s=>(e().f[17]++,e().s[44]++,n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--ds-spacing-1)"},children:[(e().b[23][0]++,s.color&&(e().b[23][1]++,n.jsx("span",{style:{width:"var(--ds-spacing-2)",height:"var(--ds-spacing-2)",borderRadius:"50%",backgroundColor:s.color}}))),n.jsxs(p,{"data-size":"sm",children:[n.jsxs("strong",{children:[s.name,":"]})," ",s.permissions.length," permissions"]})]},s.id)))})})]})}e().s[45]++;try{e().s[46]++,c.displayName="PermissionMatrix",e().s[47]++,c.__docgenInfo={description:"PermissionMatrix - Interactive permission-role grid",displayName:"PermissionMatrix",props:{roles:{defaultValue:null,description:"List of roles",name:"roles",required:!0,type:{name:"Role[]"}},permissions:{defaultValue:null,description:"List of permissions",name:"permissions",required:!0,type:{name:"Permission[]"}},onPermissionToggle:{defaultValue:null,description:"Callback when a permission is toggled for a role",name:"onPermissionToggle",required:!1,type:{name:"((roleId: string, permissionId: string, enabled: boolean) => void)"}},readOnly:{defaultValue:{value:"false"},description:"Read-only mode (no toggling)",name:"readOnly",required:!1,type:{name:"boolean"}},showRiskIndicators:{defaultValue:{value:"true"},description:"Show risk indicators for permissions",name:"showRiskIndicators",required:!1,type:{name:"boolean"}},groupByCategory:{defaultValue:{value:"true"},description:"Group permissions by category",name:"groupByCategory",required:!1,type:{name:"boolean"}}}}}catch{}const Fe={title:"Blocks/PermissionMatrix",component:c,parameters:{layout:"centered",docs:{description:{component:`
## PermissionMatrix

Interactive grid showing which permissions are assigned to which roles. Supports grouping by category, risk indicators, and permission toggling.

### Features
- Role-permission grid
- Permission toggling
- Risk indicators
- Category grouping
- Search functionality

### Usage
\`\`\`tsx
<PermissionMatrix
  roles={roles}
  permissions={permissions}
  onPermissionToggle={handleToggle}
  showRiskIndicators={true}
  groupByCategory={true}
/>
\`\`\`
        `}}},tags:["autodocs"]},y=[{id:"admin",name:"Administrator",description:"Full system access",color:"var(--ds-color-danger-base-default)",permissions:["view-resources","edit-resources","delete-resources","manage-users"]},{id:"editor",name:"Editor",description:"Can edit resources",color:"var(--ds-color-warning-base-default)",permissions:["view-resources","edit-resources"]},{id:"viewer",name:"Viewer",description:"Read-only access",color:"var(--ds-color-info-base-default)",permissions:["view-resources"]}],f=[{id:"view-resources",name:"View Resources",description:"Can view all resources",category:"Resources",risk:"low"},{id:"edit-resources",name:"Edit Resources",description:"Can edit resources",category:"Resources",risk:"medium"},{id:"delete-resources",name:"Delete Resources",description:"Can delete resources",category:"Resources",risk:"high"},{id:"manage-users",name:"Manage Users",description:"Can create and manage users",category:"Users",risk:"high"},{id:"view-reports",name:"View Reports",description:"Can view system reports",category:"Reports",risk:"low"}],b={args:{roles:y,permissions:f,onPermissionToggle:g(),readOnly:!1,showRiskIndicators:!0,groupByCategory:!0},render:l=>n.jsx("div",{style:{width:"900px"},children:n.jsx(c,{...l})})},E={args:{roles:y,permissions:f,onPermissionToggle:g(),readOnly:!0,showRiskIndicators:!0,groupByCategory:!0},render:l=>n.jsx("div",{style:{width:"900px"},children:n.jsx(c,{...l})})},w={args:{roles:y,permissions:f,onPermissionToggle:g(),readOnly:!1,showRiskIndicators:!1,groupByCategory:!0},render:l=>n.jsx("div",{style:{width:"900px"},children:n.jsx(c,{...l})})},j={args:{roles:y,permissions:f,onPermissionToggle:g(),readOnly:!1,showRiskIndicators:!0,groupByCategory:!1},render:l=>n.jsx("div",{style:{width:"900px"},children:n.jsx(c,{...l})})},k={render:function(){const o=te(),A=[...y,{id:"moderator",name:"Moderator",description:o("storybook.demo.cardDescription"),permissions:["view-resources","edit-resources"]},{id:"guest",name:"Guest",description:o("storybook.demo.cardDescription"),permissions:["view-resources"]}],d=[...f,{id:"export-data",name:"Export Data",description:o("storybook.demo.cardDescription"),category:"Data",risk:"medium"},{id:"import-data",name:"Import Data",description:o("storybook.demo.cardDescription"),category:"Data",risk:"high"}];return n.jsx("div",{style:{width:"1000px"},children:n.jsx(c,{roles:A,permissions:d,onPermissionToggle:g(),readOnly:!1,showRiskIndicators:!0,groupByCategory:!0})})}},B={args:{roles:[],permissions:f,onPermissionToggle:g(),readOnly:!1,showRiskIndicators:!0,groupByCategory:!0},render:l=>n.jsx("div",{style:{width:"900px"},children:n.jsx(c,{...l})})},P={args:{roles:y,permissions:[],onPermissionToggle:g(),readOnly:!1,showRiskIndicators:!0,groupByCategory:!0},render:l=>n.jsx("div",{style:{width:"900px"},children:n.jsx(c,{...l})})};var S,O,T;b.parameters={...b.parameters,docs:{...(S=b.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    roles: sampleRoles,
    permissions: samplePermissions,
    onPermissionToggle: fn(),
    readOnly: false,
    showRiskIndicators: true,
    groupByCategory: true
  },
  render: args => <div style={{
    width: '900px'
  }}>
      <PermissionMatrix {...args} />
    </div>
}`,...(T=(O=b.parameters)==null?void 0:O.docs)==null?void 0:T.source}}};var G,z,F;E.parameters={...E.parameters,docs:{...(G=E.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    roles: sampleRoles,
    permissions: samplePermissions,
    onPermissionToggle: fn(),
    readOnly: true,
    showRiskIndicators: true,
    groupByCategory: true
  },
  render: args => <div style={{
    width: '900px'
  }}>
      <PermissionMatrix {...args} />
    </div>
}`,...(F=(z=E.parameters)==null?void 0:z.docs)==null?void 0:F.source}}};var L,Q,V;w.parameters={...w.parameters,docs:{...(L=w.parameters)==null?void 0:L.docs,source:{originalSource:`{
  args: {
    roles: sampleRoles,
    permissions: samplePermissions,
    onPermissionToggle: fn(),
    readOnly: false,
    showRiskIndicators: false,
    groupByCategory: true
  },
  render: args => <div style={{
    width: '900px'
  }}>
      <PermissionMatrix {...args} />
    </div>
}`,...(V=(Q=w.parameters)==null?void 0:Q.docs)==null?void 0:V.source}}};var H,W,N;j.parameters={...j.parameters,docs:{...(H=j.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: {
    roles: sampleRoles,
    permissions: samplePermissions,
    onPermissionToggle: fn(),
    readOnly: false,
    showRiskIndicators: true,
    groupByCategory: false
  },
  render: args => <div style={{
    width: '900px'
  }}>
      <PermissionMatrix {...args} />
    </div>
}`,...(N=(W=j.parameters)==null?void 0:W.docs)==null?void 0:N.source}}};var q,J,U;k.parameters={...k.parameters,docs:{...(q=k.parameters)==null?void 0:q.docs,source:{originalSource:`{
  render: function Render() {
    const t = useT();
    const roles = [...sampleRoles, {
      id: 'moderator',
      name: 'Moderator',
      description: t('storybook.demo.cardDescription'),
      permissions: ['view-resources', 'edit-resources']
    }, {
      id: 'guest',
      name: 'Guest',
      description: t('storybook.demo.cardDescription'),
      permissions: ['view-resources']
    }];
    const permissions = [...samplePermissions, {
      id: 'export-data',
      name: 'Export Data',
      description: t('storybook.demo.cardDescription'),
      category: 'Data',
      risk: 'medium' as const
    }, {
      id: 'import-data',
      name: 'Import Data',
      description: t('storybook.demo.cardDescription'),
      category: 'Data',
      risk: 'high' as const
    }];
    return <div style={{
      width: '1000px'
    }}>
        <PermissionMatrix roles={roles} permissions={permissions} onPermissionToggle={fn()} readOnly={false} showRiskIndicators={true} groupByCategory={true} />
      </div>;
  }
}`,...(U=(J=k.parameters)==null?void 0:J.docs)==null?void 0:U.source}}};var $,K,X;B.parameters={...B.parameters,docs:{...($=B.parameters)==null?void 0:$.docs,source:{originalSource:`{
  args: {
    roles: [],
    permissions: samplePermissions,
    onPermissionToggle: fn(),
    readOnly: false,
    showRiskIndicators: true,
    groupByCategory: true
  },
  render: args => <div style={{
    width: '900px'
  }}>
      <PermissionMatrix {...args} />
    </div>
}`,...(X=(K=B.parameters)==null?void 0:K.docs)==null?void 0:X.source}}};var Y,Z,ee;P.parameters={...P.parameters,docs:{...(Y=P.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    roles: sampleRoles,
    permissions: [],
    onPermissionToggle: fn(),
    readOnly: false,
    showRiskIndicators: true,
    groupByCategory: true
  },
  render: args => <div style={{
    width: '900px'
  }}>
      <PermissionMatrix {...args} />
    </div>
}`,...(ee=(Z=P.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};const Le=["Default","ReadOnly","WithoutRiskIndicators","WithoutCategoryGrouping","ManyRolesAndPermissions","EmptyRoles","EmptyPermissions"];export{b as Default,P as EmptyPermissions,B as EmptyRoles,k as ManyRolesAndPermissions,E as ReadOnly,j as WithoutCategoryGrouping,w as WithoutRiskIndicators,Le as __namedExportsOrder,Fe as default};
//# sourceMappingURL=PermissionMatrix.stories-DD6tMCB7.js.map
