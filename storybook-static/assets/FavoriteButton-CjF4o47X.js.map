{"version":3,"file":"FavoriteButton-CjF4o47X.js","sources":["../../packages/platform-ui/src/blocks/FavoriteButton.tsx"],"sourcesContent":["/**\n * FavoriteButton\n *\n * Interactive button for favoriting/unfavoriting resources.\n * Supports auth gating with callback for unauthenticated users.\n */\nimport * as React from 'react';\nimport { Button } from '@digdir/designsystemet-react';\nimport { cn } from '../utils';\nimport { HeartIcon } from '../primitives/icons';\n\nexport interface FavoriteButtonProps {\n  /** Whether the item is currently favorited */\n  isFavorited?: boolean;\n  /** Whether the user is authenticated */\n  isAuthenticated?: boolean;\n  /** Number of favorites (optional badge) */\n  favoriteCount?: number;\n  /** Show favorite count */\n  showCount?: boolean;\n  /** Callback when favorite is toggled (authenticated user) */\n  onToggle?: () => void;\n  /** Callback when unauthenticated user tries to favorite */\n  onAuthRequired?: () => void;\n  /** Loading state */\n  isLoading?: boolean;\n  /** Visual variant */\n  variant?: 'icon' | 'button' | 'compact';\n  /** Size */\n  size?: 'sm' | 'md' | 'lg';\n  /** Custom class name */\n  className?: string;\n  /** Disable the button */\n  disabled?: boolean;\n}\n\n// Filled heart icon\nfunction HeartFilledIcon({ size = 18 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"currentColor\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\" />\n    </svg>\n  );\n}\n\nexport function FavoriteButton({\n  isFavorited = false,\n  isAuthenticated = true,\n  favoriteCount,\n  showCount = false,\n  onToggle,\n  onAuthRequired,\n  isLoading = false,\n  variant = 'icon',\n  size = 'md',\n  className,\n  disabled = false,\n}: FavoriteButtonProps): React.ReactElement {\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled || isLoading) return;\n\n    if (!isAuthenticated && onAuthRequired) {\n      onAuthRequired();\n      return;\n    }\n\n    onToggle?.();\n  };\n\n  // Size mappings\n  const sizeMap = {\n    sm: { button: 'var(--ds-spacing-8)', icon: 14 },\n    md: { button: '40px', icon: 18 },\n    lg: { button: 'var(--ds-spacing-12)', icon: 22 },\n  };\n\n  const currentSize = sizeMap[size];\n  const label = isFavorited ? 'Fjern fra favoritter' : 'Legg til favoritter';\n\n  // Icon-only variant\n  if (variant === 'icon') {\n    return (\n      <Button\n        type=\"button\"\n        onClick={handleClick}\n        aria-label={label}\n        aria-pressed={isFavorited}\n        disabled={disabled || isLoading}\n        className={cn('favorite-button', className)}\n        data-color={isFavorited ? 'danger' : 'neutral'}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          width: currentSize.button,\n          height: currentSize.button,\n          border: '1px solid var(--ds-color-neutral-border-default)',\n          borderRadius: 'var(--ds-border-radius-full)',\n          backgroundColor: isFavorited\n            ? 'var(--ds-color-danger-surface-default)'\n            : 'var(--ds-color-neutral-background-default)',\n          color: isFavorited\n            ? 'var(--ds-color-danger-base-default)'\n            : 'var(--ds-color-neutral-text-subtle)',\n          cursor: disabled || isLoading ? 'not-allowed' : 'pointer',\n          transition: 'all 0.2s ease',\n          opacity: disabled || isLoading ? 0.5 : 1,\n        }}\n      >\n        {isLoading ? (\n          <span\n            style={{\n              width: currentSize.icon,\n              height: currentSize.icon,\n              border: '2px solid currentColor',\n              borderTopColor: 'transparent',\n              borderRadius: '50%',\n              animation: 'spin 1s linear infinite',\n            }}\n          />\n        ) : isFavorited ? (\n          <HeartFilledIcon size={currentSize.icon} />\n        ) : (\n          <HeartIcon size={currentSize.icon} />\n        )}\n      </Button>\n    );\n  }\n\n  // Compact variant (small with optional count)\n  if (variant === 'compact') {\n    return (\n      <Button\n        type=\"button\"\n        onClick={handleClick}\n        aria-label={label}\n        aria-pressed={isFavorited}\n        disabled={disabled || isLoading}\n        className={cn('favorite-button-compact', className)}\n        data-color={isFavorited ? 'danger' : 'neutral'}\n        data-size=\"sm\"\n        style={{\n          display: 'inline-flex',\n          alignItems: 'center',\n          gap: 'var(--ds-spacing-1)',\n          padding: 'var(--ds-spacing-1) var(--ds-spacing-2)',\n          border: '1px solid var(--ds-color-neutral-border-default)',\n          borderRadius: 'var(--ds-border-radius-full)',\n          backgroundColor: isFavorited\n            ? 'var(--ds-color-danger-surface-default)'\n            : 'var(--ds-color-neutral-background-default)',\n          color: isFavorited\n            ? 'var(--ds-color-danger-base-default)'\n            : 'var(--ds-color-neutral-text-subtle)',\n          cursor: disabled || isLoading ? 'not-allowed' : 'pointer',\n          transition: 'all 0.2s ease',\n          fontSize: 'var(--ds-font-size-xs)',\n          fontWeight: 'var(--ds-font-weight-medium)',\n          opacity: disabled || isLoading ? 0.5 : 1,\n        }}\n      >\n        {isFavorited ? <HeartFilledIcon size={12} /> : <HeartIcon size={12} />}\n        {showCount && favoriteCount !== undefined && <span>{favoriteCount}</span>}\n      </Button>\n    );\n  }\n\n  // Full button variant\n  return (\n    <Button\n      type=\"button\"\n      onClick={handleClick}\n      data-size={size}\n      variant={isFavorited ? 'primary' : 'secondary'}\n      data-color={isFavorited ? 'danger' : 'neutral'}\n      disabled={disabled || isLoading}\n      className={cn('favorite-button-full', className)}\n      aria-pressed={isFavorited}\n    >\n      {isLoading ? (\n        <span\n          style={{\n            width: 16,\n            height: 16,\n            border: '2px solid currentColor',\n            borderTopColor: 'transparent',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n          }}\n        />\n      ) : isFavorited ? (\n        <HeartFilledIcon size={16} />\n      ) : (\n        <HeartIcon size={16} />\n      )}\n      <span>{isFavorited ? 'Fjern favoritt' : 'Legg til favoritter'}</span>\n      {showCount && favoriteCount !== undefined && (\n        <span\n          style={{\n            marginLeft: 'var(--ds-spacing-1)',\n            opacity: 0.8,\n          }}\n        >\n          ({favoriteCount})\n        </span>\n      )}\n    </Button>\n  );\n}\n\nexport default FavoriteButton;\n"],"names":["cov_fbhsd4ozv","actualCoverage","size","HeartFilledIcon","s","jsx","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","isFavorited","FavoriteButton","isAuthenticated","favoriteCount","showCount","onToggle","onAuthRequired","isLoading","variant","b","className","disabled","handleClick","e","preventDefault","stopPropagation","sizeMap","button","icon","md","lg","label","Button","onClick","cn","style","display","alignItems","justifyContent","width","currentSize","border","borderRadius","backgroundColor","color","cursor","transition","opacity","borderTopColor","animation","jsxs","gap","padding","fontSize","fontWeight","HeartIcon","marginLeft"],"mappings":"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"}