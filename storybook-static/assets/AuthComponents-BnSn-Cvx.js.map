{"version":3,"file":"AuthComponents-BnSn-Cvx.js","sources":["../../packages/platform-ui/src/blocks/AuthComponents.tsx"],"sourcesContent":["/**\n * Auth-related UI components\n *\n * Reusable components for loading states, access denied screens,\n * and other auth-related UI patterns.\n */\nimport * as React from 'react';\nimport { Spinner, Heading, Paragraph, Button } from '@digdir/designsystemet-react';\nimport { cn } from '../utils';\n\n// =============================================================================\n// LoadingScreen - Full page loading state\n// =============================================================================\n\nexport interface LoadingScreenProps {\n  /** Loading message */\n  message?: string;\n  /** Screen height (default: 100vh) */\n  height?: string;\n  /** Custom class name */\n  className?: string;\n}\n\nexport function LoadingScreen({\n  message = 'Laster...',\n  height = '100vh',\n  className,\n}: LoadingScreenProps): React.ReactElement {\n  return (\n    <div\n      className={cn('loading-screen', className)}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height,\n        gap: 'var(--ds-spacing-4)',\n        backgroundColor: 'var(--ds-color-neutral-background-default)',\n      }}\n    >\n      <Spinner aria-label={message} data-size=\"lg\" />\n      {message && (\n        <Paragraph\n          data-size=\"sm\"\n          style={{ color: 'var(--ds-color-neutral-text-subtle)', margin: 0 }}\n        >\n          {message}\n        </Paragraph>\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// AccessDeniedScreen - No permission error screen\n// =============================================================================\n\nexport interface AccessDeniedScreenProps {\n  /** Title text */\n  title?: string;\n  /** Description text */\n  description?: string;\n  /** Show back button */\n  showBackButton?: boolean;\n  /** Back button text */\n  backButtonText?: string;\n  /** Back button click handler */\n  onBack?: () => void;\n  /** Custom class name */\n  className?: string;\n}\n\nexport function AccessDeniedScreen({\n  title = 'Ingen tilgang',\n  description = 'Du har ikke tilgang til denne siden. Kontakt administrator hvis du mener dette er feil.',\n  showBackButton = false,\n  backButtonText = 'Gå tilbake',\n  onBack,\n  className,\n}: AccessDeniedScreenProps): React.ReactElement {\n  return (\n    <div\n      className={cn('access-denied-screen', className)}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100%',\n        minHeight: '400px',\n        gap: 'var(--ds-spacing-4)',\n        padding: 'var(--ds-spacing-6)',\n        textAlign: 'center',\n      }}\n    >\n      {/* Icon */}\n      <div\n        style={{\n          width: 'var(--ds-spacing-16)',\n          height: 'var(--ds-spacing-16)',\n          borderRadius: 'var(--ds-border-radius-full)',\n          backgroundColor: 'var(--ds-color-danger-surface-default)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <svg\n          width=\"32\"\n          height=\"32\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"var(--ds-color-danger-text-default)\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <circle cx=\"12\" cy=\"12\" r=\"10\" />\n          <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\" />\n          <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\" />\n        </svg>\n      </div>\n\n      <Heading\n        level={1}\n        data-size=\"lg\"\n        style={{ color: 'var(--ds-color-danger-text-default)', margin: 0 }}\n      >\n        {title}\n      </Heading>\n\n      <Paragraph\n        style={{\n          color: 'var(--ds-color-neutral-text-subtle)',\n          margin: 0,\n          maxWidth: '400px',\n        }}\n      >\n        {description}\n      </Paragraph>\n\n      {showBackButton && onBack && (\n        <Button\n          type=\"button\"\n          variant=\"secondary\"\n          onClick={onBack}\n          style={{ marginTop: 'var(--ds-spacing-2)' }}\n        >\n          {backButtonText}\n        </Button>\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// NotFoundScreen - 404 error screen\n// =============================================================================\n\nexport interface NotFoundScreenProps {\n  /** Title text */\n  title?: string;\n  /** Description text */\n  description?: string;\n  /** Show home button */\n  showHomeButton?: boolean;\n  /** Home button text */\n  homeButtonText?: string;\n  /** Home button click handler */\n  onHome?: () => void;\n  /** Custom class name */\n  className?: string;\n}\n\nexport function NotFoundScreen({\n  title = 'Siden finnes ikke',\n  description = 'Beklager, vi kunne ikke finne siden du leter etter.',\n  showHomeButton = false,\n  homeButtonText = 'Gå til forsiden',\n  onHome,\n  className,\n}: NotFoundScreenProps): React.ReactElement {\n  return (\n    <div\n      className={cn('not-found-screen', className)}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100%',\n        minHeight: '400px',\n        gap: 'var(--ds-spacing-4)',\n        padding: 'var(--ds-spacing-6)',\n        textAlign: 'center',\n      }}\n    >\n      {/* 404 Text */}\n      <Heading\n        level={1}\n        data-size=\"2xl\"\n        style={{\n          color: 'var(--ds-color-neutral-text-subtle)',\n          margin: 0,\n          fontSize: '6rem',\n          fontWeight: 'var(--ds-font-weight-bold)',\n          lineHeight: 'var(--ds-line-height-sm)',\n        }}\n      >\n        404\n      </Heading>\n\n      <Heading level={2} data-size=\"lg\" style={{ margin: 0 }}>\n        {title}\n      </Heading>\n\n      <Paragraph\n        style={{\n          color: 'var(--ds-color-neutral-text-subtle)',\n          margin: 0,\n          maxWidth: '400px',\n        }}\n      >\n        {description}\n      </Paragraph>\n\n      {showHomeButton && onHome && (\n        <Button\n          type=\"button\"\n          variant=\"primary\"\n          onClick={onHome}\n          style={{ marginTop: 'var(--ds-spacing-2)' }}\n        >\n          {homeButtonText}\n        </Button>\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// ErrorScreen - Generic error screen\n// =============================================================================\n\nexport interface ErrorScreenProps {\n  /** Title text */\n  title?: string;\n  /** Description text */\n  description?: string;\n  /** Error details (optional) */\n  errorDetails?: string;\n  /** Show retry button */\n  showRetryButton?: boolean;\n  /** Retry button text */\n  retryButtonText?: string;\n  /** Retry button click handler */\n  onRetry?: () => void;\n  /** Custom class name */\n  className?: string;\n}\n\nexport function ErrorScreen({\n  title = 'Noe gikk galt',\n  description = 'Beklager, det oppstod en feil. Prøv igjen senere.',\n  errorDetails,\n  showRetryButton = false,\n  retryButtonText = 'Prøv igjen',\n  onRetry,\n  className,\n}: ErrorScreenProps): React.ReactElement {\n  return (\n    <div\n      className={cn('error-screen', className)}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100%',\n        minHeight: '400px',\n        gap: 'var(--ds-spacing-4)',\n        padding: 'var(--ds-spacing-6)',\n        textAlign: 'center',\n      }}\n    >\n      {/* Icon */}\n      <div\n        style={{\n          width: 'var(--ds-spacing-16)',\n          height: 'var(--ds-spacing-16)',\n          borderRadius: 'var(--ds-border-radius-full)',\n          backgroundColor: 'var(--ds-color-warning-surface-default)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <svg\n          width=\"32\"\n          height=\"32\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"var(--ds-color-warning-text-default)\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\" />\n          <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\" />\n          <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\" />\n        </svg>\n      </div>\n\n      <Heading level={1} data-size=\"lg\" style={{ margin: 0 }}>\n        {title}\n      </Heading>\n\n      <Paragraph\n        style={{\n          color: 'var(--ds-color-neutral-text-subtle)',\n          margin: 0,\n          maxWidth: '400px',\n        }}\n      >\n        {description}\n      </Paragraph>\n\n      {errorDetails && (\n        <code\n          style={{\n            padding: 'var(--ds-spacing-3) var(--ds-spacing-4)',\n            backgroundColor: 'var(--ds-color-neutral-surface-hover)',\n            borderRadius: 'var(--ds-border-radius-md)',\n            fontSize: 'var(--ds-font-size-xs)',\n            color: 'var(--ds-color-neutral-text-subtle)',\n            maxWidth: '100%',\n            overflow: 'auto',\n          }}\n        >\n          {errorDetails}\n        </code>\n      )}\n\n      {showRetryButton && onRetry && (\n        <Button\n          type=\"button\"\n          variant=\"primary\"\n          onClick={onRetry}\n          style={{ marginTop: 'var(--ds-spacing-2)' }}\n        >\n          {retryButtonText}\n        </Button>\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// PermissionGate - Render children only if condition is met\n// =============================================================================\n\nexport interface PermissionGateProps {\n  /** Whether the user has permission */\n  allowed: boolean;\n  /** Content to render when allowed */\n  children: React.ReactNode;\n  /** Content to render when not allowed (defaults to AccessDeniedScreen) */\n  fallback?: React.ReactNode;\n}\n\nexport function PermissionGate({\n  allowed,\n  children,\n  fallback,\n}: PermissionGateProps): React.ReactElement | null {\n  if (allowed) {\n    return <>{children}</>;\n  }\n\n  if (fallback) {\n    return <>{fallback}</>;\n  }\n\n  return <AccessDeniedScreen />;\n}\n"],"names":["cov_2lfwlfjofs","actualCoverage","message","b","height","className","s","jsxs","style","cn","display","flexDirection","justifyContent","alignItems","gap","backgroundColor","children","jsx","Spinner","Paragraph","color","margin","description","showBackButton","backButtonText","onBack","minHeight","padding","textAlign","width","borderRadius","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","level","Heading","maxWidth","type","Button","variant","onClick","marginTop","showHomeButton","homeButtonText","onHome","fontSize","fontWeight","lineHeight","errorDetails","showRetryButton","retryButtonText","onRetry","d","overflow","allowed","PermissionGate","fallback","AccessDeniedScreen"],"mappings":"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"}