{"version":3,"file":"PreferencesTab.stories-BA-9xIx3.js","sources":["../../packages/platform-ui/src/blocks/settings/PreferencesTab.tsx","../../packages/platform-ui/src/stories/Blocks/PreferencesTab.stories.tsx"],"sourcesContent":["/**\n * PreferencesTab Block - Reusable DS Component\n *\n * Manages user preferences: language, display settings, and session management.\n * Domain-agnostic - receives all data and handlers via props.\n *\n * @example\n * ```tsx\n * // In app with i18n\n * import { useT } from '@xala/i18n';\n *\n * function MyPreferencesTab() {\n *   const t = useT();\n *\n *   return (\n *     <PreferencesTab\n *       locale={locale}\n *       onLocaleChange={setLocale}\n *       onLogout={handleLogout}\n *       labels={{\n *         language: t('settings.language'),\n *         selectLanguage: t('settings.selectLanguage'),\n *         // ... other labels\n *       }}\n *     />\n *   );\n * }\n * ```\n */\nimport { Card, Heading, Paragraph, Button, Select } from '@digdir/designsystemet-react';\nimport { Stack } from '../../primitives';\nimport { FormField } from '../../composed';\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport interface PreferencesTabLabels {\n  language: string;\n  selectLanguage: string;\n  preferredLanguage: string;\n  norwegianBokmal: string;\n  norwegianNynorsk: string;\n  english: string;\n  appearance: string;\n  customizeAppearance: string;\n  themeComingSoon: string;\n  sessionAndSecurity: string;\n  manageSession: string;\n  logout: string;\n  logoutDescription: string;\n}\n\nexport interface PreferencesTabProps {\n  locale: 'nb' | 'nn' | 'en';\n  onLocaleChange: (locale: 'nb' | 'nn' | 'en') => void;\n  onLogout: () => void;\n  /** Labels for i18n */\n  labels?: Partial<PreferencesTabLabels>;\n  'data-testid'?: string;\n}\n\n// =============================================================================\n// Default Labels\n// =============================================================================\n\nconst DEFAULT_LABELS: PreferencesTabLabels = {\n  language: 'Sprak',\n  selectLanguage: 'Velg sprak for brukergrensesnittet',\n  preferredLanguage: 'Foretrukket sprak',\n  norwegianBokmal: 'Norsk bokmal',\n  norwegianNynorsk: 'Norsk nynorsk',\n  english: 'English',\n  appearance: 'Utseende',\n  customizeAppearance: 'Tilpass hvordan systemet ser ut',\n  themeComingSoon: 'Tema og utseendeinnstillinger kommer snart',\n  sessionAndSecurity: 'Okt og sikkerhet',\n  manageSession: 'Administrer din palogging og sikkerhet',\n  logout: 'Logg ut',\n  logoutDescription: 'Logg ut av din konto pa denne enheten',\n};\n\n// =============================================================================\n// Component\n// =============================================================================\n\nexport function PreferencesTab({\n  locale,\n  onLocaleChange,\n  onLogout,\n  labels: customLabels,\n  'data-testid': testId = 'preferences-tab',\n}: PreferencesTabProps) {\n  const labels = { ...DEFAULT_LABELS, ...customLabels };\n\n  return (\n    <Stack spacing=\"var(--ds-spacing-6)\" data-testid={testId}>\n      {/* Language */}\n      <Card>\n        <Stack spacing=\"var(--ds-spacing-4)\">\n          <div>\n            <Heading level={3} data-size=\"sm\" style={{ marginBottom: 'var(--ds-spacing-2)' }}>\n              {labels.language}\n            </Heading>\n            <Paragraph data-size=\"sm\" style={{ color: 'var(--ds-color-neutral-text-subtle)' }}>\n              {labels.selectLanguage}\n            </Paragraph>\n          </div>\n\n          <FormField label={labels.preferredLanguage}>\n            <Select\n              value={locale}\n              onChange={(e) => onLocaleChange(e.target.value as 'nb' | 'nn' | 'en')}\n            >\n              <option value=\"nb\">{labels.norwegianBokmal}</option>\n              <option value=\"nn\">{labels.norwegianNynorsk}</option>\n              <option value=\"en\">{labels.english}</option>\n            </Select>\n          </FormField>\n        </Stack>\n      </Card>\n\n      {/* Display Settings */}\n      <Card>\n        <Stack spacing=\"var(--ds-spacing-4)\">\n          <div>\n            <Heading level={3} data-size=\"sm\" style={{ marginBottom: 'var(--ds-spacing-2)' }}>\n              {labels.appearance}\n            </Heading>\n            <Paragraph data-size=\"sm\" style={{ color: 'var(--ds-color-neutral-text-subtle)' }}>\n              {labels.customizeAppearance}\n            </Paragraph>\n          </div>\n\n          <div\n            style={{\n              padding: 'var(--ds-spacing-4)',\n              backgroundColor: 'var(--ds-color-neutral-surface-subtle)',\n              borderRadius: 'var(--ds-border-radius-md)',\n            }}\n          >\n            <Paragraph\n              data-size=\"sm\"\n              style={{ margin: 0, color: 'var(--ds-color-neutral-text-subtle)' }}\n            >\n              {labels.themeComingSoon}\n            </Paragraph>\n          </div>\n        </Stack>\n      </Card>\n\n      {/* Session & Security */}\n      <Card>\n        <Stack spacing=\"var(--ds-spacing-4)\">\n          <div>\n            <Heading level={3} data-size=\"sm\" style={{ marginBottom: 'var(--ds-spacing-2)' }}>\n              {labels.sessionAndSecurity}\n            </Heading>\n            <Paragraph data-size=\"sm\" style={{ color: 'var(--ds-color-neutral-text-subtle)' }}>\n              {labels.manageSession}\n            </Paragraph>\n          </div>\n\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              padding: 'var(--ds-spacing-4)',\n              backgroundColor: 'var(--ds-color-neutral-surface-subtle)',\n              borderRadius: 'var(--ds-border-radius-md)',\n            }}\n          >\n            <div>\n              <Paragraph\n                data-size=\"sm\"\n                style={{ margin: 0, fontWeight: 'var(--ds-font-weight-medium)' }}\n              >\n                {labels.logout}\n              </Paragraph>\n              <Paragraph\n                data-size=\"xs\"\n                style={{\n                  margin: 0,\n                  marginTop: 'var(--ds-spacing-1)',\n                  color: 'var(--ds-color-neutral-text-subtle)',\n                }}\n              >\n                {labels.logoutDescription}\n              </Paragraph>\n            </div>\n            <Button variant=\"secondary\" data-size=\"sm\" onClick={onLogout} type=\"button\">\n              {labels.logout}\n            </Button>\n          </div>\n        </Stack>\n      </Card>\n    </Stack>\n  );\n}\n","import type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport React, { useState } from 'react';\nimport { useT } from '@xala-technologies/i18n';\nimport { PreferencesTab } from '../../blocks/settings/PreferencesTab';\n\nconst meta: Meta<typeof PreferencesTab> = {\n  title: 'Blocks/PreferencesTab',\n  component: PreferencesTab,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n## PreferencesTab\n\nManages user preferences: language, display settings, and session management. Domain-agnostic - receives all data and handlers via props.\n\n### Features\n- Language selection\n- Display settings (coming soon)\n- Session management\n- Logout functionality\n\n### Usage\n\\`\\`\\`tsx\n<PreferencesTab\n  locale=\"nb\"\n  onLocaleChange={handleLocaleChange}\n  onLogout={handleLogout}\n  labels={labels}\n/>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Norwegian Bokmal\nexport const NorwegianBokmal: Story = {\n  render: function Render() {\n    const [locale, setLocale] = useState<'nb' | 'nn' | 'en'>('nb');\n    return (\n      <div style={{ width: '700px' }}>\n        <PreferencesTab locale={locale} onLocaleChange={setLocale} onLogout={fn()} />\n      </div>\n    );\n  },\n};\n\n// Norwegian Nynorsk\nexport const NorwegianNynorsk: Story = {\n  render: function Render() {\n    const [locale, setLocale] = useState<'nb' | 'nn' | 'en'>('nn');\n    return (\n      <div style={{ width: '700px' }}>\n        <PreferencesTab locale={locale} onLocaleChange={setLocale} onLogout={fn()} />\n      </div>\n    );\n  },\n};\n\n// English\nexport const English: Story = {\n  render: function Render() {\n    const [locale, setLocale] = useState<'nb' | 'nn' | 'en'>('en');\n    return (\n      <div style={{ width: '700px' }}>\n        <PreferencesTab locale={locale} onLocaleChange={setLocale} onLogout={fn()} />\n      </div>\n    );\n  },\n};\n\n// Custom labels\nexport const CustomLabels: Story = {\n  render: function Render() {\n    const t = useT();\n    const [locale, setLocale] = useState<'nb' | 'nn' | 'en'>('nb');\n    return (\n      <div style={{ width: '700px' }}>\n        <PreferencesTab\n          locale={locale}\n          onLocaleChange={setLocale}\n          onLogout={fn()}\n          labels={{\n            language: t('platform.nav.settings'),\n            selectLanguage: t('storybook.demo.cardDescription'),\n            preferredLanguage: t('platform.nav.settings'),\n            norwegianBokmal: 'Norwegian Bokmal',\n            norwegianNynorsk: 'Norwegian Nynorsk',\n            english: 'English',\n            appearance: t('platform.nav.settings'),\n            customizeAppearance: t('storybook.demo.cardDescription'),\n            themeComingSoon: t('platform.common.loading'),\n            sessionAndSecurity: t('platform.nav.settings'),\n            manageSession: t('storybook.demo.cardDescription'),\n            logout: t('platform.auth.logout'),\n            logoutDescription: t('storybook.demo.cardDescription'),\n          }}\n        />\n      </div>\n    );\n  },\n};\n"],"names":["cov_uynlfg06r","actualCoverage","language","selectLanguage","preferredLanguage","norwegianBokmal","norwegianNynorsk","english","appearance","customizeAppearance","themeComingSoon","sessionAndSecurity","manageSession","logout","logoutDescription","locale","PreferencesTab","onLocaleChange","onLogout","labels","customLabels","testId","DEFAULT_LABELS","jsxs","Stack","children","jsx","spacing","level","Heading","style","marginBottom","Paragraph","color","value","Select","onChange","s","e","Card","padding","backgroundColor","borderRadius","margin","display","justifyContent","alignItems","fontWeight","marginTop","variant","Button","onClick","type","meta","title","component","parameters","layout","docs","description","tags","NorwegianBokmal","render","setLocale","useState","width","fn","NorwegianNynorsk","English","CustomLabels","t","useT","source","originalSource"],"mappings":"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"}