{"version":3,"file":"Search.stories-D5T88o2n.js","sources":["../../packages/platform-ui/src/stories/Components/Search.stories.tsx"],"sourcesContent":["import type { Meta, StoryObj } from '@storybook/react';\nimport React from 'react';\nimport { useT } from '@xala-technologies/i18n';\nimport { Search } from '../../index';\n\nconst meta: Meta = {\n  title: 'Components/Search',\n  parameters: {\n    docs: {\n      description: {\n        component: `\nSearch input component provides a dedicated interface for searching content, with built-in clear and submit functionality for optimal user experience.\n\n## Variants\n\n- **Default** - Standard search with all controls\n- **Minimal** - Input only\n- **With placeholder** - Custom placeholder text\n- **Size variants** - sm, md (default), lg\n- **Color variants** - neutral, primary, secondary\n- **Autocomplete** - With suggestions dropdown\n\n## When to Use\n\n- Site-wide search functionality\n- Table and list filtering\n- Content search and discovery\n- Data exploration\n- Quick navigation\n- Real-time search results\n\n## Best Practices\n\n### Do\n- Use clear, descriptive placeholders\n- Provide immediate visual feedback\n- Include clear and submit buttons\n- Support keyboard navigation\n- Show search results count\n- Maintain search state\n\n### Don't\n- Don't hide search functionality\n- Don't use generic placeholders\n- Don't forget clear button for long inputs\n- Don't make submit ambiguous\n- Don't lose search on navigation\n- Don't ignore empty searches\n\n## Usage Patterns\n\n### Basic Search\n\\`\\`\\`tsx\n<Search>\n  <Search.Input aria-label=\"Search\" placeholder=\"Search...\" />\n  <Search.Clear />\n  <Search.Button />\n</Search>\n\\`\\`\\`\n\n### With Custom Placeholder\n\\`\\`\\`tsx\n<Search>\n  <Search.Input\n    aria-label=\"Search listings\"\n    placeholder=\"Search for listings...\"\n  />\n  <Search.Clear />\n  <Search.Button />\n</Search>\n\\`\\`\\`\n\n### Size Variants\n\\`\\`\\`tsx\n<Search data-size=\"sm\">\n  <Search.Input aria-label=\"Small search\" placeholder=\"Small...\" />\n  <Search.Clear />\n  <Search.Button />\n</Search>\n<Search data-size=\"lg\">\n  <Search.Input aria-label=\"Large search\" placeholder=\"Large...\" />\n  <Search.Clear />\n  <Search.Button />\n</Search>\n\\`\\`\\`\n\n### Color Variants\n\\`\\`\\`tsx\n<Search data-color=\"neutral\">\n  <Search.Input aria-label=\"Neutral search\" placeholder=\"Neutral...\" />\n  <Search.Clear />\n  <Search.Button />\n</Search>\n<Search data-color=\"primary\">\n  <Search.Input aria-label=\"Primary search\" placeholder=\"Primary...\" />\n  <Search.Clear />\n  <Search.Button />\n</Search>\n\\`\\`\\`\n\n### With Autocomplete\n\\`\\`\\`tsx\n<Search>\n  <Search.Input\n    aria-label=\"Search with suggestions\"\n    placeholder=\"Type to search...\"\n    list=\"suggestions\"\n  />\n  <Search.Clear />\n  <Search.Button />\n  <datalist id=\"suggestions\">\n    <option value=\"Apple\" />\n    <option value=\"Banana\" />\n    <option value=\"Cherry\" />\n  </datalist>\n</Search>\n\\`\\`\\`\n\n### Controlled Search\n\\`\\`\\`tsx\nconst [searchQuery, setSearchQuery] = useState('');\nconst [results, setResults] = useState([]);\n\nconst handleSearch = (query: string) => {\n  setSearchQuery(query);\n  // Perform search logic\n  const searchResults = performSearch(query);\n  setResults(searchResults);\n};\n\n<Search>\n  <Search.Input\n    value={searchQuery}\n    onChange={(e) => handleSearch(e.target.value)}\n    aria-label=\"Search\"\n    placeholder=\"Search...\"\n  />\n  <Search.Clear onClick={() => handleSearch('')} />\n  <Search.Button />\n</Search>\n\\`\\`\\`\n\n## Anti-Patterns\n\n### Anti-pattern: No Clear Button\nForcing users to manually clear long search queries.\n\n### Anti-pattern: Vague Placeholders\nUsing generic text like \"Search\" without context.\n\n### Anti-pattern: Hidden Submit\nMaking it unclear how to submit the search.\n\n### Anti-pattern: No Feedback\nNot showing search results or loading states.\n\n## Accessibility\n\n### Screen Readers\n- Search role announced\n- Clear button purpose described\n- Submit button clearly labeled\n- Results count announced\n- Search state communicated\n\n### Keyboard Navigation\n- Tab navigates through search controls\n- Enter submits search form\n- Escape can clear search\n- Arrow keys navigate suggestions\n- Logical tab order maintained\n\n### WCAG 2.1 AA Compliance\n- **Keyboard accessible**: All controls reachable via keyboard\n- **Clear labeling**: Descriptive labels and placeholders\n- **Operable**: All functions available via keyboard\n- **Predictable**: Expected search behavior\n- **Feedback**: Search results clearly communicated\n\n### ARIA Implementation\n\\`\\`\\`tsx\n<form role=\"search\" aria-label=\"Site search\">\n  <label htmlFor=\"search-input\">Search</label>\n  <input\n    id=\"search-input\"\n    type=\"search\"\n    aria-describedby=\"search-help\"\n    placeholder=\"Search for content...\"\n  />\n  <div id=\"search-help\" style={{ position: 'absolute', width: '1px', height: '1px', padding: 0, margin: '-1px', overflow: 'hidden', clip: 'rect(0,0,0,0)', whiteSpace: 'nowrap', border: 0 }}>\n    Type to search, press Enter to submit\n  </div>\n  <button type=\"button\" aria-label=\"Clear search\">\n    Clear\n  </button>\n  <button type=\"submit\" aria-label=\"Submit search\">\n    Search\n  </button>\n</form>\n\\`\\`\\`\n\n### Best Practice for Placeholders\nUse context-specific placeholders:\n\\`\\`\\`tsx\n// Good\n<Search.Input placeholder=\"Search for products...\" />\n<Search.Input placeholder=\"Filter by name...\" />\n<Search.Input placeholder=\"Search documentation...\" />\n\n// Bad\n<Search.Input placeholder=\"Search\" />\n<Search.Input placeholder=\"Type here\" />\n<Search.Input placeholder=\"Enter text\" />\n\\`\\`\\`\n\n### Advanced Search Example\n\\`\\`\\`tsx\nconst AdvancedSearch = () => {\n  const [query, setQuery] = useState('');\n  const [filters, setFilters] = useState({\n    category: 'all',\n    dateRange: 'any'\n  });\n\n  const handleSearch = () => {\n    // Perform search with filters\n    searchWithFilters(query, filters);\n  };\n\n  return (\n    <Search>\n      <Search.Input\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n        onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n        aria-label=\"Advanced search\"\n        placeholder=\"Search with filters...\"\n      />\n      <Search.Clear onClick={() => setQuery('')} />\n      <Search.Button onClick={handleSearch} />\n    </Search>\n  );\n};\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj;\n\nexport const Default: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Search>\n        <Search.Input\n          aria-label={t('platform.common.search')}\n          placeholder={t('storybook.demo.searchPlaceholder')}\n        />\n        <Search.Clear />\n        <Search.Button />\n      </Search>\n    );\n  },\n};\n\nexport const WithPlaceholder: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Search>\n        <Search.Input\n          aria-label={t('storybook.demo.searchListings')}\n          placeholder={t('storybook.demo.searchForListings')}\n        />\n        <Search.Clear />\n        <Search.Button />\n      </Search>\n    );\n  },\n};\n\nexport const Sizes: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-4)' }}>\n        <Search data-size=\"sm\">\n          <Search.Input\n            aria-label={t('storybook.demo.smallSearch')}\n            placeholder={t('storybook.demo.small') + '...'}\n          />\n          <Search.Clear />\n          <Search.Button />\n        </Search>\n        <Search data-size=\"md\">\n          <Search.Input\n            aria-label={t('storybook.demo.mediumSearch')}\n            placeholder={t('storybook.demo.medium') + '...'}\n          />\n          <Search.Clear />\n          <Search.Button />\n        </Search>\n        <Search data-size=\"lg\">\n          <Search.Input\n            aria-label={t('storybook.demo.largeSearch')}\n            placeholder={t('storybook.demo.large') + '...'}\n          />\n          <Search.Clear />\n          <Search.Button />\n        </Search>\n      </div>\n    );\n  },\n};\n\nexport const Colors: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-4)' }}>\n        <Search data-color=\"neutral\">\n          <Search.Input\n            aria-label={t('storybook.demo.neutralSearch')}\n            placeholder={t('storybook.demo.neutralColor') + '...'}\n          />\n          <Search.Clear />\n          <Search.Button />\n        </Search>\n        <Search data-color=\"accent\">\n          <Search.Input\n            aria-label={t('storybook.demo.accentSearch')}\n            placeholder={t('storybook.demo.accentColor') + '...'}\n          />\n          <Search.Clear />\n          <Search.Button />\n        </Search>\n      </div>\n    );\n  },\n};\n"],"names":["meta","title","parameters","docs","description","component","tags","Default","render","t","useT","Search","jsx","WithPlaceholder","Sizes","jsxs","display","flexDirection","gap","Colors","source","originalSource"],"mappings":"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"}