{"version":3,"file":"use-merge-refs-cKtnuP4l.js","sources":["../../node_modules/.pnpm/@digdir+designsystemet-react@1.11.0_@types+react@18.3.27_react-dom@18.3.1_react@18.3.1/node_modules/@digdir/designsystemet-react/dist/esm/utilities/hooks/use-merge-refs/use-merge-refs.js"],"sourcesContent":["'use client';\nimport { useRef, useCallback, useMemo } from 'react';\n\n// https://github.com/floating-ui/floating-ui/blob/master/packages/react/src/hooks/useMergeRefs.ts\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n */\nfunction useMergeRefs(refs) {\n    const cleanupRef = useRef(undefined);\n    const refEffect = useCallback((instance) => {\n        const cleanups = refs.map((ref) => {\n            if (ref == null) {\n                return null;\n            }\n            if (typeof ref === 'function') {\n                const refCallback = ref;\n                // biome-ignore lint/suspicious/noConfusingVoidType: @types-react wants `void` here\n                const refCleanup = refCallback(instance);\n                return typeof refCleanup === 'function'\n                    ? refCleanup\n                    : () => {\n                        refCallback(null);\n                    };\n            }\n            ref.current = instance;\n            return () => {\n                ref.current = null;\n            };\n        });\n        return () => {\n            for (const refCleanup of cleanups) {\n                refCleanup?.();\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, refs);\n    return useMemo(() => {\n        if (refs.every((ref) => ref == null)) {\n            return null;\n        }\n        return (value) => {\n            if (cleanupRef.current) {\n                cleanupRef.current();\n                cleanupRef.current = undefined;\n            }\n            if (value != null) {\n                cleanupRef.current =\n                    refEffect(value);\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, refs);\n}\n\nexport { useMergeRefs };\n"],"names":["useMergeRefs","refs","cleanupRef","useRef","refEffect","useCallback","instance","cleanups","ref","refCallback","refCleanup","useMemo","value"],"mappings":"wCAOA,SAASA,EAAaC,EAAM,CACxB,MAAMC,EAAaC,EAAAA,OAAO,MAAS,EAC7BC,EAAYC,cAAaC,GAAa,CACxC,MAAMC,EAAWN,EAAK,IAAKO,GAAQ,CAC/B,GAAIA,GAAO,KACP,OAAO,KAEX,GAAI,OAAOA,GAAQ,WAAY,CAC3B,MAAMC,EAAcD,EAEdE,EAAaD,EAAYH,CAAQ,EACvC,OAAO,OAAOI,GAAe,WACvBA,EACA,IAAM,CACJD,EAAY,IAAI,CACpB,CACR,CACA,OAAAD,EAAI,QAAUF,EACP,IAAM,CACTE,EAAI,QAAU,IAClB,CACJ,CAAC,EACD,MAAO,IAAM,CACT,UAAWE,KAAcH,EACrBG,GAAA,MAAAA,GAER,CAEJ,EAAGT,CAAI,EACP,OAAOU,EAAAA,QAAQ,IACPV,EAAK,MAAOO,GAAQA,GAAO,IAAI,EACxB,KAEHI,GAAU,CACVV,EAAW,UACXA,EAAW,QAAO,EAClBA,EAAW,QAAU,QAErBU,GAAS,OACTV,EAAW,QACPE,EAAUQ,CAAK,EAE3B,EAEDX,CAAI,CACX","x_google_ignoreList":[0]}