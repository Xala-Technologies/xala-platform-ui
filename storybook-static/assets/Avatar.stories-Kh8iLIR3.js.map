{"version":3,"file":"Avatar.stories-Kh8iLIR3.js","sources":["../../packages/platform-ui/src/composed/Avatar.tsx","../../packages/platform-ui/src/stories/Composed/Avatar.stories.tsx"],"sourcesContent":["/**\n * Avatar Component\n *\n * Consistent user avatar display with fallback initials.\n * Supports different sizes and online status indicator.\n * Uses only design tokens - no raw CSS values.\n *\n * @module @xala-technologies/platform/ui/composed/Avatar\n */\n\nimport React from 'react';\nimport { Paragraph } from '@digdir/designsystemet-react';\nimport { AVATAR_COLOR_PALETTE } from '../tokens/extended';\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport type AvatarSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n\nexport interface AvatarProps {\n  src?: string | null;\n  alt?: string;\n  name?: string;\n  size?: AvatarSize;\n  showStatus?: boolean;\n  isOnline?: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport interface AvatarGroupProps {\n  children: React.ReactNode;\n  max?: number;\n  size?: AvatarSize;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\n// =============================================================================\n// Size Styles - Using Design Tokens\n// =============================================================================\n\nconst sizeStyles: Record<\n  AvatarSize,\n  { dimension: string; fontSize: string; statusSize: string; overlap: string }\n> = {\n  xs: {\n    dimension: 'var(--ds-sizing-6)',\n    fontSize: 'var(--ds-font-size-xs)',\n    statusSize: 'var(--ds-sizing-2)',\n    overlap: 'var(--ds-spacing-2)',\n  },\n  sm: {\n    dimension: 'var(--ds-sizing-8)',\n    fontSize: 'var(--ds-font-size-sm)',\n    statusSize: 'var(--ds-sizing-2-5)',\n    overlap: 'var(--ds-spacing-2)',\n  },\n  md: {\n    dimension: 'var(--ds-sizing-10)',\n    fontSize: 'var(--ds-font-size-md)',\n    statusSize: 'var(--ds-sizing-3)',\n    overlap: 'var(--ds-spacing-2)',\n  },\n  lg: {\n    dimension: 'var(--ds-sizing-14)',\n    fontSize: 'var(--ds-font-size-lg)',\n    statusSize: 'var(--ds-sizing-3-5)',\n    overlap: 'var(--ds-spacing-3)',\n  },\n  xl: {\n    dimension: 'var(--ds-sizing-20)',\n    fontSize: 'var(--ds-font-size-xl)',\n    statusSize: 'var(--ds-sizing-4)',\n    overlap: 'var(--ds-spacing-3)',\n  },\n};\n\n// =============================================================================\n// Helpers\n// =============================================================================\n\nfunction getInitials(name: string): string {\n  if (!name) return '?';\n  const parts = name.trim().split(/\\s+/).filter(Boolean);\n  if (parts.length === 0) return '?';\n  if (parts.length === 1) {\n    const first = parts[0];\n    return first ? first.substring(0, 2).toUpperCase() : '?';\n  }\n  const firstPart = parts[0];\n  const lastPart = parts[parts.length - 1];\n  const firstChar = firstPart?.[0] ?? '';\n  const lastChar = lastPart?.[0] ?? '';\n  return (firstChar + lastChar).toUpperCase() || '?';\n}\n\nconst DEFAULT_COLOR = 'var(--ds-color-accent-base-default)';\n\nfunction getColorFromName(name: string): string {\n  if (!name) return DEFAULT_COLOR;\n\n  let hash = 0;\n  for (let i = 0; i < name.length; i++) {\n    hash = name.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  return AVATAR_COLOR_PALETTE[Math.abs(hash) % AVATAR_COLOR_PALETTE.length] ?? DEFAULT_COLOR;\n}\n\n// =============================================================================\n// Avatar Component\n// =============================================================================\n\nexport function Avatar({\n  src,\n  alt,\n  name,\n  size = 'md',\n  showStatus = false,\n  isOnline = false,\n  className,\n  style,\n}: AvatarProps): React.ReactElement {\n  const [imgError, setImgError] = React.useState(false);\n  const sizeStyle = sizeStyles[size];\n  const showImage = src && !imgError;\n  const initials = getInitials(name || alt || '');\n  const bgColor = getColorFromName(name || alt || '');\n\n  return (\n    <div\n      className={className}\n      style={{\n        position: 'relative',\n        display: 'inline-flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: sizeStyle.dimension,\n        height: sizeStyle.dimension,\n        borderRadius: 'var(--ds-border-radius-full)',\n        backgroundColor: showImage ? 'transparent' : bgColor,\n        color: 'white',\n        fontSize: sizeStyle.fontSize,\n        fontWeight: 'var(--ds-font-weight-medium)',\n        overflow: 'hidden',\n        flexShrink: 0,\n        ...style,\n      }}\n    >\n      {showImage ? (\n        <img\n          src={src}\n          alt={alt || name || 'Avatar'}\n          onError={() => setImgError(true)}\n          style={{\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover',\n          }}\n        />\n      ) : (\n        <span>{initials}</span>\n      )}\n\n      {showStatus && (\n        <span\n          style={{\n            position: 'absolute',\n            bottom: '0',\n            right: '0',\n            width: sizeStyle.statusSize,\n            height: sizeStyle.statusSize,\n            borderRadius: 'var(--ds-border-radius-full)',\n            backgroundColor: isOnline\n              ? 'var(--ds-color-success-base-default)'\n              : 'var(--ds-color-neutral-surface-hover)',\n            border: '2px solid var(--ds-color-neutral-background-default)',\n          }}\n          aria-label={isOnline ? 'Online' : 'Offline'}\n        />\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// AvatarGroup Component\n// =============================================================================\n\nexport function AvatarGroup({\n  children,\n  max = 4,\n  size = 'md',\n  className,\n  style,\n}: AvatarGroupProps): React.ReactElement {\n  const childArray = React.Children.toArray(children);\n  const visibleChildren = childArray.slice(0, max);\n  const remainingCount = childArray.length - max;\n  const sizeStyle = sizeStyles[size];\n\n  return (\n    <div\n      className={className}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        ...style,\n      }}\n    >\n      {visibleChildren.map((child, index) => (\n        <div\n          key={index}\n          style={{\n            marginLeft: index > 0 ? `calc(-1 * ${sizeStyle.overlap})` : 0,\n            position: 'relative',\n            zIndex: visibleChildren.length - index,\n          }}\n        >\n          {React.isValidElement(child)\n            ? React.cloneElement(child as React.ReactElement<AvatarProps>, { size })\n            : child}\n        </div>\n      ))}\n\n      {remainingCount > 0 && (\n        <div\n          style={{\n            marginLeft: `calc(-1 * ${sizeStyle.overlap})`,\n            width: sizeStyle.dimension,\n            height: sizeStyle.dimension,\n            borderRadius: 'var(--ds-border-radius-full)',\n            backgroundColor: 'var(--ds-color-neutral-surface-hover)',\n            color: 'var(--ds-color-neutral-text-default)',\n            fontSize: sizeStyle.fontSize,\n            fontWeight: 'var(--ds-font-weight-medium)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderWidth: 'var(--ds-border-width-default)',\n            borderStyle: 'solid',\n            borderColor: 'var(--ds-color-neutral-background-default)',\n          }}\n        >\n          +{remainingCount}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// UserInfo Component - Avatar with name and subtitle\n// =============================================================================\n\nexport interface UserInfoProps {\n  name: string;\n  subtitle?: string;\n  src?: string | null;\n  size?: AvatarSize;\n  showStatus?: boolean;\n  isOnline?: boolean;\n  onClick?: () => void;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport function UserInfo({\n  name,\n  subtitle,\n  src,\n  size = 'md',\n  showStatus,\n  isOnline,\n  onClick,\n  className,\n  style,\n}: UserInfoProps): React.ReactElement {\n  const sizeStyle = sizeStyles[size];\n  const textSize =\n    size === 'xs' || size === 'sm' ? 'var(--ds-font-size-xs)' : 'var(--ds-font-size-sm)';\n\n  return (\n    <div\n      className={className}\n      onClick={onClick}\n      role={onClick ? 'button' : undefined}\n      tabIndex={onClick ? 0 : undefined}\n      onKeyDown={onClick ? (e) => e.key === 'Enter' && onClick() : undefined}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: 'var(--ds-spacing-2)',\n        cursor: onClick ? 'pointer' : 'default',\n        ...style,\n      }}\n    >\n      <Avatar src={src} name={name} size={size} showStatus={showStatus} isOnline={isOnline} />\n      <div style={{ minWidth: 0 }}>\n        <Paragraph\n          data-size=\"sm\"\n          style={{\n            margin: 0,\n            fontSize: sizeStyle.fontSize,\n            fontWeight: 'var(--ds-font-weight-medium)',\n            color: 'var(--ds-color-neutral-text-default)',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n          }}\n        >\n          {name}\n        </Paragraph>\n        {subtitle && (\n          <Paragraph\n            data-size=\"sm\"\n            style={{\n              margin: 0,\n              fontSize: textSize,\n              color: 'var(--ds-color-neutral-text-subtle)',\n              whiteSpace: 'nowrap',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n            }}\n          >\n            {subtitle}\n          </Paragraph>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Avatar;\n","import type { Meta, StoryObj } from '@storybook/react';\nimport { useT } from '@xala-technologies/i18n';\nimport { Avatar, UserInfo } from '../../composed/Avatar';\n\nconst meta: Meta<typeof Avatar> = {\n  title: 'Composed/Avatar',\n  component: Avatar,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n## Avatar\n\nConsistent user avatar display with fallback initials. Supports different sizes and online status indicator.\n\n### Features\n- Image with fallback to initials\n- Color-coded backgrounds based on name\n- Online/offline status indicator\n- Multiple size variants\n- UserInfo component for avatar with name/subtitle\n\n### Usage\n\\`\\`\\`tsx\n<Avatar\n  src=\"/avatar.jpg\"\n  name=\"John Doe\"\n  size=\"md\"\n  showStatus={true}\n  isOnline={true}\n/>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  argTypes: {\n    size: {\n      control: 'select',\n      options: ['xs', 'sm', 'md', 'lg', 'xl'],\n      description: 'Avatar size',\n    },\n    showStatus: {\n      control: 'boolean',\n      description: 'Show online status indicator',\n    },\n    isOnline: {\n      control: 'boolean',\n      description: 'Online status (only relevant if showStatus is true)',\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// With image\nexport const WithImage: Story = {\n  args: {\n    src: 'https://i.pravatar.cc/150?img=1',\n    name: 'John Doe',\n    alt: 'John Doe',\n    size: 'md',\n    showStatus: false,\n  },\n};\n\n// With initials\nexport const WithInitials: Story = {\n  args: {\n    name: 'John Doe',\n    size: 'md',\n    showStatus: false,\n  },\n};\n\n// Single name\nexport const SingleName: Story = {\n  args: {\n    name: 'John',\n    size: 'md',\n    showStatus: false,\n  },\n};\n\n// Online status\nexport const Online: Story = {\n  args: {\n    name: 'Jane Smith',\n    size: 'md',\n    showStatus: true,\n    isOnline: true,\n  },\n};\n\n// Offline status\nexport const Offline: Story = {\n  args: {\n    name: 'Jane Smith',\n    size: 'md',\n    showStatus: true,\n    isOnline: false,\n  },\n};\n\n// Size variants\nexport const ExtraSmall: Story = {\n  args: {\n    name: 'XS Avatar',\n    size: 'xs',\n    showStatus: false,\n  },\n};\n\nexport const Small: Story = {\n  args: {\n    name: 'SM Avatar',\n    size: 'sm',\n    showStatus: false,\n  },\n};\n\nexport const Medium: Story = {\n  args: {\n    name: 'MD Avatar',\n    size: 'md',\n    showStatus: false,\n  },\n};\n\nexport const Large: Story = {\n  args: {\n    name: 'LG Avatar',\n    size: 'lg',\n    showStatus: false,\n  },\n};\n\nexport const ExtraLarge: Story = {\n  args: {\n    name: 'XL Avatar',\n    size: 'xl',\n    showStatus: false,\n  },\n};\n\n// All sizes showcase\nexport const AllSizes: Story = {\n  render: function Render() { return (\n    <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--ds-spacing-4)' }}>\n      <Avatar name=\"XS\" size=\"xs\" />\n      <Avatar name=\"SM\" size=\"sm\" />\n      <Avatar name=\"MD\" size=\"md\" />\n      <Avatar name=\"LG\" size=\"lg\" />\n      <Avatar name=\"XL\" size=\"xl\" />\n    </div>\n  ); },\n};\n\n// UserInfo component\nconst UserInfoExample = () => {\n  const t = useT();\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-4)' }}>\n      <UserInfo name=\"John Doe\" subtitle={t('storybook.demo.administrator')} size=\"md\" />\n      <UserInfo name=\"Jane Smith\" subtitle=\"jane@example.com\" size=\"md\" showStatus isOnline />\n      <UserInfo name=\"Bob Johnson\" subtitle={t('storybook.demo.developer')} size=\"lg\" />\n    </div>\n  );\n};\n\nexport const UserInfoExampleStory: Story = {\n  name: 'UserInfoExample',\n  render: () => <UserInfoExample />,\n};\n\n// UserInfo clickable\nconst UserInfoClickableExample = () => {\n  const t = useT();\n  return (\n    <UserInfo\n      name={t('storybook.demo.clickableUser')}\n      subtitle={t('storybook.demo.clickToViewProfile')}\n      size=\"md\"\n      onClick={() => alert('Clicked!')}\n    />\n  );\n};\n\nexport const UserInfoClickable: Story = {\n  render: () => <UserInfoClickableExample />,\n};\n"],"names":["cov_2jifywuann","actualCoverage","jsxs","xs","sizeStyles","dimension","fontSize","statusSize","overlap","sm","md","lg","xl","name","s","length","parts","first","lastPart","firstChar","lastChar","DEFAULT_COLOR","getColorFromName","i","hash","charCodeAt","AVATAR_COLOR_PALETTE","Avatar","alt","size","showStatus","b","isOnline","className","style","imgError","setImgError","sizeStyle","showImage","initials","getInitials","src","bgColor","position","display","alignItems","justifyContent","width","height","borderRadius","backgroundColor","color","fontWeight","overflow","flexShrink","children","jsx","onError","objectFit","bottom","right","border","AvatarGroup","max","childArray","visibleChildren","React","remainingCount","child","index","marginLeft","zIndex","borderWidth","borderStyle","borderColor","UserInfo","subtitle","onClick","textSize","role","tabIndex","onKeyDown","e","gap","cursor","minWidth","Paragraph","margin","whiteSpace","textOverflow","meta","title","component","parameters","layout","docs","description","argTypes","control","options","tags","WithImage","args","WithInitials","SingleName","Online","Offline","ExtraSmall","Small","Medium","Large","ExtraLarge","AllSizes","render","UserInfoExample","t","useT","flexDirection","UserInfoExampleStory","UserInfoClickableExample","alert","UserInfoClickable","source","originalSource"],"mappings":"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"}