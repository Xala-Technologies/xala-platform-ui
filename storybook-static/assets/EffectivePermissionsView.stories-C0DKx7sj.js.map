{"version":3,"file":"EffectivePermissionsView.stories-C0DKx7sj.js","sources":["../../packages/platform-ui/src/blocks/admin/EffectivePermissionsView.tsx","../../packages/platform-ui/src/stories/Blocks/EffectivePermissionsView.stories.tsx"],"sourcesContent":["/**\n * EffectivePermissionsView - Computed Permissions Display\n *\n * Shows all effective permissions for a user, including where they come from\n * (direct assignment, role inheritance, organization membership, or scope).\n * Permissions can be grouped by category and show risk indicators.\n */\nimport React, { useMemo } from 'react';\nimport { Card, Heading, Paragraph, Spinner } from '@digdir/designsystemet-react';\nimport { Badge, type BadgeVariant } from '../../composed/Badge';\nimport { Collapsible } from '../../composed/Accordion';\n\nexport type PermissionSource = 'role' | 'organization' | 'scope' | 'direct';\n\nexport interface EffectivePermission {\n  id: string;\n  name: string;\n  description: string;\n  category: string;\n  source: PermissionSource;\n  sourceDetail?: string;\n  inherited?: boolean;\n  risk?: 'low' | 'medium' | 'high';\n}\n\nexport interface EffectivePermissionsViewProps {\n  /** User ID whose permissions are being viewed */\n  userId: string;\n  /** List of effective permissions */\n  permissions: EffectivePermission[];\n  /** Show the source of each permission */\n  showSource?: boolean;\n  /** Group permissions by category */\n  groupByCategory?: boolean;\n  /** Show risk indicators for high-risk permissions */\n  showRiskIndicators?: boolean;\n  /** Expand all categories by default */\n  expandAll?: boolean;\n  /** Loading state */\n  loading?: boolean;\n}\n\nconst sourceBadgeVariants: Record<PermissionSource, BadgeVariant> = {\n  direct: 'success',\n  role: 'info',\n  organization: 'warning',\n  scope: 'default',\n};\n\nconst sourceLabels: Record<PermissionSource, string> = {\n  direct: 'Direct',\n  role: 'Role',\n  organization: 'Organization',\n  scope: 'Scope',\n};\n\nconst riskBadgeVariants: Record<string, BadgeVariant> = {\n  low: 'default',\n  medium: 'warning',\n  high: 'danger',\n};\n\nconst riskLabels: Record<string, string> = {\n  low: 'Low Risk',\n  medium: 'Medium Risk',\n  high: 'High Risk',\n};\n\n/**\n * EffectivePermissionsView - Displays computed permissions for a user\n *\n * @example\n * ```tsx\n * <EffectivePermissionsView\n *   userId=\"user-123\"\n *   permissions={[\n *     {\n *       id: 'perm-1',\n *       name: 'View ResourceRequests',\n *       description: 'Can view all resourceRequests',\n *       category: 'ResourceRequests',\n *       source: 'role',\n *       sourceDetail: 'Admin',\n *       risk: 'low',\n *     },\n *   ]}\n *   showSource\n *   groupByCategory\n *   showRiskIndicators\n * />\n * ```\n */\nexport function EffectivePermissionsView({\n  userId: _userId,\n  permissions,\n  showSource = true,\n  groupByCategory = true,\n  showRiskIndicators = true,\n  expandAll = false,\n  loading = false,\n}: EffectivePermissionsViewProps) {\n  // Group permissions by category\n  const groupedPermissions = useMemo(() => {\n    if (!groupByCategory) {\n      return { 'All Permissions': permissions };\n    }\n\n    return permissions.reduce(\n      (acc, perm) => {\n        const category = perm.category || 'Uncategorized';\n        if (!acc[category]) {\n          acc[category] = [];\n        }\n        acc[category].push(perm);\n        return acc;\n      },\n      {} as Record<string, EffectivePermission[]>\n    );\n  }, [permissions, groupByCategory]);\n\n  if (loading) {\n    return (\n      <Card style={{ padding: 'var(--ds-spacing-4)' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--ds-spacing-2)' }}>\n          <Spinner data-size=\"sm\" aria-label=\"Loading permissions\" />\n          <Paragraph>Loading permissions...</Paragraph>\n        </div>\n      </Card>\n    );\n  }\n\n  if (permissions.length === 0) {\n    return (\n      <Card style={{ padding: 'var(--ds-spacing-4)' }}>\n        <Heading data-size=\"sm\">Effective Permissions</Heading>\n        <Paragraph data-size=\"sm\" style={{ color: 'var(--ds-color-neutral-text-subtle)' }}>\n          No permissions assigned to this user.\n        </Paragraph>\n      </Card>\n    );\n  }\n\n  const categories = Object.keys(groupedPermissions).sort();\n  const totalCount = permissions.length;\n  const highRiskCount = permissions.filter((p) => p.risk === 'high').length;\n\n  return (\n    <Card style={{ padding: 'var(--ds-spacing-4)' }}>\n      <div style={{ marginBottom: 'var(--ds-spacing-4)' }}>\n        <Heading data-size=\"sm\">Effective Permissions</Heading>\n        <div\n          style={{ display: 'flex', gap: 'var(--ds-spacing-2)', marginTop: 'var(--ds-spacing-2)' }}\n        >\n          <Badge variant=\"default\" size=\"sm\">\n            {totalCount} Total\n          </Badge>\n          {showRiskIndicators && highRiskCount > 0 && (\n            <Badge variant=\"danger\" size=\"sm\">\n              {highRiskCount} High Risk\n            </Badge>\n          )}\n        </div>\n      </div>\n\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-2)' }}>\n        {categories.map((category) => {\n          const categoryPermissions = groupedPermissions[category] || [];\n\n          return (\n            <Collapsible\n              key={category}\n              title={`${category} (${categoryPermissions.length})`}\n              defaultOpen={expandAll}\n            >\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: 'var(--ds-spacing-3)',\n                }}\n              >\n                {categoryPermissions.map((permission) => (\n                  <div\n                    key={permission.id}\n                    style={{\n                      padding: 'var(--ds-spacing-3)',\n                      backgroundColor: 'var(--ds-color-neutral-surface-default)',\n                      borderRadius: 'var(--ds-border-radius-md)',\n                      border: '1px solid var(--ds-color-neutral-border-subtle)',\n                    }}\n                  >\n                    <div\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'flex-start',\n                      }}\n                    >\n                      <div>\n                        <Heading data-size=\"xs\" style={{ marginBottom: 'var(--ds-spacing-1)' }}>\n                          {permission.name}\n                        </Heading>\n                        <Paragraph\n                          data-size=\"sm\"\n                          style={{ color: 'var(--ds-color-neutral-text-subtle)' }}\n                        >\n                          {permission.description}\n                        </Paragraph>\n                      </div>\n                      <div style={{ display: 'flex', gap: 'var(--ds-spacing-1)' }}>\n                        {showSource && (\n                          <Badge variant={sourceBadgeVariants[permission.source]} size=\"sm\">\n                            {sourceLabels[permission.source]}\n                            {permission.sourceDetail && `: ${permission.sourceDetail}`}\n                          </Badge>\n                        )}\n                        {showRiskIndicators && permission.risk && (\n                          <Badge variant={riskBadgeVariants[permission.risk]} size=\"sm\">\n                            {riskLabels[permission.risk]}\n                          </Badge>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </Collapsible>\n          );\n        })}\n      </div>\n    </Card>\n  );\n}\n","import type { Meta, StoryObj } from '@storybook/react';\nimport { useT } from '@xala-technologies/i18n';\nimport { EffectivePermissionsView } from '../../blocks/admin/EffectivePermissionsView';\nimport type { EffectivePermission } from '../../blocks/admin/EffectivePermissionsView';\n\nconst meta: Meta<typeof EffectivePermissionsView> = {\n  title: 'Blocks/EffectivePermissionsView',\n  component: EffectivePermissionsView,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n## EffectivePermissionsView\n\nShows all effective permissions for a user, including where they come from (direct assignment, role inheritance, organization membership, or scope).\n\n### Features\n- Permission source tracking\n- Category grouping\n- Risk indicators\n- Collapsible categories\n- Loading states\n\n### Usage\n\\`\\`\\`tsx\n<EffectivePermissionsView\n  userId=\"user-123\"\n  permissions={permissions}\n  showSource={true}\n  groupByCategory={true}\n  showRiskIndicators={true}\n/>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Sample permissions\nconst samplePermissions: EffectivePermission[] = [\n  {\n    id: 'view-resources',\n    name: 'View Resources',\n    description: 'Can view all resources',\n    category: 'Resources',\n    source: 'role',\n    sourceDetail: 'Administrator',\n    inherited: false,\n    risk: 'low',\n  },\n  {\n    id: 'edit-resources',\n    name: 'Edit Resources',\n    description: 'Can edit resources',\n    category: 'Resources',\n    source: 'role',\n    sourceDetail: 'Editor',\n    inherited: true,\n    risk: 'medium',\n  },\n  {\n    id: 'delete-resources',\n    name: 'Delete Resources',\n    description: 'Can delete resources',\n    category: 'Resources',\n    source: 'direct',\n    sourceDetail: 'Direct assignment',\n    inherited: false,\n    risk: 'high',\n  },\n  {\n    id: 'manage-users',\n    name: 'Manage Users',\n    description: 'Can create and manage users',\n    category: 'Users',\n    source: 'organization',\n    sourceDetail: 'Oslo Kommune',\n    inherited: true,\n    risk: 'high',\n  },\n  {\n    id: 'view-reports',\n    name: 'View Reports',\n    description: 'Can view system reports',\n    category: 'Reports',\n    source: 'scope',\n    sourceDetail: 'Department scope',\n    inherited: false,\n    risk: 'low',\n  },\n];\n\n// Basic view\nexport const Default: Story = {\n  args: {\n    userId: 'user-123',\n    permissions: samplePermissions,\n    showSource: true,\n    groupByCategory: true,\n    showRiskIndicators: true,\n    expandAll: false,\n    loading: false,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '700px' }}>\n        <EffectivePermissionsView {...args} />\n      </div>\n    );\n  },\n};\n\n// Without source\nexport const WithoutSource: Story = {\n  args: {\n    userId: 'user-123',\n    permissions: samplePermissions,\n    showSource: false,\n    groupByCategory: true,\n    showRiskIndicators: true,\n    expandAll: false,\n    loading: false,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '700px' }}>\n        <EffectivePermissionsView {...args} />\n      </div>\n    );\n  },\n};\n\n// Without category grouping\nexport const WithoutCategoryGrouping: Story = {\n  args: {\n    userId: 'user-123',\n    permissions: samplePermissions,\n    showSource: true,\n    groupByCategory: false,\n    showRiskIndicators: true,\n    expandAll: false,\n    loading: false,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '700px' }}>\n        <EffectivePermissionsView {...args} />\n      </div>\n    );\n  },\n};\n\n// Without risk indicators\nexport const WithoutRiskIndicators: Story = {\n  args: {\n    userId: 'user-123',\n    permissions: samplePermissions,\n    showSource: true,\n    groupByCategory: true,\n    showRiskIndicators: false,\n    expandAll: false,\n    loading: false,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '700px' }}>\n        <EffectivePermissionsView {...args} />\n      </div>\n    );\n  },\n};\n\n// Expand all\nexport const ExpandAll: Story = {\n  args: {\n    userId: 'user-123',\n    permissions: samplePermissions,\n    showSource: true,\n    groupByCategory: true,\n    showRiskIndicators: true,\n    expandAll: true,\n    loading: false,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '700px' }}>\n        <EffectivePermissionsView {...args} />\n      </div>\n    );\n  },\n};\n\n// Loading state\nexport const Loading: Story = {\n  args: {\n    userId: 'user-123',\n    permissions: [],\n    showSource: true,\n    groupByCategory: true,\n    showRiskIndicators: true,\n    expandAll: false,\n    loading: true,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '700px' }}>\n        <EffectivePermissionsView {...args} />\n      </div>\n    );\n  },\n};\n\n// Empty permissions\nexport const Empty: Story = {\n  args: {\n    userId: 'user-123',\n    permissions: [],\n    showSource: true,\n    groupByCategory: true,\n    showRiskIndicators: true,\n    expandAll: false,\n    loading: false,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '700px' }}>\n        <EffectivePermissionsView {...args} />\n      </div>\n    );\n  },\n};\n\n// Many permissions\nexport const ManyPermissions: Story = {\n  args: {\n    userId: 'user-123',\n    permissions: [\n      ...samplePermissions,\n      {\n        id: 'export-data',\n        name: 'Export Data',\n        description: 'Can export data',\n        category: 'Data',\n        source: 'role',\n        sourceDetail: 'Data Manager',\n        risk: 'medium',\n      },\n      {\n        id: 'import-data',\n        name: 'Import Data',\n        description: 'Can import data',\n        category: 'Data',\n        source: 'direct',\n        sourceDetail: 'Direct assignment',\n        risk: 'high',\n      },\n      {\n        id: 'manage-settings',\n        name: 'Manage Settings',\n        description: 'Can manage system settings',\n        category: 'Settings',\n        source: 'organization',\n        sourceDetail: 'IT Department',\n        risk: 'high',\n      },\n    ],\n    showSource: true,\n    groupByCategory: true,\n    showRiskIndicators: true,\n    expandAll: false,\n    loading: false,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '700px' }}>\n        <EffectivePermissionsView {...args} />\n      </div>\n    );\n  },\n};\n"],"names":["cov_1k0df8nqvk","actualCoverage","jsxs","direct","role","organization","scope","medium","high","userId","_userId","permissions","showSource","groupByCategory","b","showRiskIndicators","expandAll","loading","groupedPermissions","useMemo","s","reduce","f","acc","perm","category","push","jsx","Card","padding","children","style","display","alignItems","gap","Spinner","Paragraph","length","Heading","color","totalCount","highRiskCount","p","marginBottom","marginTop","variant","Badge","size","flexDirection","categoryPermissions","defaultOpen","permission","backgroundColor","borderRadius","border","justifyContent","sourceBadgeVariants","riskBadgeVariants","riskLabels","meta","title","component","EffectivePermissionsView","parameters","layout","docs","description","tags","samplePermissions","id","name","source","sourceDetail","inherited","risk","Default","args","render","useT","width","WithoutSource","WithoutCategoryGrouping","WithoutRiskIndicators","ExpandAll","Loading","Empty","ManyPermissions","originalSource"],"mappings":"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"}