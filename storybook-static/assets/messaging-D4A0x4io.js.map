{"version":3,"file":"messaging-D4A0x4io.js","sources":["../../packages/platform-ui/src/blocks/messaging.tsx"],"sourcesContent":["/**\n * Messaging Components\n * Reusable components for chat/messaging functionality\n */\n\nimport { useState, useRef, useEffect, type ReactNode, type KeyboardEvent } from 'react';\nimport { Button, Paragraph, Spinner } from '@digdir/designsystemet-react';\n// Extended tokens available: typography, transitions, components, shadows\n// Import as needed when adding styled features\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport interface ConversationItem {\n  id: string;\n  userName?: string;\n  userAvatar?: string;\n  subject?: string;\n  lastMessage?: string;\n  lastMessageTime?: string;\n  unreadCount?: number;\n  status?: 'active' | 'resolved' | 'pending';\n  isOnline?: boolean;\n  resourceRequestId?: string;\n}\n\nexport interface MessageItem {\n  id: string;\n  content: string;\n  senderId: string;\n  senderName?: string;\n  createdAt: string;\n  isRead?: boolean;\n  isFromCurrentUser?: boolean;\n}\n\n// =============================================================================\n// Icons (inline SVG)\n// =============================================================================\n\nfunction BellIcon({ size = 20 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\" />\n      <path d=\"M13.73 21a2 2 0 0 1-3.46 0\" />\n    </svg>\n  );\n}\n\nfunction SendIcon({ size = 20 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\" />\n      <polygon points=\"22 2 15 22 11 13 2 9 22 2\" />\n    </svg>\n  );\n}\n\nfunction SearchIcon({ size = 20 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <circle cx=\"11\" cy=\"11\" r=\"8\" />\n      <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\" />\n    </svg>\n  );\n}\n\nfunction CheckIcon({ size = 14 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <polyline points=\"20 6 9 17 4 12\" />\n    </svg>\n  );\n}\n\nfunction DoubleCheckIcon({ size = 14 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n    >\n      <polyline points=\"18 6 9 17 4 12\" />\n      <polyline points=\"22 6 13 17\" />\n    </svg>\n  );\n}\n\n// =============================================================================\n// NotificationBell\n// =============================================================================\n\nexport interface NotificationBellProps {\n  count?: number;\n  onClick?: () => void;\n  maxCount?: number;\n}\n\n/**\n * Notification bell with badge count\n */\nexport function NotificationBell({ count = 0, onClick, maxCount = 99 }: NotificationBellProps) {\n  const displayCount = count > maxCount ? `${maxCount}+` : count;\n\n  return (\n    <Button\n      type=\"button\"\n      onClick={onClick}\n      data-color=\"neutral\"\n      style={{\n        position: 'relative',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: 'var(--ds-sizing-10)',\n        height: 'var(--ds-sizing-10)',\n        borderRadius: 'var(--ds-border-radius-md)',\n        border: 'none',\n        background: 'transparent',\n        cursor: 'pointer',\n        color: 'var(--ds-color-neutral-text-default)',\n        transition: 'background-color 0.2s',\n      }}\n      aria-label={`Varsler (${count} uleste)`}\n    >\n      <BellIcon size={22} />\n      {count > 0 && (\n        <span\n          style={{\n            position: 'absolute',\n            top: 'var(--ds-spacing-1)',\n            right: 'var(--ds-spacing-1)',\n            minWidth: 'var(--ds-spacing-4)',\n            height: 'var(--ds-spacing-4)',\n            padding: '0 var(--ds-spacing-1)',\n            borderRadius: 'var(--ds-border-radius-full)',\n            backgroundColor: 'var(--ds-color-danger-base-default)',\n            color: 'var(--ds-color-danger-contrast-default)',\n            fontSize: 'var(--ds-font-size-2)',\n            fontWeight: 'var(--ds-font-weight-semibold)' as unknown as number,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          {displayCount}\n        </span>\n      )}\n    </Button>\n  );\n}\n\n// =============================================================================\n// ConversationListItem\n// =============================================================================\n\nexport interface ConversationListItemProps {\n  conversation: ConversationItem;\n  isSelected?: boolean;\n  onClick?: () => void;\n  formatTimeAgo?: (date: string) => string;\n}\n\n/**\n * Single conversation item in the list\n */\nexport function ConversationListItem({\n  conversation,\n  isSelected,\n  onClick,\n  formatTimeAgo = defaultFormatTimeAgo,\n}: ConversationListItemProps) {\n  const hasUnread = (conversation.unreadCount ?? 0) > 0;\n\n  return (\n    <Button\n      type=\"button\"\n      onClick={onClick}\n      data-color={isSelected ? 'accent' : 'neutral'}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: 'var(--ds-spacing-3)',\n        padding: 'var(--ds-spacing-3) var(--ds-spacing-4)',\n        width: '100%',\n        border: 'none',\n        background: isSelected ? 'var(--ds-color-accent-surface-default)' : 'transparent',\n        cursor: 'pointer',\n        textAlign: 'left',\n        borderLeft: isSelected\n          ? '3px solid var(--ds-color-accent-base-default)'\n          : '3px solid transparent',\n        transition: 'background-color 0.2s',\n      }}\n    >\n      {/* Avatar */}\n      <div style={{ position: 'relative', flexShrink: 0 }}>\n        <div\n          style={{\n            width: 'var(--ds-spacing-11)',\n            height: 'var(--ds-spacing-11)',\n            borderRadius: 'var(--ds-border-radius-full)',\n            backgroundColor: 'var(--ds-color-accent-surface-default)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: 'var(--ds-color-accent-base-default)',\n            fontWeight: 'var(--ds-font-weight-semibold)' as unknown as number,\n            fontSize: 'var(--ds-font-size-md)',\n          }}\n        >\n          {conversation.userAvatar || getInitials(conversation.userName)}\n        </div>\n        {conversation.isOnline && (\n          <span\n            style={{\n              position: 'absolute',\n              bottom: 'var(--ds-border-width-medium)',\n              right: 'var(--ds-border-width-medium)',\n              width: 'var(--ds-spacing-2-5)',\n              height: 'var(--ds-spacing-2-5)',\n              borderRadius: 'var(--ds-border-radius-full)',\n              backgroundColor: 'var(--ds-color-success-base-default)',\n              border:\n                'var(--ds-border-width-default) solid var(--ds-color-neutral-background-default)',\n            }}\n          />\n        )}\n      </div>\n\n      {/* Content */}\n      <div style={{ flex: 1, minWidth: 0 }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <span\n            style={{\n              fontWeight: hasUnread\n                ? ('var(--ds-font-weight-semibold)' as unknown as number)\n                : ('var(--ds-font-weight-medium)' as unknown as number),\n              color: 'var(--ds-color-neutral-text-default)',\n              fontSize: 'var(--ds-font-size-sm)',\n            }}\n          >\n            {conversation.userName || 'Ukjent'}\n          </span>\n          <span\n            style={{\n              fontSize: 'var(--ds-font-size-xs)',\n              color: 'var(--ds-color-neutral-text-subtle)',\n            }}\n          >\n            {conversation.lastMessageTime ? formatTimeAgo(conversation.lastMessageTime) : ''}\n          </span>\n        </div>\n        <div\n          style={{\n            fontSize: 'var(--ds-font-size-xs)',\n            color: hasUnread\n              ? 'var(--ds-color-neutral-text-default)'\n              : 'var(--ds-color-neutral-text-subtle)',\n            fontWeight: hasUnread\n              ? ('var(--ds-font-weight-medium)' as unknown as number)\n              : ('var(--ds-font-weight-regular)' as unknown as number),\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            marginTop: 'var(--ds-border-width-medium)',\n          }}\n        >\n          {conversation.lastMessage || conversation.subject || 'Ingen meldinger'}\n        </div>\n      </div>\n\n      {/* Unread badge */}\n      {hasUnread && (\n        <span\n          style={{\n            minWidth: 'var(--ds-spacing-5)',\n            height: 'var(--ds-spacing-5)',\n            borderRadius: 'var(--ds-border-radius-full)',\n            backgroundColor: 'var(--ds-color-accent-base-default)',\n            color: 'var(--ds-color-accent-contrast-default)',\n            fontSize: 'var(--ds-font-size-2)',\n            fontWeight: 'var(--ds-font-weight-semibold)' as unknown as number,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '0 var(--ds-spacing-1-5)',\n          }}\n        >\n          {conversation.unreadCount}\n        </span>\n      )}\n    </Button>\n  );\n}\n\n// =============================================================================\n// ConversationList\n// =============================================================================\n\nexport interface ConversationListProps {\n  conversations: ConversationItem[];\n  selectedId?: string | null;\n  onSelect?: (id: string) => void;\n  isLoading?: boolean;\n  searchPlaceholder?: string;\n  emptyMessage?: string;\n  formatTimeAgo?: (date: string) => string;\n  filterTabs?: { id: string; label: string; count?: number }[];\n  activeFilter?: string;\n  onFilterChange?: (filterId: string) => void;\n}\n\n/**\n * List of conversations with search and filters\n */\nexport function ConversationList({\n  conversations,\n  selectedId,\n  onSelect,\n  isLoading,\n  searchPlaceholder = 'Søk i samtaler...',\n  emptyMessage = 'Ingen samtaler',\n  formatTimeAgo = defaultFormatTimeAgo,\n  filterTabs,\n  activeFilter,\n  onFilterChange,\n}: ConversationListProps) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const filteredConversations = searchQuery\n    ? conversations.filter(\n        (c) =>\n          c.userName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          c.subject?.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n    : conversations;\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n      {/* Search */}\n      <div\n        style={{\n          padding: 'var(--ds-spacing-4)',\n          borderBottom: '1px solid var(--ds-color-neutral-border-subtle)',\n        }}\n      >\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 'var(--ds-spacing-2)',\n            padding: 'var(--ds-spacing-2) var(--ds-spacing-3)',\n            backgroundColor: 'var(--ds-color-neutral-surface-default)',\n            borderRadius: 'var(--ds-border-radius-md)',\n            border: '1px solid var(--ds-color-neutral-border-default)',\n          }}\n        >\n          <SearchIcon size={16} />\n          <input\n            type=\"text\"\n            placeholder={searchPlaceholder}\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            style={{\n              flex: 1,\n              border: 'none',\n              background: 'none',\n              outline: 'none',\n              fontSize: 'var(--ds-font-size-sm)',\n              color: 'var(--ds-color-neutral-text-default)',\n            }}\n          />\n        </div>\n      </div>\n\n      {/* Filter tabs */}\n      {filterTabs && filterTabs.length > 0 && (\n        <div\n          style={{\n            display: 'flex',\n            gap: 'var(--ds-spacing-2)',\n            padding: 'var(--ds-spacing-3) var(--ds-spacing-4)',\n            borderBottom: '1px solid var(--ds-color-neutral-border-subtle)',\n            overflowX: 'auto',\n          }}\n        >\n          {filterTabs.map((tab) => (\n            <Button\n              key={tab.id}\n              type=\"button\"\n              onClick={() => onFilterChange?.(tab.id)}\n              data-color={activeFilter === tab.id ? 'accent' : 'neutral'}\n              style={{\n                padding: 'var(--ds-spacing-1) var(--ds-spacing-3)',\n                borderRadius: 'var(--ds-border-radius-full)',\n                border: 'none',\n                fontSize: 'var(--ds-font-size-xs)',\n                fontWeight: 'var(--ds-font-weight-medium)' as unknown as number,\n                cursor: 'pointer',\n                whiteSpace: 'nowrap',\n                backgroundColor:\n                  activeFilter === tab.id\n                    ? 'var(--ds-color-accent-base-default)'\n                    : 'var(--ds-color-neutral-surface-default)',\n                color:\n                  activeFilter === tab.id\n                    ? 'var(--ds-color-accent-contrast-default)'\n                    : 'var(--ds-color-neutral-text-default)',\n              }}\n            >\n              {tab.label}\n              {tab.count !== undefined && tab.count > 0 && (\n                <span style={{ marginLeft: 'var(--ds-spacing-1)', opacity: 0.8 }}>\n                  ({tab.count})\n                </span>\n              )}\n            </Button>\n          ))}\n        </div>\n      )}\n\n      {/* Conversation list */}\n      <div style={{ flex: 1, overflowY: 'auto' }}>\n        {isLoading ? (\n          <div\n            style={{ display: 'flex', justifyContent: 'center', padding: 'var(--ds-spacing-8)' }}\n          >\n            <Spinner aria-label=\"Laster samtaler...\" />\n          </div>\n        ) : filteredConversations.length === 0 ? (\n          <div style={{ padding: 'var(--ds-spacing-8)', textAlign: 'center' }}>\n            <Paragraph style={{ color: 'var(--ds-color-neutral-text-subtle)', margin: 0 }}>\n              {emptyMessage}\n            </Paragraph>\n          </div>\n        ) : (\n          filteredConversations.map((conversation) => (\n            <ConversationListItem\n              key={conversation.id}\n              conversation={conversation}\n              isSelected={selectedId === conversation.id}\n              onClick={() => onSelect?.(conversation.id)}\n              formatTimeAgo={formatTimeAgo}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\n// =============================================================================\n// MessageBubble\n// =============================================================================\n\nexport interface MessageBubbleProps {\n  message: MessageItem;\n  isFromCurrentUser?: boolean;\n  showReadReceipt?: boolean;\n}\n\n/**\n * Single message bubble\n */\nexport function MessageBubble({ message, isFromCurrentUser, showReadReceipt }: MessageBubbleProps) {\n  const fromMe = isFromCurrentUser ?? message.isFromCurrentUser;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: fromMe ? 'flex-end' : 'flex-start',\n        marginBottom: 'var(--ds-spacing-2)',\n      }}\n    >\n      <div\n        style={{\n          maxWidth: '70%',\n          padding: 'var(--ds-spacing-3) var(--ds-spacing-4)',\n          borderRadius: fromMe\n            ? 'var(--ds-border-radius-lg) var(--ds-border-radius-lg) var(--ds-border-radius-sm) var(--ds-border-radius-lg)'\n            : 'var(--ds-border-radius-lg) var(--ds-border-radius-lg) var(--ds-border-radius-lg) var(--ds-border-radius-sm)',\n          backgroundColor: fromMe\n            ? 'var(--ds-color-accent-base-default)'\n            : 'var(--ds-color-neutral-surface-default)',\n          color: fromMe\n            ? 'var(--ds-color-accent-contrast-default)'\n            : 'var(--ds-color-neutral-text-default)',\n        }}\n      >\n        <Paragraph data-size=\"sm\" style={{ margin: 0, whiteSpace: 'pre-wrap' }}>\n          {message.content}\n        </Paragraph>\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n            gap: 'var(--ds-spacing-1)',\n            marginTop: 'var(--ds-spacing-1)',\n          }}\n        >\n          <span\n            style={{\n              fontSize: 'var(--ds-font-size-1)',\n              opacity: 0.7,\n            }}\n          >\n            {formatMessageTime(message.createdAt)}\n          </span>\n          {showReadReceipt && fromMe && (\n            <span style={{ opacity: 0.7 }}>\n              {message.isRead ? <DoubleCheckIcon /> : <CheckIcon />}\n            </span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// =============================================================================\n// ChatThread\n// =============================================================================\n\nexport interface ChatThreadProps {\n  messages: MessageItem[];\n  currentUserId?: string;\n  isLoading?: boolean;\n  onSendMessage?: (content: string) => void;\n  isSending?: boolean;\n  placeholder?: string;\n  emptyMessage?: string;\n  showDateSeparators?: boolean;\n  showReadReceipts?: boolean;\n  header?: ReactNode;\n}\n\n/**\n * Complete chat thread with messages and input\n */\nexport function ChatThread({\n  messages,\n  currentUserId,\n  isLoading,\n  onSendMessage,\n  isSending,\n  placeholder = 'Skriv en melding...',\n  emptyMessage = 'Ingen meldinger ennå',\n  showDateSeparators = true,\n  showReadReceipts = true,\n  header,\n}: ChatThreadProps) {\n  const [inputValue, setInputValue] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Auto-scroll to bottom\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const handleSend = () => {\n    if (inputValue.trim() && onSendMessage) {\n      onSendMessage(inputValue.trim());\n      setInputValue('');\n      inputRef.current?.focus();\n    }\n  };\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  // Group messages by date\n  const groupedMessages = showDateSeparators ? groupMessagesByDate(messages) : { today: messages };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n      {/* Header */}\n      {header && (\n        <div style={{ borderBottom: '1px solid var(--ds-color-neutral-border-subtle)' }}>\n          {header}\n        </div>\n      )}\n\n      {/* Messages */}\n      <div style={{ flex: 1, overflowY: 'auto', padding: 'var(--ds-spacing-4)' }}>\n        {isLoading ? (\n          <div\n            style={{ display: 'flex', justifyContent: 'center', padding: 'var(--ds-spacing-8)' }}\n          >\n            <Spinner aria-label=\"Laster meldinger...\" />\n          </div>\n        ) : messages.length === 0 ? (\n          <div style={{ textAlign: 'center', padding: 'var(--ds-spacing-8)' }}>\n            <Paragraph style={{ color: 'var(--ds-color-neutral-text-subtle)', margin: 0 }}>\n              {emptyMessage}\n            </Paragraph>\n          </div>\n        ) : (\n          Object.entries(groupedMessages).map(([date, msgs]) => (\n            <div key={date}>\n              {showDateSeparators && (\n                <div\n                  style={{\n                    textAlign: 'center',\n                    margin: 'var(--ds-spacing-4) 0',\n                  }}\n                >\n                  <span\n                    style={{\n                      padding: 'var(--ds-spacing-1) var(--ds-spacing-3)',\n                      backgroundColor: 'var(--ds-color-neutral-surface-default)',\n                      borderRadius: 'var(--ds-border-radius-full)',\n                      fontSize: 'var(--ds-font-size-xs)',\n                      color: 'var(--ds-color-neutral-text-subtle)',\n                    }}\n                  >\n                    {date}\n                  </span>\n                </div>\n              )}\n              {msgs.map((message) => (\n                <MessageBubble\n                  key={message.id}\n                  message={message}\n                  {...(currentUserId && { isFromCurrentUser: message.senderId === currentUserId })}\n                  showReadReceipt={showReadReceipts}\n                />\n              ))}\n            </div>\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input */}\n      {onSendMessage && (\n        <div\n          style={{\n            padding: 'var(--ds-spacing-4)',\n            borderTop: '1px solid var(--ds-color-neutral-border-subtle)',\n            backgroundColor: 'var(--ds-color-neutral-background-subtle)',\n          }}\n        >\n          <div\n            style={{\n              display: 'flex',\n              gap: 'var(--ds-spacing-2)',\n              alignItems: 'center',\n            }}\n          >\n            <input\n              ref={inputRef}\n              type=\"text\"\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              onKeyDown={handleKeyDown}\n              placeholder={placeholder}\n              disabled={isSending}\n              style={{\n                flex: 1,\n                padding: 'var(--ds-spacing-3)',\n                borderRadius: 'var(--ds-border-radius-md)',\n                border: '1px solid var(--ds-color-neutral-border-default)',\n                fontSize: 'var(--ds-font-size-sm)',\n                outline: 'none',\n              }}\n            />\n            <Button\n              type=\"button\"\n              variant=\"primary\"\n              onClick={handleSend}\n              disabled={!inputValue.trim() || isSending}\n              aria-label=\"Send melding\"\n            >\n              <SendIcon size={18} />\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// Helpers\n// =============================================================================\n\nfunction getInitials(name?: string): string {\n  if (!name) return '?';\n  return name\n    .split(' ')\n    .map((n) => n[0])\n    .join('')\n    .toUpperCase()\n    .slice(0, 2);\n}\n\nfunction defaultFormatTimeAgo(dateStr: string): string {\n  const date = new Date(dateStr);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n\n  if (diffMins < 1) return 'Nå';\n  if (diffMins < 60) return `${diffMins}m`;\n  if (diffHours < 24) return `${diffHours}t`;\n  if (diffDays < 7) return `${diffDays}d`;\n  return date.toLocaleDateString('nb-NO', { day: 'numeric', month: 'short' });\n}\n\nfunction formatMessageTime(dateStr: string): string {\n  const date = new Date(dateStr);\n  return date.toLocaleTimeString('nb-NO', { hour: '2-digit', minute: '2-digit' });\n}\n\nfunction groupMessagesByDate(messages: MessageItem[]): Record<string, MessageItem[]> {\n  const groups: Record<string, MessageItem[]> = {};\n  const today = new Date();\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  messages.forEach((message) => {\n    const date = new Date(message.createdAt);\n    let key: string;\n\n    if (date.toDateString() === today.toDateString()) {\n      key = 'I dag';\n    } else if (date.toDateString() === yesterday.toDateString()) {\n      key = 'I går';\n    } else {\n      key = date.toLocaleDateString('nb-NO', { weekday: 'long', day: 'numeric', month: 'long' });\n    }\n\n    if (!groups[key]) groups[key] = [];\n    groups[key]!.push(message);\n  });\n\n  return groups;\n}\n"],"names":["cov_fs9bcje9f","size","BellIcon","s","jsxs","height","viewBox","fill","stroke","strokeWidth","children","d","jsx","SendIcon","x1","y1","x2","y2","points","SearchIcon","cx","cy","r","CheckIcon","DoubleCheckIcon","onClick","maxCount","displayCount","count","Button","style","position","display","alignItems","justifyContent","width","borderRadius","border","background","cursor","color","transition","top","right","minWidth","padding","backgroundColor","fontSize","fontWeight","conversation","ConversationListItem","isSelected","formatTimeAgo","defaultFormatTimeAgo","hasUnread","gap","textAlign","borderLeft","flexShrink","bottom","flex","b","whiteSpace","overflow","textOverflow","marginTop","conversations","ConversationList","selectedId","onSelect","isLoading","searchPlaceholder","emptyMessage","filterTabs","activeFilter","onFilterChange","searchQuery","filteredConversations","c","_b","flexDirection","borderBottom","type","placeholder","value","onChange","setSearchQuery","e","outline","overflowX","tab","marginLeft","opacity","overflowY","Spinner","Paragraph","margin","message","MessageBubble","isFromCurrentUser","showReadReceipt","marginBottom","fromMe","maxWidth","messages","ChatThread","currentUserId","onSendMessage","isSending","showDateSeparators","showReadReceipts","header","inputValue","setInputValue","messagesEndRef","useRef","useState","inputRef","useEffect","current","behavior","handleSend","focus","_a","handleKeyDown","preventDefault","today","groupedMessages","date","msgs","senderId","ref","borderTop","disabled","variant","name","split","f","n","toUpperCase","dateStr","now","diffMs","getTime","diffMins","Math","floor","diffHours","diffDays","toLocaleDateString","month","toLocaleTimeString","minute","yesterday","Date","forEach","key","toDateString","weekday","day","groups","push"],"mappings":"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"}