{"version":3,"file":"ErrorBoundary.stories-BwOjzEUo.js","sources":["../../packages/platform-ui/src/blocks/ErrorBoundary.tsx","../../packages/platform-ui/src/stories/Blocks/ErrorBoundary.stories.tsx"],"sourcesContent":["/**\n * Error Boundary Component\n *\n * Catches JavaScript errors anywhere in the child component tree\n * and displays a user-friendly error screen with recovery options.\n *\n * This is a class component as required by React's error boundary API.\n *\n * Domain-agnostic - all integrations (Sentry, audit logging) should be\n * injected via callbacks.\n *\n * @example\n * ```tsx\n * // In app with SDK\n * import { auditService } from '@xala-technologies/platform/sdk';\n * import * as Sentry from '@sentry/react';\n *\n * <ErrorBoundary\n *   onError={(error, errorInfo) => {\n *     // Sentry integration\n *     Sentry.captureException(error, {\n *       contexts: { react: { componentStack: errorInfo.componentStack } },\n *     });\n *     // Audit logging\n *     auditService.logError('react_error_boundary', 'application', error, {\n *       componentStack: errorInfo.componentStack,\n *     });\n *   }}\n *   labels={{\n *     title: t('errors.somethingWentWrong'),\n *     defaultDescription: t('errors.unexpectedError'),\n *     retryButton: t('common.retry'),\n *   }}\n * >\n *   <App />\n * </ErrorBoundary>\n * ```\n */\nimport { Component, type ErrorInfo, type ReactNode } from 'react';\nimport { ErrorScreen } from './AuthComponents';\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport interface ErrorBoundaryLabels {\n  title: string;\n  defaultDescription: string;\n  retryButton: string;\n}\n\nexport interface ErrorBoundaryProps {\n  /** Child components to wrap and catch errors for */\n  children: ReactNode;\n  /** Custom fallback UI to render when an error occurs */\n  fallback?: ReactNode;\n  /** Callback when an error is caught (for error tracking, audit logging, etc.) */\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n  /** Custom title for the error screen (overrides labels.title) */\n  errorTitle?: string;\n  /** Custom description for the error screen */\n  errorDescription?: string;\n  /** Show the retry button (default: true) */\n  showRetryButton?: boolean;\n  /** Custom retry button text (overrides labels.retryButton) */\n  retryButtonText?: string;\n  /** Custom retry handler (defaults to page reload) */\n  onRetry?: () => void;\n  /** Labels for i18n */\n  labels?: Partial<ErrorBoundaryLabels>;\n}\n\n// =============================================================================\n// Default Labels\n// =============================================================================\n\nconst DEFAULT_LABELS: ErrorBoundaryLabels = {\n  title: 'Noe gikk galt',\n  defaultDescription: 'En uventet feil har oppstatt. Vennligst prov igjen.',\n  retryButton: 'Last siden pa nytt',\n};\n\n// =============================================================================\n// ErrorBoundary - React Error Boundary Class Component\n// =============================================================================\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    // Update state so the next render will show the fallback UI\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    // Log error to console for development debugging\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n\n    // Call the onError callback if provided\n    // This is the integration point for Sentry, audit logging, etc.\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n  }\n\n  handleRetry = (): void => {\n    // Reset error state\n    this.setState({ hasError: false, error: null });\n\n    // Use custom retry handler if provided, otherwise reload the page\n    if (this.props.onRetry) {\n      this.props.onRetry();\n    } else {\n      window.location.reload();\n    }\n  };\n\n  render(): ReactNode {\n    const {\n      children,\n      fallback,\n      errorTitle,\n      errorDescription,\n      showRetryButton = true,\n      retryButtonText,\n      labels: customLabels,\n    } = this.props;\n\n    const labels = { ...DEFAULT_LABELS, ...customLabels };\n\n    if (this.state.hasError) {\n      // Use custom fallback if provided\n      if (fallback) {\n        return fallback;\n      }\n\n      // Use ErrorScreen with configured or default text\n      return (\n        <ErrorScreen\n          title={errorTitle || labels.title}\n          description={errorDescription || this.state.error?.message || labels.defaultDescription}\n          showRetryButton={showRetryButton}\n          retryButtonText={retryButtonText || labels.retryButton}\n          onRetry={this.handleRetry}\n        />\n      );\n    }\n\n    return children;\n  }\n}\n\n// =============================================================================\n// withErrorBoundary - Higher-Order Component wrapper\n// =============================================================================\n\nexport interface WithErrorBoundaryOptions {\n  /** Custom fallback UI to render when an error occurs */\n  fallback?: ReactNode;\n  /** Callback when an error is caught */\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n  /** Custom title for the error screen */\n  errorTitle?: string;\n  /** Custom description for the error screen */\n  errorDescription?: string;\n  /** Labels for i18n */\n  labels?: Partial<ErrorBoundaryLabels>;\n}\n\n/**\n * Higher-order component that wraps a component with an ErrorBoundary\n *\n * @example\n * const SafeComponent = withErrorBoundary(UnsafeComponent, {\n *   errorTitle: 'Komponent feil',\n *   onError: (error) => logToService(error),\n * });\n */\nexport function withErrorBoundary<P extends object>(\n  WrappedComponent: React.ComponentType<P>,\n  options: WithErrorBoundaryOptions = {}\n): React.FC<P> {\n  const displayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n  const ComponentWithErrorBoundary: React.FC<P> = (props) => {\n    // Build props object only with defined values to satisfy exactOptionalPropertyTypes\n    const boundaryProps: Partial<ErrorBoundaryProps> & { children: ReactNode } = {\n      children: <WrappedComponent {...props} />,\n    };\n\n    if (options.fallback !== undefined) {\n      boundaryProps.fallback = options.fallback;\n    }\n    if (options.onError !== undefined) {\n      boundaryProps.onError = options.onError;\n    }\n    if (options.errorTitle !== undefined) {\n      boundaryProps.errorTitle = options.errorTitle;\n    }\n    if (options.errorDescription !== undefined) {\n      boundaryProps.errorDescription = options.errorDescription;\n    }\n    if (options.labels !== undefined) {\n      boundaryProps.labels = options.labels;\n    }\n\n    return <ErrorBoundary {...(boundaryProps as ErrorBoundaryProps)} />;\n  };\n\n  ComponentWithErrorBoundary.displayName = `withErrorBoundary(${displayName})`;\n\n  return ComponentWithErrorBoundary;\n}\n","import type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport React from 'react';\nimport { useT } from '@xala-technologies/i18n';\nimport { ErrorBoundary } from '../../blocks/ErrorBoundary';\n\nconst meta: Meta<typeof ErrorBoundary> = {\n  title: 'Blocks/ErrorBoundary',\n  component: ErrorBoundary,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n## ErrorBoundary\n\nCatches JavaScript errors anywhere in the child component tree and displays a user-friendly error screen with recovery options.\n\n### Features\n- Catches React errors\n- Custom error messages\n- Retry functionality\n- Error callback for logging\n- Custom fallback UI\n\n### Usage\n\\`\\`\\`tsx\n<ErrorBoundary\n  onError={(error, errorInfo) => {\n    // Log to error tracking service\n  }}\n  labels={{\n    title: 'Something went wrong',\n    defaultDescription: 'An unexpected error occurred',\n    retryButton: 'Retry',\n  }}\n>\n  <App />\n</ErrorBoundary>\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  args: {\n    onError: fn(),\n    onRetry: fn(),\n  },\n  tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Component that throws an error\nconst ThrowError = ({ shouldThrow }: { shouldThrow: boolean }) => {\n  if (shouldThrow) {\n    throw new Error('Test error for ErrorBoundary');\n  }\n  return <div>No error</div>;\n};\n\n// Basic error boundary\nexport const Default: Story = {\n  args: {\n    showRetryButton: true,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '500px' }}>\n        <ErrorBoundary {...args}>\n          <ThrowError shouldThrow={true} />\n        </ErrorBoundary>\n      </div>\n    );\n  },\n};\n\n// Custom error title\nexport const CustomTitle: Story = {\n  args: {\n    errorTitle: 'Oops! Something broke',\n    showRetryButton: true,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '500px' }}>\n        <ErrorBoundary {...args}>\n          <ThrowError shouldThrow={true} />\n        </ErrorBoundary>\n      </div>\n    );\n  },\n};\n\n// Custom error description\nexport const CustomDescription: Story = {\n  args: {\n    errorDescription: 'A specific error occurred. Please try again or contact support.',\n    showRetryButton: true,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '500px' }}>\n        <ErrorBoundary {...args}>\n          <ThrowError shouldThrow={true} />\n        </ErrorBoundary>\n      </div>\n    );\n  },\n};\n\n// Without retry button\nexport const WithoutRetryButton: Story = {\n  args: {\n    showRetryButton: false,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '500px' }}>\n        <ErrorBoundary {...args}>\n          <ThrowError shouldThrow={true} />\n        </ErrorBoundary>\n      </div>\n    );\n  },\n};\n\n// Custom retry button text\nexport const CustomRetryText: Story = {\n  args: {\n    retryButtonText: 'Try Again',\n    showRetryButton: true,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '500px' }}>\n        <ErrorBoundary {...args}>\n          <ThrowError shouldThrow={true} />\n        </ErrorBoundary>\n      </div>\n    );\n  },\n};\n\n// Custom labels\nexport const CustomLabels: Story = {\n  args: {\n    labels: {\n      title: 'Error Occurred',\n      defaultDescription: 'Something went wrong. Please try again.',\n      retryButton: 'Reload Page',\n    },\n    showRetryButton: true,\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '500px' }}>\n        <ErrorBoundary {...args}>\n          <ThrowError shouldThrow={true} />\n        </ErrorBoundary>\n      </div>\n    );\n  },\n};\n\n// Custom fallback\nexport const CustomFallback: Story = {\n  args: {\n    fallback: (\n      <div\n        style={{\n          padding: 'var(--ds-spacing-8)',\n          textAlign: 'center',\n          border: '2px dashed var(--ds-color-danger-border-default)',\n          borderRadius: 'var(--ds-border-radius-md)',\n        }}\n      >\n        <h2>Custom Error UI</h2>\n        <p>This is a custom fallback component.</p>\n      </div>\n    ),\n  },\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '500px' }}>\n        <ErrorBoundary {...args}>\n          <ThrowError shouldThrow={true} />\n        </ErrorBoundary>\n      </div>\n    );\n  },\n};\n\n// Working component (no error)\nexport const NoError: Story = {\n  args: {},\n  render: function Render(args) {\n    const t = useT();\n    return (\n      <div style={{ width: '500px' }}>\n        <ErrorBoundary {...args}>\n          <div style={{ padding: 'var(--ds-spacing-4)' }}>\n            <h3>{t('storybook.demo.cardTitle')}</h3>\n            <p>{t('storybook.demo.cardDescription')}</p>\n          </div>\n        </ErrorBoundary>\n      </div>\n    );\n  },\n};\n"],"names":["cov_133q2fl2v4","actualCoverage","title","defaultDescription","retryButton","constructor","Component","f","s","handleRetry","hasError","error","onRetry","window","location","reload","componentDidCatch","errorInfo","console","onError","render","children","fallback","errorTitle","errorDescription","showRetryButton","retryButtonText","labels","DEFAULT_LABELS","customLabels","ErrorScreen","description","b","_a","withErrorBoundary","WrappedComponent","options","displayName","ComponentWithErrorBoundary","props","boundaryProps","meta","component","ErrorBoundary","parameters","layout","docs","args","fn","tags","ThrowError","shouldThrow","Error","jsx","Default","useT","width","CustomTitle","CustomDescription","WithoutRetryButton","CustomRetryText","CustomLabels","CustomFallback","jsxs","padding","textAlign","border","borderRadius","NoError","t","source","originalSource"],"mappings":"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"}