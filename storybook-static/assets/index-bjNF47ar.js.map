{"version":3,"file":"index-bjNF47ar.js","sources":["../../node_modules/.pnpm/@xala-technologies+i18n@1.0.0_react@18.3.1/node_modules/@xala-technologies/i18n/dist/index.js"],"sourcesContent":["export { createNamespacedResolver, createResolver, getNamespaceKeys, hasTranslation, interpolate } from './chunk-7DWFN63W.js';\nimport { I18nContext } from './chunk-DMXJFGWX.js';\nexport { DEFAULT_CORE_TRANSLATIONS, I18nContext, I18nProvider, LazyI18nProvider, clearPersistedLocale, createLazyLoader, getCookieLocale, getLocalStorageLocale, getPersistedLocale, persistLocale, setCookieLocale, setLocalStorageLocale, useLazyI18n, useLazyLocale, useLazyT } from './chunk-DMXJFGWX.js';\nexport { getStoredLocale, interpolate as interpolateString, setStoredLocale } from './chunk-OZXYWYWA.js';\nimport { useContext, useCallback } from 'react';\n\n// src/formatters.ts\nvar DEFAULT_LOCALE = \"nb-NO\";\nfunction toFullLocale(locale) {\n  if (locale === \"nb\") return \"nb-NO\";\n  if (locale === \"en\") return \"en-US\";\n  return locale;\n}\nfunction formatDate(date, locale = DEFAULT_LOCALE, options = {}) {\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  if (isNaN(d.getTime())) return \"\";\n  const defaultOptions = {\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    ...options\n  };\n  return new Intl.DateTimeFormat(toFullLocale(locale), defaultOptions).format(d);\n}\nfunction formatTime(date, locale = DEFAULT_LOCALE, options = {}) {\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  if (isNaN(d.getTime())) return \"\";\n  const defaultOptions = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    ...options\n  };\n  return new Intl.DateTimeFormat(toFullLocale(locale), defaultOptions).format(d);\n}\nfunction formatDateTime(date, locale = DEFAULT_LOCALE, options = {}) {\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  if (isNaN(d.getTime())) return \"\";\n  const defaultOptions = {\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    ...options\n  };\n  return new Intl.DateTimeFormat(toFullLocale(locale), defaultOptions).format(d);\n}\nfunction formatNumber(value, locale = DEFAULT_LOCALE, options = {}) {\n  return new Intl.NumberFormat(toFullLocale(locale), options).format(value);\n}\nfunction formatCurrency(value, currency = \"NOK\", locale = DEFAULT_LOCALE, options = {}) {\n  return new Intl.NumberFormat(toFullLocale(locale), {\n    style: \"currency\",\n    currency,\n    ...options\n  }).format(value);\n}\nfunction formatPercent(value, locale = DEFAULT_LOCALE, options = {}) {\n  return new Intl.NumberFormat(toFullLocale(locale), {\n    style: \"percent\",\n    maximumFractionDigits: 0,\n    ...options\n  }).format(value);\n}\nfunction formatRelativeTime(date, locale = \"nb-NO\") {\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  if (isNaN(d.getTime())) return \"\";\n  const now = /* @__PURE__ */ new Date();\n  const diffMs = d.getTime() - now.getTime();\n  const diffMinutes = Math.round(diffMs / 6e4);\n  const diffHours = Math.round(diffMs / 36e5);\n  const diffDays = Math.round(diffMs / 864e5);\n  const rtf = new Intl.RelativeTimeFormat(locale, { numeric: \"auto\" });\n  if (Math.abs(diffMinutes) < 60) {\n    return rtf.format(diffMinutes, \"minutes\");\n  } else if (Math.abs(diffHours) < 24) {\n    return rtf.format(diffHours, \"hours\");\n  } else {\n    return rtf.format(diffDays, \"days\");\n  }\n}\nfunction formatDuration(value, options = {}) {\n  const { style = \"compact\", unit = \"milliseconds\", locale = \"nb-NO\" } = options;\n  if (value <= 0) return \"0m\";\n  const ms = unit === \"seconds\" ? value * 1e3 : value;\n  const days = Math.floor(ms / 864e5);\n  const hours = Math.floor(ms % 864e5 / 36e5);\n  const minutes = Math.floor(ms % 36e5 / 6e4);\n  const seconds = Math.floor(ms % 6e4 / 1e3);\n  const labels = {\n    nb: {\n      compact: { d: \"d\", h: \"t\", m: \"m\", s: \"s\" },\n      long: {\n        d: (n) => n === 1 ? \"dag\" : \"dager\",\n        h: (n) => n === 1 ? \"time\" : \"timer\",\n        m: (n) => n === 1 ? \"minutt\" : \"minutter\",\n        s: (n) => n === 1 ? \"sekund\" : \"sekunder\"\n      }\n    },\n    en: {\n      compact: { d: \"d\", h: \"h\", m: \"m\", s: \"s\" },\n      long: {\n        d: (n) => n === 1 ? \"day\" : \"days\",\n        h: (n) => n === 1 ? \"hour\" : \"hours\",\n        m: (n) => n === 1 ? \"minute\" : \"minutes\",\n        s: (n) => n === 1 ? \"second\" : \"seconds\"\n      }\n    }\n  };\n  const localeKey = locale.startsWith(\"nb\") ? \"nb\" : \"en\";\n  const labelSet = labels[localeKey][style];\n  const parts = [];\n  if (days > 0) {\n    const label = style === \"compact\" ? labelSet.d : labelSet.d(days);\n    parts.push(`${days}${style === \"compact\" ? label : ` ${label}`}`);\n  }\n  if (hours > 0) {\n    const label = style === \"compact\" ? labelSet.h : labelSet.h(hours);\n    parts.push(`${hours}${style === \"compact\" ? label : ` ${label}`}`);\n  }\n  if (minutes > 0) {\n    const label = style === \"compact\" ? labelSet.m : labelSet.m(minutes);\n    parts.push(`${minutes}${style === \"compact\" ? label : ` ${label}`}`);\n  }\n  if (seconds > 0 && days === 0 && hours === 0) {\n    const label = style === \"compact\" ? labelSet.s : labelSet.s(seconds);\n    parts.push(`${seconds}${style === \"compact\" ? label : ` ${label}`}`);\n  }\n  if (parts.length === 0) return \"0m\";\n  return parts.join(\" \");\n}\n\n// src/hooks.ts\nfunction useI18n() {\n  const context = useContext(I18nContext);\n  if (!context) {\n    throw new Error(\"useI18n must be used within an I18nProvider\");\n  }\n  return context;\n}\nfunction useT() {\n  const { t } = useI18n();\n  return t;\n}\nfunction useLocale() {\n  const { locale, setLocale } = useI18n();\n  return { locale, setLocale };\n}\nfunction useFormatRelativeTime() {\n  const { locale } = useI18n();\n  return useCallback(\n    (date) => {\n      const localeCode = locale === \"nb\" ? \"nb-NO\" : \"en-US\";\n      return formatRelativeTime(date, localeCode);\n    },\n    [locale]\n  );\n}\nfunction useFormatDuration() {\n  const { locale } = useI18n();\n  return useCallback(\n    (value, options) => {\n      const localeCode = locale === \"nb\" ? \"nb-NO\" : \"en-US\";\n      return formatDuration(value, { ...options, locale: localeCode });\n    },\n    [locale]\n  );\n}\n\n// src/index.ts\nfunction mergeTranslations(...registries) {\n  const result = {\n    nb: {},\n    en: {}\n  };\n  for (const registry of registries) {\n    for (const [locale, translations] of Object.entries(registry)) {\n      if (!result[locale]) {\n        result[locale] = {};\n      }\n      Object.assign(result[locale], translations);\n    }\n  }\n  return result;\n}\n\nexport { formatCurrency, formatDate, formatDateTime, formatDuration, formatNumber, formatPercent, formatRelativeTime, formatTime, mergeTranslations, useFormatDuration, useFormatRelativeTime, useI18n, useLocale, useT };\n//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map"],"names":["useI18n","context","useContext","I18nContext","useT","useLocale","locale","setLocale"],"mappings":"oFAqIA,SAASA,GAAU,CACjB,MAAMC,EAAUC,EAAAA,WAAWC,CAAW,EACtC,GAAI,CAACF,EACH,MAAM,IAAI,MAAM,6CAA6C,EAE/D,OAAOA,CACT,CACA,SAASG,GAAO,CACd,KAAM,CAAE,CAAC,EAAKJ,EAAO,EACrB,OAAO,CACT,CACA,SAASK,GAAY,CACnB,KAAM,CAAE,OAAAC,EAAQ,UAAAC,CAAS,EAAKP,EAAO,EACrC,MAAO,CAAE,OAAAM,EAAQ,UAAAC,CAAS,CAC5B","x_google_ignoreList":[0]}