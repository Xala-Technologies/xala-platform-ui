{"version":3,"file":"Spinner.stories-ktMGXHO0.js","sources":["../../packages/platform-ui/src/stories/Components/Spinner.stories.tsx"],"sourcesContent":["import type { Meta, StoryObj } from '@storybook/react';\nimport React from 'react';\nimport { useT } from '@xala-technologies/i18n';\nimport { Button, Spinner } from '../../index';\n\n/**\n * Spinner component from Digdir Designsystemet.\n *\n * Spinner for indicating loading states and async operations.\n *\n * @see https://designsystemet.no/en/components/docs/spinner/overview\n */\nconst meta: Meta<typeof Spinner> = {\n  title: 'Components/Spinner',\n  component: Spinner,\n  parameters: {\n    docs: {\n      description: {\n        component: `\nSpinner is a loading indicator that shows users that content is being loaded or processed. It provides visual feedback during asynchronous operations.\n\n## Variants\n\n- **Default** - Standard spinner\n- **With label** - Spinner with descriptive text\n- **Inline** - Small spinner for inline loading states\n- **Full page** - Centered spinner for page-level loading\n\n## Sizes\n\nAvailable in three sizes: **sm**, **md** (default), **lg**.\n\n## Colors\n\nAvailable colors: **neutral**, **accent**.\n\n## When to Use\n\n- Loading data from API or server\n- Processing user actions or form submissions\n- Waiting for async operations to complete\n- Initial page or component load\n- Refreshing or updating content\n- File uploads or downloads\n\n## Best Practices\n\n### Do\n- Always include descriptive aria-label\n- Pair with loading text when space allows\n- Use appropriate size for context\n- Show spinner only when necessary\n- Remove spinner when content loads\n- Use consistent spinner placement\n- Provide estimated time for long operations\n\n### Don't\n- Don't use spinner without aria-label\n- Don't show spinner for very fast operations (< 300ms)\n- Don't use multiple spinners in same view\n- Don't block entire interface unnecessarily\n- Don't use spinner as decoration\n- Don't forget to remove spinner on error\n\n## Usage Patterns\n\n### Basic Spinner\n\\`\\`\\`tsx\n<Spinner aria-label=\"Loading content\" />\n\\`\\`\\`\n\n### Spinner with Text\n\\`\\`\\`tsx\n<div style={{ display: 'flex', alignItems: 'center', gap: 'var(--ds-spacing-2)' }}>\n  <Spinner data-size=\"sm\" aria-label=\"Loading\" />\n  <span>Loading content...</span>\n</div>\n\\`\\`\\`\n\n### Inline Spinner (in button)\n\\`\\`\\`tsx\n<Button disabled>\n  <Spinner data-size=\"sm\" aria-label=\"Saving\" />\n  Saving...\n</Button>\n\\`\\`\\`\n\n### Full Page Loading\n\\`\\`\\`tsx\n<div style={{\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  minHeight: '400px'\n}}>\n  <Spinner data-size=\"lg\" aria-label=\"Loading page\" />\n</div>\n\\`\\`\\`\n\n### Size Variants\n\\`\\`\\`tsx\n<Spinner data-size=\"sm\" aria-label=\"Loading\" />\n<Spinner data-size=\"md\" aria-label=\"Loading\" />\n<Spinner data-size=\"lg\" aria-label=\"Loading\" />\n\\`\\`\\`\n\n## Anti-Patterns\n\n### Anti-pattern: No Accessible Label\nSpinners without aria-label leave screen reader users without feedback.\n\n### Anti-pattern: Spinner for Fast Operations\nShowing spinner for operations under 300ms creates unnecessary visual noise.\n\n### Anti-pattern: Multiple Spinners\nMultiple spinners in one view confuses users about what's loading.\n\n### Anti-pattern: Permanent Spinners\nForgetting to remove spinner on completion or error frustrates users.\n\n## Accessibility\n\n### Screen Readers\n- Spinner role is announced as \"loading\" or \"busy\"\n- aria-label provides context about what's loading\n- Loading state is announced to screen readers\n- Completion should be announced via aria-live region\n\n### WCAG 2.1 AA Compliance\n- **Text alternative**: aria-label required for all spinners\n- **Status messages**: Loading state communicated to assistive technology\n- **Focus management**: Focus should not be trapped during loading\n- **Timeout**: Provide way to cancel long operations\n- **Color not sole indicator**: Animation provides loading indication\n\n### Spinner with Context\nProvide specific loading context:\n\\`\\`\\`tsx\n<Spinner aria-label=\"Loading user profile data\" />\n\\`\\`\\`\n\n### Announcing Completion\nAnnounce when loading completes:\n\\`\\`\\`tsx\n{isLoading ? (\n  <Spinner aria-label=\"Loading content\" />\n) : (\n  <div role=\"status\" aria-live=\"polite\">\n    Content loaded successfully\n  </div>\n)}\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    'data-size': {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n      description: 'Size variant',\n      table: {\n        defaultValue: { summary: 'md' },\n      },\n    },\n    'data-color': {\n      control: 'select',\n      options: ['neutral', 'accent'],\n      description: 'Color variant',\n      table: {\n        defaultValue: { summary: 'neutral' },\n      },\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj;\n\nexport const Default: Story = {\n  render: function Render() {\n    const t = useT();\n    return <Spinner aria-label={t('platform.common.loading')} />;\n  },\n};\n\nexport const WithLabel: Story = {\n  render: function Render() {\n    const t = useT();\n    return <Spinner aria-label={t('storybook.demo.loadingContent')} />;\n  },\n};\n\nexport const Sizes: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <div style={{ display: 'flex', gap: 'var(--ds-spacing-4)', alignItems: 'center' }}>\n        <Spinner data-size=\"sm\" aria-label={t('platform.common.loading')} />\n        <Spinner data-size=\"md\" aria-label={t('platform.common.loading')} />\n        <Spinner data-size=\"lg\" aria-label={t('platform.common.loading')} />\n      </div>\n    );\n  },\n};\n\nexport const Colors: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <div style={{ display: 'flex', gap: 'var(--ds-spacing-4)', alignItems: 'center' }}>\n        <Spinner data-color=\"neutral\" aria-label={t('platform.common.loading')} />\n        <Spinner data-color=\"accent\" aria-label={t('platform.common.loading')} />\n      </div>\n    );\n  },\n};\n\nexport const InButton: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <Button loading disabled type=\"button\">\n        {t('platform.common.loading')}...\n      </Button>\n    );\n  },\n};\n\nexport const LoadingState: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: 'var(--ds-spacing-4)',\n          padding: 'var(--ds-spacing-10)',\n          border: '1px dashed var(--ds-color-neutral-border-default)',\n          borderRadius: 'var(--ds-border-radius-lg)',\n        }}\n      >\n        <Spinner data-size=\"lg\" aria-label={t('storybook.demo.loadingData')} />\n        <span style={{ color: 'var(--ds-color-neutral-text-subtle)' }}>\n          {t('storybook.demo.loadingData')}...\n        </span>\n      </div>\n    );\n  },\n};\n\n/**\n * All variants overview\n */\nexport const AllVariants: Story = {\n  render: function Render() {\n    const t = useT();\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--ds-spacing-6)' }}>\n        <div>\n          <h3 style={{ marginBottom: 'var(--ds-spacing-3)', fontSize: 'var(--ds-font-size-4)' }}>\n            {t('storybook.story.sizes')}\n          </h3>\n          <div style={{ display: 'flex', gap: 'var(--ds-spacing-4)', alignItems: 'center' }}>\n            <Spinner data-size=\"sm\" aria-label={t('storybook.demo.smallSpinner')} />\n            <Spinner data-size=\"md\" aria-label={t('storybook.demo.mediumSpinner')} />\n            <Spinner data-size=\"lg\" aria-label={t('storybook.demo.largeSpinner')} />\n          </div>\n        </div>\n        <div>\n          <h3 style={{ marginBottom: 'var(--ds-spacing-3)', fontSize: 'var(--ds-font-size-4)' }}>\n            {t('storybook.story.colors')}\n          </h3>\n          <div style={{ display: 'flex', gap: 'var(--ds-spacing-4)', alignItems: 'center' }}>\n            <Spinner data-color=\"neutral\" aria-label={t('storybook.demo.neutralSpinner')} />\n            <Spinner data-color=\"accent\" aria-label={t('storybook.demo.accentSpinner')} />\n          </div>\n        </div>\n        <div>\n          <h3 style={{ marginBottom: 'var(--ds-spacing-3)', fontSize: 'var(--ds-font-size-4)' }}>\n            {t('storybook.story.inButton')}\n          </h3>\n          <Button loading disabled type=\"button\">\n            {t('platform.common.loading')}...\n          </Button>\n        </div>\n      </div>\n    );\n  },\n};\n"],"names":["meta","title","component","Spinner","parameters","docs","description","tags","argTypes","control","options","table","defaultValue","summary","Default","render","t","useT","jsx","WithLabel","Sizes","jsxs","display","gap","alignItems","Colors","InButton","Button","LoadingState","flexDirection","justifyContent","padding","border","borderRadius","color","AllVariants","marginBottom","fontSize","source","originalSource","story"],"mappings":"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"}